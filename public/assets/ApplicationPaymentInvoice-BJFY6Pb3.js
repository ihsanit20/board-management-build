import{_ as E}from"./logo-name-CJ0dX4ea.js";import{_ as O,i as m,o as X,c as i,a as t,t as a,y as x,h as f,n as P,F as T,e as G,l as H,d,q as J,s as K}from"./index-DcmbdSU1.js";import{u as Q}from"./application-payment-Dv4POhla.js";const U={class:"mx-auto max-w-4xl p-4 sm:p-6 print:p-0"},W={class:"mb-4 flex items-center justify-between print:hidden"},Y={class:"text-sm text-slate-500"},Z={key:0,class:"mb-3 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-red-700 text-sm"},tt={key:1,class:"rounded-lg border bg-white p-4"},et={key:2,class:"rounded-2xl border bg-white shadow-sm print:shadow-none print:border-0 overflow-hidden"},st={class:"flex flex-col gap-4 border-b p-6 sm:flex-row sm:items-start sm:justify-between"},at={class:"grid w-full max-w-xs grid-cols-2 gap-x-3 gap-y-1 text-sm"},ot={class:"font-medium"},it={class:"font-medium"},dt={class:"font-medium"},lt={class:"grid gap-4 border-b p-6 sm:grid-cols-2"},nt={class:"rounded-lg border border-slate-200 p-4"},rt={class:"mt-1 text-base font-semibold"},ct={class:"text-sm text-slate-600"},ut={class:"text-sm text-slate-600"},mt={class:"rounded-lg border border-slate-200 p-4"},xt={class:"mt-1 text-base font-semibold"},vt={class:"mt-2 flex flex-wrap gap-2 text-sm"},bt={class:"mt-2 grid grid-cols-2 gap-x-3 text-sm text-slate-700"},pt={class:"font-mono"},ft={class:"grid gap-4 border-b p-6 sm:grid-cols-2"},_t={class:"rounded-lg border border-slate-200 p-4"},gt={class:"mt-1 text-base font-semibold"},wt={class:"rounded-lg border border-slate-200 p-4"},ht={class:"mt-1 text-base font-semibold"},yt={class:"rounded-lg border border-slate-200 p-4 sm:col-span-2"},kt={class:"mt-1 text-sm text-slate-800"},Nt={class:"font-semibold"},St={class:"text-slate-500"},Dt={class:"text-slate-700"},Ct={class:"text-slate-400"},It={class:"flex flex-col items-end p-6"},Bt={class:"w-full max-w-sm rounded-xl border border-slate-200 p-4"},Lt={class:"flex items-center justify-between text-sm"},Pt={class:"font-medium"},Tt={class:"mt-2 border-t pt-2 text-base font-semibold"},Vt={class:"flex items-center justify-between"},jt={class:"grid gap-6 border-t p-6"},Ft={class:"flex flex-col"},At={class:"mt-6 grid grid-cols-1 gap-8 sm:grid-cols-3 print:gap-12"},Rt={class:"w-full max-w-[240px] text-center"},$t={class:"text-sm font-medium"},zt={__name:"ApplicationPaymentInvoice",setup(Mt){const V=J(),j=K(),v=Q(),l=m(()=>Number(V.params.paymentId)),s=m(()=>v.selected),F=m(()=>v.isLoading),_=m(()=>v.error);X(async()=>{if(!(!l.value||Number.isNaN(l.value)))try{await v.fetchPaymentById(l.value)}catch{}});function A(){j.back()}function R(){window.print()}function p(o){return o==null?"—":Number(o).toLocaleString("bn-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}function $(o){if(!o)return"—";const e=new Date(String(o).replace(" ","T"));return isNaN(e)?o:e.toLocaleString("bn-BD",{hour12:!0})}function z(o){const e="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium border";switch((o||"").toLowerCase()){case"completed":case"paid":return e+" border-emerald-300 bg-emerald-50 text-emerald-700";case"pending":return e+" border-amber-300 bg-amber-50 text-amber-700";case"failed":case"cancelled":return e+" border-rose-300 bg-rose-50 text-rose-700";default:return e+" border-slate-300 bg-slate-50 text-slate-700"}}function M(o){const e="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium border";return(o||"").toLowerCase()==="bkash"?e+" border-fuchsia-300 bg-fuchsia-50 text-fuchsia-700":o==="Bank"?e+" border-blue-300 bg-blue-50 text-blue-700":e+" border-slate-300 bg-slate-50 text-slate-700"}const q=m(()=>{var r,c,u;const o=((r=s.value)==null?void 0:r.id)??l.value,e=((u=(c=s.value)==null?void 0:c.institute)==null?void 0:u.institute_code)??"INST",n=new Date().toISOString().slice(0,10).replace(/-/g,"");return`INV-${e}-${o}-${n}`});return(o,e)=>{var n,r,c,u,g,w,h,y,k,N,S,D,C,I,B,L;return d(),i("div",U,[t("div",W,[t("div",null,[e[0]||(e[0]=t("h1",{class:"text-xl font-semibold text-slate-800"},"পেমেন্ট ইনভয়েস",-1)),t("p",Y,"পেমেন্ট আইডি: "+a(l.value),1)]),t("div",{class:"flex gap-2"},[t("button",{class:"btn-3",onClick:A},"ফিরে যান"),t("button",{class:"btn-2",onClick:R},e[1]||(e[1]=[t("i",{class:""},null,-1),x(" প্রিন্ট")]))])]),_.value?(d(),i("div",Z,a(_.value),1)):f("",!0),F.value?(d(),i("div",tt,"লোড হচ্ছে...")):f("",!0),s.value?(d(),i("section",et,[t("header",st,[e[5]||(e[5]=t("div",{class:"space-y-1 p-4"},[t("img",{src:E,alt:"লোগো"}),t("div",{class:"text-slate-700 text-center"},"পেমেন্ট ইনভয়েস")],-1)),t("div",at,[e[2]||(e[2]=t("div",{class:"text-slate-500"},"ইনভয়েস নং",-1)),t("div",ot,a(q.value),1),e[3]||(e[3]=t("div",{class:"text-slate-500"},"প্রিন্টের সময়",-1)),t("div",it,a(new Date().toLocaleString("bn-BD",{hour12:!0})),1),e[4]||(e[4]=t("div",{class:"text-slate-500"},"পেমেন্ট আইডি",-1)),t("div",dt,"#"+a(s.value.id),1)])]),t("section",lt,[t("div",nt,[e[6]||(e[6]=t("div",{class:"text-xs tracking-wide text-slate-500"},"প্রতিষ্ঠান (বিল গ্রহীতা)",-1)),t("div",rt,a(((r=(n=s.value)==null?void 0:n.institute)==null?void 0:r.name)||"—"),1),t("div",ct," কোড: "+a(((u=(c=s.value)==null?void 0:c.institute)==null?void 0:u.institute_code)||"-"),1),t("div",ut,"ফোন: "+a(((w=(g=s.value)==null?void 0:g.institute)==null?void 0:w.phone)||"-"),1)]),t("div",mt,[e[9]||(e[9]=t("div",{class:"text-xs tracking-wide text-slate-500"},"পেমেন্ট সারাংশ",-1)),t("div",xt,a(p(s.value.amount))+" টাকা",1),t("div",vt,[t("span",{class:P(M(s.value.payment_method))},a(s.value.payment_method),3),t("span",{class:P(z(s.value.status))},a(s.value.status),3)]),t("div",bt,[e[7]||(e[7]=t("div",null,"ট্রানজেকশন (TRX)",-1)),t("div",pt,a(s.value.trx_id||"—"),1),e[8]||(e[8]=t("div",null,"পরিশোধের সময়",-1)),t("div",null,a($(s.value.paid_at)),1)])])]),t("section",ft,[t("div",_t,[e[10]||(e[10]=t("div",{class:"text-xs tracking-wide text-slate-500"},"জামাত",-1)),t("div",gt,a(((y=(h=s.value)==null?void 0:h.zamat)==null?void 0:y.name)||"—"),1)]),t("div",wt,[e[11]||(e[11]=t("div",{class:"text-xs tracking-wide text-slate-500"},"শিক্ষার্থীর সংখ্যা",-1)),t("div",ht,a(((N=(k=s.value)==null?void 0:k.meta)==null?void 0:N.students)??((D=(S=s.value)==null?void 0:S.meta)==null?void 0:D.students_count)??"—")+" জন ",1)]),t("div",yt,[e[13]||(e[13]=t("div",{class:"text-xs tracking-wide text-slate-500"},"আবেদন (থাকলে)",-1)),t("div",kt,[(I=(C=s.value)==null?void 0:C.applications)!=null&&I.length?(d(!0),i(T,{key:0},G(s.value.applications,b=>(d(),i("div",{key:b.id,class:"flex flex-wrap items-center gap-2"},[t("span",Nt,"#"+a(b.id),1),t("span",St,[e[12]||(e[12]=x("অবস্থা: ")),t("b",Dt,a(b.payment_status),1)]),t("span",Ct,"/ মাধ্যম: "+a(b.payment_method),1)]))),128)):(d(),i(T,{key:1},[x("—")],64))])])]),t("section",It,[t("div",Bt,[t("div",Lt,[e[14]||(e[14]=t("span",{class:"text-slate-600"},"উপ-মোট",-1)),t("span",Pt,a(p(s.value.amount)),1)]),t("div",Tt,[t("div",Vt,[e[15]||(e[15]=t("span",null,"সর্বমোট",-1)),t("span",null,a(p(s.value.amount))+" টাকা",1)])])])]),t("section",jt,[t("div",Ft,[e[19]||(e[19]=t("div",{class:"text-xs leading-relaxed text-slate-600"},[x(" • এই ইনভয়েসটি সিস্টেম-জেনারেটেড; প্রয়োজনে অফিসিয়াল সিল/স্বাক্ষরসহ কপি সংগ্রহ করুন।"),t("br"),x(" • পেমেন্টের অবস্থা “Completed” হলে তবেই ‘Paid’ হিসেবে গণ্য হবে। ")],-1)),t("div",At,[t("div",Rt,[e[16]||(e[16]=t("div",{class:"h-14 sm:h-16 border-b border-slate-300 mb-1"},null,-1)),t("div",$t,a(((L=(B=s.value)==null?void 0:B.user)==null?void 0:L.name)||"—"),1),e[17]||(e[17]=t("div",{class:"text-xs text-slate-600"},"আদায়কারী",-1))]),e[18]||(e[18]=H('<div class="w-full max-w-[240px] text-center" data-v-c7683729><div class="h-14 sm:h-16 border-b border-slate-300 mb-1" data-v-c7683729></div><div class="text-sm font-medium" data-v-c7683729> </div><div class="text-xs text-slate-600" data-v-c7683729>অনুমোদনকারী</div></div><div class="w-full max-w-[240px] text-center" data-v-c7683729><div class="h-14 sm:h-16 border-b border-slate-300 mb-1" data-v-c7683729></div><div class="text-sm font-medium" data-v-c7683729> </div><div class="text-xs text-slate-600" data-v-c7683729>গ্রহণকারী</div></div>',2))])])])])):f("",!0)])}}},Xt=O(zt,[["__scopeId","data-v-c7683729"]]);export{Xt as default};
