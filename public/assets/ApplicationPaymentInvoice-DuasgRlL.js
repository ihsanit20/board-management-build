import{_ as M}from"./logo-name-CJ0dX4ea.js";import{_ as q,i as m,o as E,c as o,a as t,t as a,h as p,n as I,F as B,e as O,y as L,l as X,d as i,q as G,s as H}from"./index-B7fQsvqV.js";import{u as J}from"./application-payment-fiaJrVDk.js";const K={class:"mx-auto max-w-4xl p-4 sm:p-6 print:p-0"},Q={class:"mb-4 flex items-center justify-between print:hidden"},U={class:"text-sm text-slate-500"},W={key:0,class:"mb-3 rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-red-700 text-sm"},Y={key:1,class:"rounded-lg border bg-white p-4"},Z={key:2,class:"rounded-2xl border bg-white shadow-sm print:shadow-none print:border-0 overflow-hidden"},tt={class:"flex flex-col gap-4 border-b p-6 sm:flex-row sm:items-start sm:justify-between"},et={class:"grid w-full max-w-xs grid-cols-2 gap-x-3 gap-y-1 text-sm"},st={class:"font-medium"},at={class:"font-medium"},dt={class:"font-medium"},ot={class:"grid gap-4 border-b p-6 sm:grid-cols-2"},it={class:"rounded-lg border border-slate-200 p-4"},lt={class:"mt-1 text-base font-semibold"},nt={class:"text-sm text-slate-600"},rt={class:"text-sm text-slate-600"},ct={class:"rounded-lg border border-slate-200 p-4"},ut={class:"mt-1 text-base font-semibold"},mt={class:"mt-2 flex flex-wrap gap-2 text-sm"},xt={class:"mt-2 grid grid-cols-2 gap-x-3 text-sm text-slate-700"},vt={class:"font-mono"},bt={class:"grid gap-4 border-b p-6 sm:grid-cols-2"},pt={class:"rounded-lg border border-slate-200 p-4"},gt={class:"mt-1 text-base font-semibold"},_t={class:"rounded-lg border border-slate-200 p-4"},ft={class:"mt-1 text-base font-semibold"},ht={class:"rounded-lg border border-slate-200 p-4 sm:col-span-2"},wt={class:"mt-1 text-sm text-slate-800"},yt={class:"font-semibold"},kt={class:"text-slate-500"},Nt={class:"text-slate-700"},St={class:"text-slate-400"},Dt={class:"flex flex-col items-end p-6"},Ct={class:"w-full max-w-sm rounded-xl border border-slate-200 p-4"},It={class:"flex items-center justify-between text-sm"},Bt={class:"font-medium"},Lt={class:"mt-2 border-t pt-2 text-base font-semibold"},Pt={class:"flex items-center justify-between"},Tt={__name:"ApplicationPaymentInvoice",setup(Vt){const P=G(),T=H(),x=J(),l=m(()=>Number(P.params.paymentId)),s=m(()=>x.selected),V=m(()=>x.isLoading),g=m(()=>x.error);E(async()=>{if(!(!l.value||Number.isNaN(l.value)))try{await x.fetchPaymentById(l.value)}catch{}});function j(){T.back()}function F(){window.print()}function b(d){return d==null?"—":Number(d).toLocaleString("bn-BD",{minimumFractionDigits:2,maximumFractionDigits:2})}function A(d){if(!d)return"—";const e=new Date(String(d).replace(" ","T"));return isNaN(e)?d:e.toLocaleString("bn-BD",{hour12:!0})}function R(d){const e="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium border";switch((d||"").toLowerCase()){case"completed":case"paid":return e+" border-emerald-300 bg-emerald-50 text-emerald-700";case"pending":return e+" border-amber-300 bg-amber-50 text-amber-700";case"failed":case"cancelled":return e+" border-rose-300 bg-rose-50 text-rose-700";default:return e+" border-slate-300 bg-slate-50 text-slate-700"}}function $(d){const e="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium border";return(d||"").toLowerCase()==="bkash"?e+" border-fuchsia-300 bg-fuchsia-50 text-fuchsia-700":d==="Bank"?e+" border-blue-300 bg-blue-50 text-blue-700":e+" border-slate-300 bg-slate-50 text-slate-700"}const z=m(()=>{var r,c,u;const d=((r=s.value)==null?void 0:r.id)??l.value,e=((u=(c=s.value)==null?void 0:c.institute)==null?void 0:u.institute_code)??"INST",n=new Date().toISOString().slice(0,10).replace(/-/g,"");return`INV-${e}-${d}-${n}`});return(d,e)=>{var n,r,c,u,_,f,h,w,y,k,N,S,D,C;return i(),o("div",K,[t("div",Q,[t("div",null,[e[0]||(e[0]=t("h1",{class:"text-xl font-semibold text-slate-800"},"পেমেন্ট ইনভয়েস",-1)),t("p",U,"পেমেন্ট আইডি: "+a(l.value),1)]),t("div",{class:"flex gap-2"},[t("button",{class:"inline-flex items-center rounded-lg border border-s্লেট-300 px-3 py-2 text-sm hover:bg-slate-50",onClick:j}," ফিরে যান "),t("button",{class:"inline-flex items-center rounded-lg border border-slate-300 px-3 py-2 text-sm hover:bg-slate-50",onClick:F}," প্রিন্ট ")])]),g.value?(i(),o("div",W,a(g.value),1)):p("",!0),V.value?(i(),o("div",Y,"লোড হচ্ছে...")):p("",!0),s.value?(i(),o("section",Z,[t("header",tt,[e[4]||(e[4]=t("div",{class:"space-y-1 p-4"},[t("img",{src:M,alt:"লোগো"}),t("div",{class:"text-slate-700 text-center"},"পেমেন্ট ইনভয়েস")],-1)),t("div",et,[e[1]||(e[1]=t("div",{class:"text-slate-500"},"ইনভয়েস নং",-1)),t("div",st,a(z.value),1),e[2]||(e[2]=t("div",{class:"text-slate-500"},"প্রিন্টের সময়",-1)),t("div",at,a(new Date().toLocaleString("bn-BD",{hour12:!0})),1),e[3]||(e[3]=t("div",{class:"text-slate-500"},"পেমেন্ট আইডি",-1)),t("div",dt,"#"+a(s.value.id),1)])]),t("section",ot,[t("div",it,[e[5]||(e[5]=t("div",{class:"text-xs tracking-wide text-slate-500"},"প্রতিষ্ঠান (বিল গ্রহীতা)",-1)),t("div",lt,a(((r=(n=s.value)==null?void 0:n.institute)==null?void 0:r.name)||"—"),1),t("div",nt," কোড: "+a(((u=(c=s.value)==null?void 0:c.institute)==null?void 0:u.institute_code)||"-"),1),t("div",rt,"ফোন: "+a(((f=(_=s.value)==null?void 0:_.institute)==null?void 0:f.phone)||"-"),1)]),t("div",ct,[e[8]||(e[8]=t("div",{class:"text-xs tracking-wide text-slate-500"},"পেমেন্ট সারাংশ",-1)),t("div",ut,a(b(s.value.amount))+" টাকা",1),t("div",mt,[t("span",{class:I($(s.value.payment_method))},a(s.value.payment_method),3),t("span",{class:I(R(s.value.status))},a(s.value.status),3)]),t("div",xt,[e[6]||(e[6]=t("div",null,"ট্রানজেকশন (TRX)",-1)),t("div",vt,a(s.value.trx_id||"—"),1),e[7]||(e[7]=t("div",null,"পরিশোধের সময়",-1)),t("div",null,a(A(s.value.paid_at)),1)])])]),t("section",bt,[t("div",pt,[e[9]||(e[9]=t("div",{class:"text-xs tracking-wide text-slate-500"},"জামাত",-1)),t("div",gt,a(((w=(h=s.value)==null?void 0:h.zamat)==null?void 0:w.name)||"—"),1)]),t("div",_t,[e[10]||(e[10]=t("div",{class:"text-xs tracking-wide text-slate-500"},"শিক্ষার্থীর সংখ্যা",-1)),t("div",ft,a(((k=(y=s.value)==null?void 0:y.meta)==null?void 0:k.students)??((S=(N=s.value)==null?void 0:N.meta)==null?void 0:S.students_count)??"—")+" জন ",1)]),t("div",ht,[e[12]||(e[12]=t("div",{class:"text-xs tracking-wide text-slate-500"},"আবেদন (থাকলে)",-1)),t("div",wt,[(C=(D=s.value)==null?void 0:D.applications)!=null&&C.length?(i(!0),o(B,{key:0},O(s.value.applications,v=>(i(),o("div",{key:v.id,class:"flex flex-wrap items-center gap-2"},[t("span",yt,"#"+a(v.id),1),t("span",kt,[e[11]||(e[11]=L("অবস্থা: ")),t("b",Nt,a(v.payment_status),1)]),t("span",St,"/ মাধ্যম: "+a(v.payment_method),1)]))),128)):(i(),o(B,{key:1},[L("—")],64))])])]),t("section",Dt,[t("div",Ct,[t("div",It,[e[13]||(e[13]=t("span",{class:"text-slate-600"},"উপ-মোট",-1)),t("span",Bt,a(b(s.value.amount)),1)]),t("div",Lt,[t("div",Pt,[e[14]||(e[14]=t("span",null,"সর্বমোট",-1)),t("span",null,a(b(s.value.amount))+" টাকা",1)])])])]),e[15]||(e[15]=X('<section class="grid gap-6 border-t p-6" data-v-9baa420d><div class="flex flex-col" data-v-9baa420d><div class="text-xs leading-relaxed text-slate-600" data-v-9baa420d> • এই ইনভয়েসটি সিস্টেম-জেনারেটেড; প্রয়োজনে অফিসিয়াল সিল/স্বাক্ষরসহ কপি সংগ্রহ করুন।<br data-v-9baa420d> • পেমেন্টের অবস্থা “Completed” হলে তবেই ‘Paid’ হিসেবে গণ্য হবে। </div><div class="mt-6 grid grid-cols-3 gap-6 print:gap-10" data-v-9baa420d><div class="w-36 text-center" data-v-9baa420d><div class="mb-2 h-px bg-slate-300" data-v-9baa420d></div><div class="text-xs text-slate-600" data-v-9baa420d>প্রস্তুতকারক</div></div><div class="w-36 text-center" data-v-9baa420d><div class="mb-2 h-px bg-slate-300" data-v-9baa420d></div><div class="text-xs text-slate-600" data-v-9baa420d>অনুমোদনকারী</div></div><div class="w-36 text-center" data-v-9baa420d><div class="mb-2 h-px bg-slate-300" data-v-9baa420d></div><div class="text-xs text-slate-600" data-v-9baa420d>গ্রহণকারী</div></div></div></div></section>',1))])):p("",!0)])}}},Rt=q(Tt,[["__scopeId","data-v-9baa420d"]]);export{Rt as default};
