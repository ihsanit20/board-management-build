import{_ as k}from"./logo-name-CJ0dX4ea.js";import{_ as B,i as d,o as E,c as n,a as t,t as e,h as b,F as T,e as V,y as w,l as L,d as l,q as P}from"./index-CtTQ_1iG.js";import{u as j}from"./application-payment-CFVbvPji.js";const A={class:"mx-auto max-w-5xl p-4 sm:p-6 print:p-0"},C={class:"mb-4 flex items-center justify-between print:hidden"},F={class:"text-sm text-slate-500"},$={key:0,class:"mb-3 rounded-lg border border-red-200 bg-red-50 px-1 py-1 text-red-700 text-sm"},M={key:1,class:"rounded-lg border bg-white p-4"},R={key:2,class:"rounded-2xl border bg-white shadow-sm print:shadow-none print:border-0"},X={class:"flex flex-col gap-4 border-b p-6 sm:flex-row sm:items-start sm:justify-between"},q={class:"grid w-full max-w-xs grid-cols-2 gap-x-3 gap-y-1 text-sm"},z={class:"font-medium"},O={class:"font-medium"},G={class:"grid gap-4 border-b p-6 sm:grid-cols-2"},H={class:"rounded-lg border border-slate-200 p-4"},J={class:"mt-1 text-base font-semibold"},K={class:"text-sm text-slate-600"},Q={class:"text-sm text-slate-600"},U={class:"rounded-lg border border-slate-200 p-4"},W={class:"mt-1 text-base font-semibold"},Y={class:"text-sm text-slate-600"},Z={class:"text-sm text-slate-600"},tt={class:"text-sm font-medium text-slate-800"},st={class:"p-6"},et={class:"rounded-lg border tbl-wrap"},at={class:"min-w-full text-sm"},ot={class:"px-1 py-1"},it={class:"px-1 py-1"},dt={class:"px-1 py-1"},nt={class:"px-1 py-1"},lt={class:"px-1 py-1"},rt={class:"px-1 py-1"},ct={class:"px-1 py-1"},mt={class:"px-1 py-1 text-right font-medium whitespace-nowrap"},ut={class:"border-t bg-slate-50"},xt={colspan:"2",class:"px-1 py-1 text-right font-bold whitespace-nowrap"},pt={class:"flex flex-col gap-6 border-t p-6 sm:flex-row sm:items-end sm:justify-between"},vt={class:"grid grid-cols-3 gap-6 print:gap-10"},_t={class:"w-40 text-center"},bt={class:"text-sm font-medium"},ht={__name:"ApplicationPaymentsExamInstituteShow",setup(gt){const h=P(),x=j(),p=d(()=>Number(h.params.examId)),v=d(()=>Number(h.params.instituteId)),S=d(()=>x.loadingShow),g=d(()=>x.errorShow),a=d(()=>x.showData);E(async()=>{await x.fetchShowByExamInstitute(p.value,v.value)});function _(i){const s=Number(i||0);return Math.trunc(s).toLocaleString("bn-BD",{maximumFractionDigits:0})}function I(i){if(!i)return"-";try{return new Date(String(i).replace(" ","T")).toLocaleString("bn-BD",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return i}}const N=d(()=>{var c,m,u,o;const i=((m=(c=a.value)==null?void 0:c.exam)==null?void 0:m.id)??p.value,s=((o=(u=a.value)==null?void 0:u.institute)==null?void 0:o.id)??v.value,r=new Date().toISOString().slice(0,19).replace(/[-:T]/g,"");return`INV-EX${i}-IN${s}-${r}`});function D(){window.print()}return(i,s)=>{var r,c,m,u;return l(),n("div",A,[t("div",C,[t("div",null,[s[0]||(s[0]=t("h1",{class:"text-xl font-semibold"},"ইনভয়েস / রশিদ",-1)),t("p",F," পরীক্ষা আইডি: "+e(p.value)+" • প্রতিষ্ঠান আইডি: "+e(v.value),1)]),t("button",{class:"btn-2",onClick:D},"প্রিন্ট")]),g.value?(l(),n("div",$,e(g.value),1)):b("",!0),S.value?(l(),n("div",M,"লোড হচ্ছে...")):b("",!0),a.value?(l(),n("section",R,[t("header",X,[s[3]||(s[3]=t("div",{class:"space-y-1 p-4"},[t("img",{src:k,alt:"প্রতিষ্ঠানের লোগো"}),t("div",{class:"text-slate-700 text-center"},"পেমেন্ট ইনভয়েস")],-1)),t("div",q,[s[1]||(s[1]=t("div",{class:"text-slate-500"},"ইনভয়েস নং",-1)),t("div",z,e(N.value),1),s[2]||(s[2]=t("div",{class:"text-slate-500"},"প্রিন্টের সময়",-1)),t("div",O,e(new Date().toLocaleString("bn-BD",{year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",hour12:!0})),1)])]),t("section",G,[t("div",H,[s[4]||(s[4]=t("div",{class:"text-xs tracking-wide text-slate-500"},"প্রতিষ্ঠান (বিল গ্রহীতা)",-1)),t("div",J,e(a.value.institute.name),1),t("div",K,"কোড: "+e(a.value.institute.institute_code||"-"),1),t("div",Q,"ফোন: "+e(a.value.institute.phone||"-"),1)]),t("div",U,[s[5]||(s[5]=t("div",{class:"text-xs tracking-wide text-slate-500"},"পরীক্ষা",-1)),t("div",W,e(a.value.exam.name),1),t("div",Y,"মোট পেমেন্ট: "+e(a.value.summary.payments_count),1),t("div",Z," মোট শিক্ষার্থী: "+e(a.value.summary.total_students),1),t("div",tt," মোট পরিমাণ: "+e(_(a.value.summary.total_amount))+" টাকা ",1)])]),t("section",st,[s[8]||(s[8]=t("div",{class:"mb-3 text-sm text-slate-600"}," নিচে এই পরীক্ষায় উক্ত প্রতিষ্ঠানের সকল পেমেন্ট দেখানো হলো। ",-1)),t("div",et,[t("table",at,[s[7]||(s[7]=t("thead",null,[t("tr",{class:"bg-slate-50 text-left text-slate-700"},[t("th",{class:"px-1 py-1 font-medium"},"আইডি"),t("th",{class:"px-1 py-1 font-medium"},"মারহালা"),t("th",{class:"px-1 py-1 font-medium"},"মাধ্যম"),t("th",{class:"px-1 py-1 font-medium"},"TRX"),t("th",{class:"px-1 py-1 font-medium"},"আদায়কারী"),t("th",{class:"px-1 py-1 font-medium"},"পরিশোধের সময়"),t("th",{class:"px-1 py-1 font-medium"},"পরীক্ষার্থী"),t("th",{class:"px-1 py-1 text-right font-semibold whitespace-nowrap"},"পরিমাণ")])],-1)),t("tbody",null,[(l(!0),n(T,null,V(a.value.payments,o=>{var y,f;return l(),n("tr",{key:o.id,class:"border-t"},[t("td",ot,e(o.id),1),t("td",it,e(((y=o.zamat)==null?void 0:y.name)||"-"),1),t("td",dt,e(o.payment_method),1),t("td",nt,e(o.trx_id),1),t("td",lt,e(((f=o.user)==null?void 0:f.name)||"—"),1),t("td",rt,e(I(o.paid_at)),1),t("td",ct,e(o.students)+" জন",1),t("td",mt,e(_(o.amount)),1)])}),128))]),t("tfoot",null,[t("tr",ut,[s[6]||(s[6]=t("td",{colspan:"6",class:"px-1 py-1 text-right font-semibold"},"সর্বমোট",-1)),t("td",xt,e(_(a.value.summary.total_amount)),1)])])])])]),t("section",pt,[s[12]||(s[12]=t("div",{class:"text-xs leading-relaxed text-slate-600"},[w(" • এই ইনভয়েসটি সিস্টেম-জেনারেটেড। প্রয়োজন হলে অফিসিয়াল সিল/স্বাক্ষরসহ কপি সংগ্রহ করুন।"),t("br"),w(" • পেমেন্টের অবস্থা “Completed” হলে তবেই ‘Paid’ হিসেবে গণ্য হবে। ")],-1)),t("div",vt,[t("div",_t,[s[9]||(s[9]=t("div",{class:"mb-2 h-px bg-slate-300"},null,-1)),t("div",bt,e(((u=(m=(c=(r=a.value)==null?void 0:r.payments)==null?void 0:c[0])==null?void 0:m.user)==null?void 0:u.name)||"—"),1),s[10]||(s[10]=t("div",{class:"text-xs text-slate-600"},"প্রস্তুতকারক",-1))]),s[11]||(s[11]=L('<div class="w-40 text-center" data-v-3bc428c6><div class="mb-2 h-px bg-slate-300" data-v-3bc428c6></div><div class="text-sm font-medium" data-v-3bc428c6> </div><div class="text-xs text-slate-600" data-v-3bc428c6>অনুমোদনকারী</div></div><div class="w-40 text-center" data-v-3bc428c6><div class="mb-2 h-px bg-slate-300" data-v-3bc428c6></div><div class="text-sm font-medium" data-v-3bc428c6> </div><div class="text-xs text-slate-600" data-v-3bc428c6>গ্রহণকারী</div></div>',2))])])])):b("",!0)])}}},St=B(ht,[["__scopeId","data-v-3bc428c6"]]);export{St as default};
