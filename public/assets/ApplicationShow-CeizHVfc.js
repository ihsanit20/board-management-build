import{C as q,h as G,c as n,i as l,a as t,D as H,t as e,n as P,y as z,F as J,b as K,d as R,w as O,f as Q,p as W,x as X,o as a}from"./index-MlIbSbKR.js";import{u as Y}from"./application-BEfu2uo7.js";import{_ as Z}from"./ApplicationStatusModal-DxRzb2Vl.js";const tt={class:"my-container space-y-4"},st={key:0,class:"flex justify-center items-center"},lt={key:1,class:"card-bg p-4 md:p-8 space-y-4"},ot={class:"space-y-4"},et={class:"space-y-4"},nt={class:"flex flex-col justify-center items-center"},at={class:"title-md text-center"},it={class:"space-y-2"},dt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},rt={class:""},pt={class:""},ct={class:""},ut={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_t={class:"space-y-2"},mt={class:"flex gap-4"},yt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},bt={class:""},xt={class:""},gt={class:""},ft={class:"space-y-4"},vt={class:"overflow-x-auto"},ht={class:"table-auto w-full text-left border-collapse"},wt={class:"border px-4 py-2"},kt={class:"border px-4 py-2"},Dt={class:"border px-4 py-2"},St={class:"border px-4 py-2"},At={class:"border px-4 py-2"},Ct={class:"border px-4 py-2"},Bt={class:"flex justify-between gap-4"},jt={key:2,class:"text-center text-red-500"},Mt={__name:"ApplicationShow",setup(Ft){const d=Y(),r=W().params.id,{application:o,loading:T}=q(d),p=async()=>{try{await d.fetchApplication(r)}catch(c){console.error("Failed to load application:",c)}};G(p);const U=()=>{d.showStatusModal=!0},E=async()=>{await p()};return(c,s)=>{var u,_,m,y,b,x,g,f,v,h,w,k,D,S,A,C,B,j,F,L,N,V,I;const $=X("router-link");return a(),n("div",tt,[l(T)?(a(),n("div",st,s[0]||(s[0]=[t("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1)]))):l(o)?(a(),n("div",lt,[t("div",ot,[t("div",et,[t("div",nt,[s[1]||(s[1]=t("div",{class:"hidden print:block"},[t("img",{src:H,alt:"logo",class:"h-[100px]"}),t("hr",{class:"py-2"})],-1)),t("h4",at,e((_=(u=l(o))==null?void 0:u.exam)==null?void 0:_.name),1),s[2]||(s[2]=t("h1",{class:"title-lg text-center"},"নিবন্ধনের বিস্তারিত",-1))]),t("div",it,[s[11]||(s[11]=t("hr",null,null,-1)),t("div",dt,[t("div",rt,[s[3]||(s[3]=t("b",null,"নিবন্ধন নং:",-1)),t("p",null,e(l(o).id),1)]),t("div",pt,[s[4]||(s[4]=t("b",null,"নিবন্ধনের তারিখ:",-1)),t("p",null,e(new Date(l(o).created_at).toLocaleDateString("bn-BD"))+" ইং",1)]),t("div",ct,[s[5]||(s[5]=t("b",null,"অঞ্চল:",-1)),t("p",null,e((y=(m=l(o))==null?void 0:m.area)==null?void 0:y.name),1)])]),s[12]||(s[12]=t("hr",null,null,-1)),t("div",ut,[t("div",_t,[t("div",mt,[t("div",null,[s[6]||(s[6]=t("b",null,"ইলহাক:",-1)),t("p",null,e((x=(b=l(o))==null?void 0:b.institute)==null?void 0:x.institute_code),1)]),t("div",null,[s[7]||(s[7]=t("b",null,"শিক্ষা প্রতিষ্ঠানের নাম ও ঠিকানা:",-1)),t("p",null,e((f=(g=l(o))==null?void 0:g.institute)==null?void 0:f.name),1)])])]),t("div",null,[s[8]||(s[8]=t("b",null,"কেন্দ্র:",-1)),t("p",null,[t("span",{class:P((h=(v=l(o))==null?void 0:v.center)!=null&&h.name?"":"text-red-500")},e(((k=(w=l(o))==null?void 0:w.center)==null?void 0:k.name)||"নির্বাচন করা নেই"),3)])])]),s[13]||(s[13]=t("hr",null,null,-1)),t("div",yt,[t("div",bt,[s[9]||(s[9]=t("b",null,"মারহালা:",-1)),t("p",null,e((S=(D=l(o))==null?void 0:D.zamat)==null?void 0:S.name),1)]),t("div",xt,[s[10]||(s[10]=t("b",null,"গ্রুপ:",-1)),t("p",null,e(((C=(A=l(o))==null?void 0:A.group)==null?void 0:C.name)||"প্রযোজ্য নয়"),1)]),t("div",gt,[t("b",null,"টাকার পরিমাণ ("+e((B=l(o))==null?void 0:B.payment_method)+"):",1),t("p",null,[z(e((j=l(o))==null?void 0:j.total_amount)+" টাকা ",1),t("span",{class:P([{"text-yellow-600 bg-yellow-200":((F=l(o))==null?void 0:F.payment_status)==="Pending","text-green-600 bg-green-200":((L=l(o))==null?void 0:L.payment_status)==="Paid","text-red-600 bg-red-200":((N=l(o))==null?void 0:N.payment_status)==="Failed"},"py-1 px-2 rounded-full text-xs"])},e((V=l(o))==null?void 0:V.payment_status),3)])])])])]),s[16]||(s[16]=t("hr",null,null,-1)),t("div",ft,[s[15]||(s[15]=t("div",{class:"flex justify-center"},[t("h2",{class:"title-lg"},"পরীক্ষার্থীদের তথ্য")],-1)),t("div",vt,[t("table",ht,[s[14]||(s[14]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border px-4 py-2"},"#"),t("th",{class:"border px-4 py-2"},"নাম"),t("th",{class:"border px-4 py-2"},"পিতার নাম"),t("th",{class:"border px-4 py-2"},"জন্ম তারিখ"),t("th",{class:"border px-4 py-2"},"পারার বিবরণ"),t("th",{class:"border px-4 py-2"},"ঠিকানা (গ্রাম, ডাকঘর, থানা, জেলা)")])],-1)),t("tbody",null,[(a(!0),n(J,null,K(l(o).students,(i,M)=>(a(),n("tr",{key:M,class:""},[t("td",wt,e(M+1),1),t("td",kt,e(i.name),1),t("td",Dt,e(i.father_name),1),t("td",St,e(new Date(i.date_of_birth).toLocaleDateString("bn-BD"))+" ইং ",1),t("td",At,e(i.para||"প্রযোজ্য নয়"),1),t("td",Ct,e(i.address),1)]))),128))])])])])]),t("div",Bt,[R($,{to:{name:"ApplicationList"},class:"btn-2"},{default:O(()=>s[17]||(s[17]=[z("তালিকায় যান")])),_:1}),s[18]||(s[18]=t("button",{onclick:"window.print()",class:"btn-3"},"প্রিন্ট করুন",-1)),((I=l(o))==null?void 0:I.payment_status)==="Pending"?(a(),n("button",{key:0,onClick:U,class:"btn-contrast"}," নিবন্ধন গ্রহণ ")):Q("",!0)])])):(a(),n("div",jt,s[19]||(s[19]=[t("p",null,"Application not found.",-1)]))),R(Z,{applicationId:l(r),onDataUpdated:E},null,8,["applicationId"])])}}};export{Mt as default};
