import{u as v}from"./area-BagYoeXD.js";import{M as h,o as l,c as i,a as e,l as k,m as A,v as $,z as M,y as _,t as x,r as b,h as j,f as m,i as w,F as C,b as S,N as g}from"./index-qcFH1pSU.js";const D={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},N={class:"card-bg md:p-8 p-4 md:w-1/2"},V={class:"mb-4"},z={class:"flex justify-center gap-4"},B={__name:"AddAreaModal",emits:["close","saved"],setup(u,{emit:n}){const o=n,r=h({name:""}),d=v(),c=async()=>{await d.createArea(r),o("saved"),o("close")};return(p,t)=>(l(),i("div",D,[e("div",N,[t[4]||(t[4]=e("h2",{class:"text-xl font-bold mb-4"},"অঞ্চল যুক্ত করুন",-1)),e("form",{onSubmit:k(c,["prevent"])},[e("div",V,[t[2]||(t[2]=e("label",{class:"block mb-2"},"নাম",-1)),A(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.name=s),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[$,r.name]])]),e("div",z,[t[3]||(t[3]=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1)),e("button",{type:"button",onClick:t[1]||(t[1]=s=>o("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},E={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},q={class:"card-bg md:p-8 p-4 md:w-1/2"},L={class:"mb-4"},F={class:"flex justify-center gap-4"},O={__name:"EditAreaModal",props:{area:Object},emits:["close","updated"],setup(u,{emit:n}){const o=n,r=u,d=h({name:""});M(()=>r.area,t=>{d.name=t.name||""},{immediate:!0});const c=v(),p=async()=>{await c.updateArea(r.area.id,d),o("updated"),o("close")};return(t,s)=>(l(),i("div",E,[e("div",q,[s[4]||(s[4]=e("h2",{class:"text-xl font-bold mb-4"},"অঞ্চল সম্পাদনা",-1)),e("form",{onSubmit:k(p,["prevent"])},[e("div",L,[s[2]||(s[2]=e("label",{class:"block mb-2"},"Name",-1)),A(e("input",{"onUpdate:modelValue":s[0]||(s[0]=y=>d.name=y),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[$,d.name]])]),e("div",F,[s[3]||(s[3]=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1)),e("button",{type:"button",onClick:s[1]||(s[1]=y=>o("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},T={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},U={class:"card-bg p-4 md:p-8"},G={class:"flex justify-end mt-4"},H={__name:"DeleteAreaModal",props:{area:{type:Object,required:!0}},emits:["close","deleted"],setup(u,{emit:n}){const o=n,r=u,d=v(),c=async()=>{await d.deleteArea(r.area.id),o("deleted"),o("close")};return(p,t)=>(l(),i("div",T,[e("div",U,[t[3]||(t[3]=e("h2",{class:"text-xl font-bold mb-4"},"ডিলেট অঞ্চল",-1)),e("p",null,[t[1]||(t[1]=_(" আপনি কি (")),e("b",null,x(u.area.name),1),t[2]||(t[2]=_(") ডিলিট করতে চান? "))]),e("div",G,[e("button",{onClick:t[0]||(t[0]=s=>o("close")),class:"bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-600"}," না "),e("button",{onClick:c,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," ডিলেট ")])])]))}},I={class:"my-container space-y-2"},J={class:"flex justify-between items-center"},K={key:0,class:"flex justify-center items-center"},P={key:1,class:"overflow-x-auto"},Q={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},R={class:"bg-gray-200 text-gray-700 text-sm leading-normal"},W={class:"text-gray-600 text-sm font-light"},X={class:"py-3 px-2 text-left whitespace-nowrap"},Y={class:"flex justify-center items-center"},Z={class:"mr-2"},ee={class:"font-medium"},te={class:"py-3 px-2 text-left"},se={class:"title-md"},oe={class:"py-3 px-2 text-center"},ae={class:"title-md"},le={key:1},ie={__name:"AreaList",setup(u){const n=v(),o=b(!1),r=b(!1),d=b(!1),c=b(null),p=b(!0),t=async()=>{o.value=!1,await n.fetchAreas()},s=async()=>{r.value=!1,await n.fetchAreas()},y=()=>d.value=!1;return j(async()=>{try{await n.fetchAreas()}finally{p.value=!1}}),(ne,a)=>(l(),i("div",I,[e("div",J,[a[0]||(a[0]=e("h1",{class:"title-lg"},"অঞ্চল তালিকা",-1)),m("",!0)]),p.value?(l(),i("div",K,a[1]||(a[1]=[e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1)]))):(l(),i("div",P,[e("table",Q,[e("thead",null,[e("tr",R,[a[2]||(a[2]=e("th",{class:"py-3 px-2 text-center"},"থানা কোড",-1)),a[3]||(a[3]=e("th",{class:"py-3 px-2 text-left"},"অঞ্চলের নাম",-1)),a[4]||(a[4]=e("th",{class:"py-3 px-2 text-center"},"মোট মাদরাসা",-1)),m("",!0)])]),e("tbody",W,[w(n).areas.length?(l(!0),i(C,{key:0},S(w(n).areas,f=>(l(),i("tr",{key:f.id,class:"border-b border-gray-200 hover:bg-gray-100"},[e("td",X,[e("div",Y,[e("div",Z,[e("p",ee,x(f.area_code),1)])])]),e("td",te,[e("p",se,x(f.name),1)]),e("td",oe,[e("p",ae,x(f.institutes_count),1)]),m("",!0)]))),128)):(l(),i("tr",le,a[7]||(a[7]=[e("td",{colspan:"5",class:"text-center text-red-500 py-4"},"No areas found",-1)])))])])])),o.value?(l(),g(B,{key:2,class:"z-40",onClose:t})):m("",!0),r.value?(l(),g(O,{key:3,class:"z-40",area:c.value,onClose:s},null,8,["area"])):m("",!0),d.value?(l(),g(H,{key:4,class:"z-40",area:c.value,onClose:y},null,8,["area"])):m("",!0)]))}};export{ie as default};
