import{u as h}from"./area-D3RczJB-.js";import{H as w,a as n,c as r,b as e,w as $,i as k,v as A,s as S,q as v,t as x,r as p,o as E,d as g,F as N,m as V,I as f,j as y}from"./index-DDuwzY18.js";const q={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},B={class:"card-bg md:p-8 p-4 md:w-1/2"},z=e("h2",{class:"text-xl font-bold mb-4"},"অঞ্চল যুক্ত করুন",-1),L={class:"mb-4"},F=e("label",{class:"block mb-2"},"নাম",-1),O={class:"flex justify-center gap-4"},T=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1),U={__name:"AddAreaModal",emits:["close","saved"],setup(i,{emit:l}){const t=l,s=w({name:""}),o=h(),c=async()=>{await o.createArea(s),t("saved"),t("close")};return(u,a)=>(n(),r("div",q,[e("div",B,[z,e("form",{onSubmit:$(c,["prevent"])},[e("div",L,[F,k(e("input",{"onUpdate:modelValue":a[0]||(a[0]=d=>s.name=d),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[A,s.name]])]),e("div",O,[T,e("button",{type:"button",onClick:a[1]||(a[1]=d=>t("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},H={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},I={class:"card-bg md:p-8 p-4 md:w-1/2"},G=e("h2",{class:"text-xl font-bold mb-4"},"অঞ্চল সম্পাদনা",-1),J={class:"mb-4"},K=e("label",{class:"block mb-2"},"Name",-1),P={class:"flex justify-center gap-4"},Q=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1),R={__name:"EditAreaModal",props:{area:Object},emits:["close","updated"],setup(i,{emit:l}){const t=l,s=i,o=w({name:""});S(()=>s.area,a=>{o.name=a.name||""},{immediate:!0});const c=h(),u=async()=>{await c.updateArea(s.area.id,o),t("updated"),t("close")};return(a,d)=>(n(),r("div",H,[e("div",I,[G,e("form",{onSubmit:$(u,["prevent"])},[e("div",J,[K,k(e("input",{"onUpdate:modelValue":d[0]||(d[0]=m=>o.name=m),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[A,o.name]])]),e("div",P,[Q,e("button",{type:"button",onClick:d[1]||(d[1]=m=>t("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},W={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},X={class:"card-bg p-4 md:p-8"},Y=e("h2",{class:"text-xl font-bold mb-4"},"ডিলেট অঞ্চল",-1),Z={class:"flex justify-end mt-4"},ee={__name:"DeleteAreaModal",props:{area:{type:Object,required:!0}},emits:["close","deleted"],setup(i,{emit:l}){const t=l,s=i,o=h(),c=async()=>{await o.deleteArea(s.area.id),t("deleted"),t("close")};return(u,a)=>(n(),r("div",W,[e("div",X,[Y,e("p",null,[v(" আপনি কি ("),e("b",null,x(i.area.name),1),v(") ডিলিট করতে চান? ")]),e("div",Z,[e("button",{onClick:a[0]||(a[0]=d=>t("close")),class:"bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-600"}," না "),e("button",{onClick:c,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," ডিলেট ")])])]))}},te={class:"my-container space-y-2"},se=e("h1",{class:"title-lg"},"অঞ্চল তালিকা",-1),oe={key:0,class:"flex justify-center items-center"},ae=e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1),ne=[ae],le={key:1,class:"overflow-x-auto"},ce={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},de=e("thead",null,[e("tr",{class:"bg-gray-200 text-gray-700 text-sm leading-normal"},[e("th",{class:"py-3 px-2 text-left"},"থানা কোড"),e("th",{class:"py-3 px-2 text-left"},"অঞ্চলের নাম"),e("th",{class:"py-3 px-2 text-center"},"একশন")])],-1),re={class:"text-gray-600 text-sm font-light"},ie={class:"py-3 px-2 text-left whitespace-nowrap"},ue={class:"flex items-center"},_e={class:"mr-2"},pe={class:"font-medium"},me={class:"py-3 px-2 text-left"},be={class:"title-md"},he={class:"py-3 px-2 text-center"},fe={class:"flex item-center justify-center gap-4"},ye=["onClick"],xe=e("i",{class:"fas fa-edit"},null,-1),ve=[xe],ge=["onClick"],we=e("i",{class:"fas fa-trash"},null,-1),$e=[we],ke={key:1},Ae=e("td",{colspan:"5",class:"text-center text-red-500 py-4"},"No areas found",-1),Ce=[Ae],Se={__name:"AreaList",setup(i){const l=h(),t=p(!1),s=p(!1),o=p(!1),c=p(null),u=p(!0),a=()=>t.value=!0,d=async()=>{t.value=!1,await l.fetchAreas()},m=b=>{c.value=b,s.value=!0},C=async()=>{s.value=!1,await l.fetchAreas()},M=b=>{c.value=b,o.value=!0},j=()=>o.value=!1;return E(async()=>{try{await l.fetchAreas()}finally{u.value=!1}}),(b,Me)=>(n(),r("div",te,[e("div",{class:"flex justify-between items-center"},[se,e("button",{class:"btn-2",onClick:a},"নতুন যুক্ত করুন")]),u.value?(n(),r("div",oe,ne)):(n(),r("div",le,[e("table",ce,[de,e("tbody",re,[g(l).areas.length?(n(!0),r(N,{key:0},V(g(l).areas,_=>(n(),r("tr",{key:_.id,class:"border-b border-gray-200 hover:bg-gray-100"},[e("td",ie,[e("div",ue,[e("div",_e,[e("p",pe,x(_.area_code),1)])])]),e("td",me,[e("p",be,x(_.name),1)]),e("td",he,[e("div",fe,[e("button",{onClick:D=>m(_),class:"text-blue-600 hover:text-blue-800"},ve,8,ye),e("button",{onClick:D=>M(_),class:"text-red-600 hover:text-red-800"},$e,8,ge)])])]))),128)):(n(),r("tr",ke,Ce))])])])),t.value?(n(),f(U,{key:2,class:"z-40",onClose:d})):y("",!0),s.value?(n(),f(R,{key:3,class:"z-40",area:c.value,onClose:C},null,8,["area"])):y("",!0),o.value?(n(),f(ee,{key:4,class:"z-40",area:c.value,onClose:j},null,8,["area"])):y("",!0)]))}};export{Se as default};
