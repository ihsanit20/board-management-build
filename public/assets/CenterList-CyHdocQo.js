import{u as M}from"./center-BniU9y_6.js";import{r as v,s as V,o as A,a as o,c as a,b as e,w as U,i as w,z as k,F as h,m as y,t as d,d as S,q as z,j as x,H as L,I as j}from"./index-B_n6mduh.js";import{u as N}from"./institute-C4WkUYxv.js";import{u as E}from"./zamat-CnECvv8z.js";import{u as G}from"./group-CtAri_6o.js";import{u as F}from"./area-DQZKw5PD.js";const O={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},H={class:"card-bg md:p-8 p-4 md:w-1/2"},T=e("h2",{class:"text-xl font-bold mb-4"},"মারকাজ যুক্ত করুন",-1),J={class:"mb-4"},K=e("label",{class:"block mb-2"},"মারহালা",-1),P=e("option",{disabled:"",value:""},"Select Zamat",-1),Q=["value"],R={class:"mb-4"},W=e("label",{class:"block mb-2"},"গ্রুপ",-1),X=e("option",{disabled:"",value:""},"Select Group",-1),Y=["value"],ee={key:0},te={class:"mb-4"},se=e("label",{class:"block mb-2"},"অঞ্চল",-1),oe=e("option",{disabled:"",value:""},"- অঞ্চল নির্বাচন করুন -",-1),le=["value"],ae={class:"mb-4"},ne=e("label",{class:"block mb-2"},"ইনস্টিটিউট",-1),ie=e("option",{disabled:"",value:""},"Select Institute",-1),de=["value"],ce={class:"flex justify-center gap-4"},re=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1),ue={__name:"AddCenterModal",emits:["close","saved"],setup(C,{emit:u}){const n=u,c=v("");V(c,async $=>{$&&await f.fetchInstitutes({area_id:c.value,per_page:"all",is_center:1})});const l=v({institute_id:null,zamat_id:null,group_id:null,gender:null});V(()=>l.value.zamat_id,async()=>{await b.fetchGroups(l.value.zamat_id)});const _=M(),f=N(),p=F(),m=E(),b=G();A(async()=>{await p.fetchAreas(),await m.fetchZamats()});const g=async()=>{await _.createCenter(l.value),n("saved"),n("close")};return($,i)=>(o(),a("div",O,[e("div",H,[T,e("form",{onSubmit:U(g,["prevent"])},[e("div",J,[K,w(e("select",{"onUpdate:modelValue":i[0]||(i[0]=t=>l.value.zamat_id=t),class:"w-full p-2 border rounded",required:""},[P,(o(!0),a(h,null,y(S(m).zamats,t=>(o(),a("option",{key:t.id,value:t.id},d(t.name),9,Q))),128))],512),[[k,l.value.zamat_id]])]),e("div",R,[W,w(e("select",{"onUpdate:modelValue":i[1]||(i[1]=t=>l.value.group_id=t),class:"w-full p-2 border rounded"},[X,(o(!0),a(h,null,y(S(b).groups,t=>(o(),a("option",{key:t.id,value:t.id},[z(d(t.name)+" (",1),(o(!0),a(h,null,y(t.areas,(r,s)=>(o(),a(h,{key:r.id},[s?(o(),a("span",ee,", ")):x("",!0),e("span",null,d(r.name),1)],64))),128)),z(") ")],8,Y))),128))],512),[[k,l.value.group_id]])]),e("div",te,[se,w(e("select",{"onUpdate:modelValue":i[2]||(i[2]=t=>c.value=t),class:"w-full p-2 border rounded",required:""},[oe,(o(!0),a(h,null,y(S(p).areas,t=>(o(),a("option",{key:t.id,value:t.id},d(t.name),9,le))),128))],512),[[k,c.value]])]),e("div",ae,[ne,w(e("select",{"onUpdate:modelValue":i[3]||(i[3]=t=>l.value.institute_id=t),class:"w-full p-2 border rounded",required:""},[ie,(o(!0),a(h,null,y(S(f).institutes,t=>(o(),a("option",{key:t.id,value:t.id},d(t.institute_code)+" - "+d(t.name),9,de))),128))],512),[[k,l.value.institute_id]])]),x("",!0),e("div",ce,[re,e("button",{type:"button",onClick:i[5]||(i[5]=t=>n("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},_e={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},pe={class:"card-bg md:p-8 p-4 md:w-1/2"},me=e("h2",{class:"text-xl font-bold mb-4"},"মারকাজ সম্পাদনা",-1),be={class:"mb-4"},he=e("label",{class:"block mb-2"},"ইনস্টিটিউট",-1),ve=e("option",{disabled:"",value:""},"Select Institute",-1),fe=["value"],ye={class:"mb-4"},xe=e("label",{class:"block mb-2"},"মারহালা",-1),ge=e("option",{disabled:"",value:""},"Select Zamat",-1),$e=["value"],we={class:"mb-4"},ke=e("label",{class:"block mb-2"},"গ্রুপ",-1),Ce=e("option",{disabled:"",value:""},"Select Group",-1),Se=["value"],ze={class:"flex justify-center gap-4"},Me=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1),je={__name:"EditCenterModal",props:{center:Object},emits:["close","updated"],setup(C,{emit:u}){const n=u,c=C,l=L({institute_id:null,zamat_id:null,group_id:null,gender:"male"}),_=M(),f=N(),p=E(),m=G(),b=v([]),g=v([]),$=v([]);V(()=>c.center,t=>{l.institute_id=t.institute_id||null,l.zamat_id=t.zamat_id||null,l.group_id=t.group_id||null,l.gender=t.gender||null},{immediate:!0}),A(async()=>{await f.fetchInstitutes(),await p.fetchZamats(),await m.fetchGroups(),b.value=f.institutes,g.value=p.zamats,$.value=m.groups});const i=async()=>{await _.updateCenter(c.center.id,l),n("updated"),n("close")};return(t,r)=>(o(),a("div",_e,[e("div",pe,[me,e("form",{onSubmit:U(i,["prevent"])},[e("div",be,[he,w(e("select",{"onUpdate:modelValue":r[0]||(r[0]=s=>l.institute_id=s),class:"w-full p-2 border rounded",required:""},[ve,(o(!0),a(h,null,y(b.value,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,fe))),128))],512),[[k,l.institute_id]])]),e("div",ye,[xe,w(e("select",{"onUpdate:modelValue":r[1]||(r[1]=s=>l.zamat_id=s),class:"w-full p-2 border rounded",required:""},[ge,(o(!0),a(h,null,y(g.value,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,$e))),128))],512),[[k,l.zamat_id]])]),e("div",we,[ke,w(e("select",{"onUpdate:modelValue":r[2]||(r[2]=s=>l.group_id=s),class:"w-full p-2 border rounded"},[Ce,(o(!0),a(h,null,y($.value,s=>(o(),a("option",{key:s.id,value:s.id},d(s.name),9,Se))),128))],512),[[k,l.group_id]])]),x("",!0),e("div",ze,[Me,e("button",{type:"button",onClick:r[4]||(r[4]=s=>n("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},Ve={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Ae={class:"card-bg p-4 md:p-8"},qe=e("h2",{class:"text-xl font-bold mb-4"},"ডিলেট মারহালা",-1),De={class:"flex justify-end mt-4"},Ie={__name:"DeleteCenterModal",props:{center:{type:Object,required:!0}},emits:["close","deleted"],setup(C,{emit:u}){const n=u,c=C,l=M(),_=async()=>{await l.deleteCenter(c.center.id),n("deleted"),n("close")};return(f,p)=>{var m,b;return o(),a("div",Ve,[e("div",Ae,[qe,e("p",null,[z("আপনি কি ("),e("b",null,d((b=(m=C.center)==null?void 0:m.institute)==null?void 0:b.name),1),z(") ডিলিট করতে চান?")]),e("div",De,[e("button",{onClick:p[0]||(p[0]=g=>n("close")),class:"bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-600"}," না "),e("button",{onClick:_,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," ডিলেট ")])])])}}},Ue={class:"my-container space-y-2"},Ne=e("h1",{class:"title-lg"},"মারকাজ তালিকা",-1),Ee={key:0,class:"flex justify-center items-center"},Ge=e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1),Ze=[Ge],Be={key:1,class:"overflow-x-auto"},Le={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},Fe={class:"bg-gray-200 text-gray-700 text-sm leading-normal"},Oe=e("th",{class:"py-3 px-2 text-left"},"#",-1),He=e("th",{class:"py-3 px-2 text-left"},"মারহালা",-1),Te=e("th",{class:"py-3 px-2 text-left"},"গ্রুপ",-1),Je=e("th",{class:"py-3 px-2 text-left"},"মারকাজের নাম",-1),Ke=e("th",{class:"py-3 px-2 text-center"},"একশন",-1),Pe={class:"text-gray-600 text-sm font-light"},Qe={class:"py-3 px-2 text-left whitespace-nowrap"},Re={class:"flex items-center"},We={class:"mr-2"},Xe={class:"font-medium"},Ye={class:"py-3 px-2 text-left"},et={class:"title-md"},tt={class:"py-3 px-2 text-left"},st={class:"title-md"},ot={class:"py-3 px-2 text-left"},lt={class:"title-md"},at={class:"py-3 px-2 text-center"},nt={class:"flex item-center justify-center gap-4"},it=["onClick"],dt=e("i",{class:"fas fa-edit"},null,-1),ct=[dt],rt=["onClick"],ut=e("i",{class:"fas fa-trash"},null,-1),_t=[ut],pt={key:1},mt=e("td",{colspan:"5",class:"text-center text-red-500 py-4"},"No centers found",-1),bt=[mt],$t={__name:"CenterList",setup(C){const u=M(),n=v(!1),c=v(!1),l=v(!1),_=v(null),f=v(!0),p=()=>n.value=!0,m=async()=>{n.value=!1,await u.fetchCenters()},b=t=>{_.value=t,c.value=!0},g=async()=>{c.value=!1,await u.fetchCenters()},$=t=>{_.value=t,l.value=!0},i=()=>l.value=!1;return A(async()=>{try{await u.fetchCenters()}finally{f.value=!1}}),(t,r)=>(o(),a("div",Ue,[e("div",{class:"flex justify-between items-center"},[Ne,e("button",{class:"btn-2",onClick:p},"নতুন যুক্ত করুন")]),f.value?(o(),a("div",Ee,Ze)):(o(),a("div",Be,[e("table",Le,[e("thead",null,[e("tr",Fe,[Oe,He,Te,Je,Ke,x("",!0)])]),e("tbody",Pe,[S(u).centers.length?(o(!0),a(h,{key:0},y(S(u).centers,(s,Z)=>{var q,D,I;return o(),a("tr",{key:s.id,class:"border-b border-gray-200 hover:bg-gray-100"},[e("td",Qe,[e("div",Re,[e("div",We,[e("p",Xe,d(Z+1),1)])])]),e("td",Ye,[e("p",et,d((q=s==null?void 0:s.zamat)==null?void 0:q.name),1)]),e("td",tt,[e("p",st,d(((D=s==null?void 0:s.group)==null?void 0:D.name)||"N/A"),1)]),e("td",ot,[e("p",lt,d(((I=s.institute)==null?void 0:I.name)||"N/A"),1)]),x("",!0),e("td",at,[e("div",nt,[e("button",{onClick:B=>b(s),class:"text-blue-600 hover:text-blue-800"},ct,8,it),e("button",{onClick:B=>$(s),class:"text-red-600 hover:text-red-800"},_t,8,rt)])])])}),128)):(o(),a("tr",pt,bt))])])])),n.value?(o(),j(ue,{key:2,class:"z-40",onClose:m})):x("",!0),c.value?(o(),j(je,{key:3,class:"z-40",center:_.value,onClose:g},null,8,["center"])):x("",!0),l.value?(o(),j(Ie,{key:4,class:"z-40",center:_.value,onClose:i},null,8,["center"])):x("",!0)]))}};export{$t as default};
