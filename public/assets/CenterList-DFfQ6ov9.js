import{u as C}from"./center-BOo_wz-t.js";import{G as A,r as _,o as z,a as o,c as n,b as t,w as G,i as f,y,F as x,m as g,t as c,s as L,q as U,d as D,H as S,j as M}from"./index-D8NEAiqQ.js";import{u as N}from"./institute-Dwhr2Qyd.js";import{u as E}from"./zamat-B31u1QVz.js";import{u as I}from"./group-BkvasB4k.js";const F={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},O={class:"card-bg md:p-8 p-4 md:w-1/2"},H=t("h2",{class:"text-xl font-bold mb-4"},"মারকাজ যুক্ত করুন",-1),T={class:"mb-4"},J=t("label",{class:"block mb-2"},"ইনস্টিটিউট",-1),K=t("option",{disabled:"",value:""},"Select Institute",-1),P=["value"],Q={class:"mb-4"},R=t("label",{class:"block mb-2"},"মারহালা",-1),W=t("option",{disabled:"",value:""},"Select Zamat",-1),X=["value"],Y={class:"mb-4"},tt=t("label",{class:"block mb-2"},"গ্রুপ",-1),et=t("option",{disabled:"",value:""},"Select Group",-1),st=["value"],ot={class:"mb-4"},lt=t("label",{class:"block mb-2"},"ধরন",-1),at=t("option",{value:"male"},"ছাত্র",-1),nt=t("option",{value:"female"},"ছাত্রী",-1),dt=[at,nt],it={class:"flex justify-center gap-4"},ct=t("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1),rt={__name:"AddCenterModal",emits:["close","saved"],setup($,{emit:r}){const i=r,d=A({institute_id:null,zamat_id:null,group_id:null,gender:"male"}),l=C(),u=N(),h=E(),p=I(),m=_([]),b=_([]),v=_([]);z(async()=>{await u.fetchInstitutes(),await h.fetchZamats(),await p.fetchGroups(),m.value=u.institutes,b.value=h.zamats,v.value=p.groups});const w=async()=>{await l.createCenter(d),i("saved"),i("close")};return(k,a)=>(o(),n("div",F,[t("div",O,[H,t("form",{onSubmit:G(w,["prevent"])},[t("div",T,[J,f(t("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>d.institute_id=s),class:"w-full p-2 border rounded",required:""},[K,(o(!0),n(x,null,g(m.value,s=>(o(),n("option",{key:s.id,value:s.id},c(s.name),9,P))),128))],512),[[y,d.institute_id]])]),t("div",Q,[R,f(t("select",{"onUpdate:modelValue":a[1]||(a[1]=s=>d.zamat_id=s),class:"w-full p-2 border rounded",required:""},[W,(o(!0),n(x,null,g(b.value,s=>(o(),n("option",{key:s.id,value:s.id},c(s.name),9,X))),128))],512),[[y,d.zamat_id]])]),t("div",Y,[tt,f(t("select",{"onUpdate:modelValue":a[2]||(a[2]=s=>d.group_id=s),class:"w-full p-2 border rounded"},[et,(o(!0),n(x,null,g(v.value,s=>(o(),n("option",{key:s.id,value:s.id},c(s.name),9,st))),128))],512),[[y,d.group_id]])]),t("div",ot,[lt,f(t("select",{"onUpdate:modelValue":a[3]||(a[3]=s=>d.gender=s),class:"w-full p-2 border rounded",required:""},dt,512),[[y,d.gender]])]),t("div",it,[ct,t("button",{type:"button",onClick:a[4]||(a[4]=s=>i("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},ut={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},_t={class:"card-bg md:p-8 p-4 md:w-1/2"},pt=t("h2",{class:"text-xl font-bold mb-4"},"মারকাজ সম্পাদনা",-1),mt={class:"mb-4"},bt=t("label",{class:"block mb-2"},"ইনস্টিটিউট",-1),ht=t("option",{disabled:"",value:""},"Select Institute",-1),vt=["value"],ft={class:"mb-4"},yt=t("label",{class:"block mb-2"},"মারহালা",-1),xt=t("option",{disabled:"",value:""},"Select Zamat",-1),gt=["value"],$t={class:"mb-4"},wt=t("label",{class:"block mb-2"},"গ্রুপ",-1),kt=t("option",{disabled:"",value:""},"Select Group",-1),Ct=["value"],St={class:"mb-4"},Mt=t("label",{class:"block mb-2"},"ধরন",-1),zt=t("option",{value:"male"},"ছাত্র",-1),jt=t("option",{value:"female"},"ছাত্রী",-1),Vt=[zt,jt],qt={class:"flex justify-center gap-4"},Ut=t("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1),Dt={__name:"EditCenterModal",props:{center:Object},emits:["close","updated"],setup($,{emit:r}){const i=r,d=$,l=A({institute_id:null,zamat_id:null,group_id:null,gender:"male"}),u=C(),h=N(),p=E(),m=I(),b=_([]),v=_([]),w=_([]);L(()=>d.center,a=>{l.institute_id=a.institute_id||null,l.zamat_id=a.zamat_id||null,l.group_id=a.group_id||null,l.gender=a.gender||"male"},{immediate:!0}),z(async()=>{await h.fetchInstitutes(),await p.fetchZamats(),await m.fetchGroups(),b.value=h.institutes,v.value=p.zamats,w.value=m.groups});const k=async()=>{await u.updateCenter(d.center.id,l),i("updated"),i("close")};return(a,s)=>(o(),n("div",ut,[t("div",_t,[pt,t("form",{onSubmit:G(k,["prevent"])},[t("div",mt,[bt,f(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>l.institute_id=e),class:"w-full p-2 border rounded",required:""},[ht,(o(!0),n(x,null,g(b.value,e=>(o(),n("option",{key:e.id,value:e.id},c(e.name),9,vt))),128))],512),[[y,l.institute_id]])]),t("div",ft,[yt,f(t("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>l.zamat_id=e),class:"w-full p-2 border rounded",required:""},[xt,(o(!0),n(x,null,g(v.value,e=>(o(),n("option",{key:e.id,value:e.id},c(e.name),9,gt))),128))],512),[[y,l.zamat_id]])]),t("div",$t,[wt,f(t("select",{"onUpdate:modelValue":s[2]||(s[2]=e=>l.group_id=e),class:"w-full p-2 border rounded"},[kt,(o(!0),n(x,null,g(w.value,e=>(o(),n("option",{key:e.id,value:e.id},c(e.name),9,Ct))),128))],512),[[y,l.group_id]])]),t("div",St,[Mt,f(t("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>l.gender=e),class:"w-full p-2 border rounded",required:""},Vt,512),[[y,l.gender]])]),t("div",qt,[Ut,t("button",{type:"button",onClick:s[4]||(s[4]=e=>i("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},At={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},Gt={class:"card-bg p-4 md:p-8"},Nt=t("h2",{class:"text-xl font-bold mb-4"},"ডিলেট মারহালা",-1),Et={class:"flex justify-end mt-4"},It={__name:"DeleteCenterModal",props:{center:{type:Object,required:!0}},emits:["close","deleted"],setup($,{emit:r}){const i=r,d=$,l=C(),u=async()=>{await l.deleteCenter(d.center.id),i("deleted"),i("close")};return(h,p)=>{var m,b;return o(),n("div",At,[t("div",Gt,[Nt,t("p",null,[U("আপনি কি ("),t("b",null,c((b=(m=$.center)==null?void 0:m.institute)==null?void 0:b.name),1),U(") ডিলিট করতে চান?")]),t("div",Et,[t("button",{onClick:p[0]||(p[0]=v=>i("close")),class:"bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-600"}," না "),t("button",{onClick:u,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," ডিলেট ")])])])}}},Zt={class:"my-container space-y-2"},Bt=t("h1",{class:"title-lg"},"মারকাজ তালিকা",-1),Lt={key:0,class:"flex justify-center items-center"},Ft=t("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1),Ot=[Ft],Ht={key:1,class:"overflow-x-auto"},Tt={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},Jt=t("thead",null,[t("tr",{class:"bg-gray-200 text-gray-700 text-sm leading-normal"},[t("th",{class:"py-3 px-2 text-left"},"#"),t("th",{class:"py-3 px-2 text-left"},"মারহালা"),t("th",{class:"py-3 px-2 text-left"},"ধরন"),t("th",{class:"py-3 px-2 text-left"},"মারকাজের নাম"),t("th",{class:"py-3 px-2 text-left"},"গ্রুপ"),t("th",{class:"py-3 px-2 text-center"},"একশন")])],-1),Kt={class:"text-gray-600 text-sm font-light"},Pt={class:"py-3 px-2 text-left whitespace-nowrap"},Qt={class:"flex items-center"},Rt={class:"mr-2"},Wt={class:"font-medium"},Xt={class:"py-3 px-2 text-left"},Yt={class:"title-md"},te={class:"py-3 px-2 text-left"},ee={class:"title-md"},se={class:"py-3 px-2 text-left"},oe={class:"title-md"},le={class:"py-3 px-2 text-left"},ae={class:"title-md"},ne={class:"py-3 px-2 text-center"},de={class:"flex item-center justify-center gap-4"},ie=["onClick"],ce=t("i",{class:"fas fa-edit"},null,-1),re=[ce],ue=["onClick"],_e=t("i",{class:"fas fa-trash"},null,-1),pe=[_e],me={key:1},be=t("td",{colspan:"5",class:"text-center text-red-500 py-4"},"No centers found",-1),he=[be],$e={__name:"CenterList",setup($){const r=C(),i=_(!1),d=_(!1),l=_(!1),u=_(null),h=_(!0),p=()=>i.value=!0,m=async()=>{i.value=!1,await r.fetchCenters()},b=a=>{u.value=a,d.value=!0},v=async()=>{d.value=!1,await r.fetchCenters()},w=a=>{u.value=a,l.value=!0},k=()=>l.value=!1;return z(async()=>{try{await r.fetchCenters()}finally{h.value=!1}}),(a,s)=>(o(),n("div",Zt,[t("div",{class:"flex justify-between items-center"},[Bt,t("button",{class:"btn-2",onClick:p},"নতুন যুক্ত করুন")]),h.value?(o(),n("div",Lt,Ot)):(o(),n("div",Ht,[t("table",Tt,[Jt,t("tbody",Kt,[D(r).centers.length?(o(!0),n(x,{key:0},g(D(r).centers,(e,Z)=>{var j,V,q;return o(),n("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-100"},[t("td",Pt,[t("div",Qt,[t("div",Rt,[t("p",Wt,c(Z+1),1)])])]),t("td",Xt,[t("p",Yt,c((j=e==null?void 0:e.zamat)==null?void 0:j.name),1)]),t("td",te,[t("p",ee,c((e==null?void 0:e.gender)==="male"?"ছাত্র":(e==null?void 0:e.gender)==="female"?"ছাত্রী":"ছাত্র ও ছাত্রী"),1)]),t("td",se,[t("p",oe,c(((V=e.institute)==null?void 0:V.name)||"N/A"),1)]),t("td",le,[t("p",ae,c(((q=e==null?void 0:e.group)==null?void 0:q.name)||"N/A"),1)]),t("td",ne,[t("div",de,[t("button",{onClick:B=>b(e),class:"text-blue-600 hover:text-blue-800"},re,8,ie),t("button",{onClick:B=>w(e),class:"text-red-600 hover:text-red-800"},pe,8,ue)])])])}),128)):(o(),n("tr",me,he))])])])),i.value?(o(),S(rt,{key:2,class:"z-40",onClose:m})):M("",!0),d.value?(o(),S(Dt,{key:3,class:"z-40",center:u.value,onClose:v},null,8,["center"])):M("",!0),l.value?(o(),S(It,{key:4,class:"z-40",center:u.value,onClose:k},null,8,["center"])):M("",!0)]))}};export{$e as default};
