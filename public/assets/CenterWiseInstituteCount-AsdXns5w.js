import{u as k}from"./student-CUsVnm7Y.js";import{r as p,o as S,c as e,a as t,h as _,t as r,F as i,e as u,d as s,z as B}from"./index-9E9STZuZ.js";const D={class:"my-container max-w-4xl card-bg p-4 md:p-10 space-y-4"},L={key:0,class:"text-center text-gray-500"},w={key:1,class:"text-red-500"},C={key:2,class:"space-y-4 break-before-all"},z={class:"title-lg"},j={class:"min-w-full table-auto"},I={class:"py-1 px-2 text-left border border-black"},N={class:"py-1 px-2 text-left border border-black"},T={class:"py-1 px-2 text-right border border-black"},V={class:"py-1 px-2 text-left border border-black"},F={class:"title-md"},O={class:"font-bold"},W={class:"flex gap-4 text-sm"},A={class:"font-semibold"},q={__name:"CenterWiseInstituteCount",setup(E){const y=k(),x=p(null),c=p(!1),d=p(null),g=n=>Object.values(n).reduce((a,o)=>a+o.student_count,0).toLocaleString("bn-BD");S(async()=>{c.value=!0;try{const n=await y.fetchCenterWiseInstituteCount();x.value=n}catch(n){d.value=n.message||"An error occurred while fetching data."}finally{c.value=!1}});const h=()=>{window.print()};return(n,a)=>(s(),e("div",D,[a[2]||(a[2]=t("h1",{class:"title-xl text-center"},"মারকায অনুযায়ী মাদরাসা তালিকা",-1)),t("div",{class:"flex justify-center"},[t("button",{onClick:h,class:"btn-2"},"প্রিন্ট")]),c.value?(s(),e("div",L,"Loading data...")):_("",!0),d.value?(s(),e("div",w,r(d.value),1)):_("",!0),!c.value&&!d.value?(s(),e("div",C,[(s(!0),e(i,null,u(x.value,(o,f)=>(s(),e("div",{key:f,class:"border-b-2 pb-2"},[t("h2",z,"মারকায: "+r(o.center),1),t("table",j,[a[1]||(a[1]=t("thead",{class:"bg-gray-400 text-white uppercase text-sm leading-normal border border-black"},[t("tr",null,[t("th",{class:"py-1 px-2 text-left border border-black"},"মারহালা"),t("th",{class:"py-1 px-2 text-left border border-black"},"পরীক্ষার্থী সংখ্যা")])],-1)),t("tbody",null,[(s(!0),e(i,null,u(o.zamats,(l,b)=>(s(),e("tr",{key:b,class:"text-sm"},[t("td",I,r(l.zamat_name),1),t("td",N,r(l.student_count.toLocaleString("bn-BD"))+" জন ",1)]))),128)),t("tr",T,[a[0]||(a[0]=t("td",{class:"py-1 px-2 text-right border border-black"},[t("strong",null,"মোট:")],-1)),t("td",V,[t("strong",null,r(o.Total.toLocaleString("bn-BD"))+" জন",1)])])])]),t("div",null,[t("h3",F," এই মারকাযের অন্তর্ভুক্ত মাদরাসা ("+r(Object.keys(o.institutes).length.toLocaleString("bn-BD"))+"টি): ",1),(s(!0),e(i,null,u(o.institutes,(l,b)=>(s(),e("div",{key:b,class:"grid border px-2 py-1"},[t("p",O,r(l.institute_code.toLocaleString("bn-BD"))+" - "+r(l.institute_name)+" ("+r(g(l.zamats))+" জন) ",1),t("div",W,[(s(!0),e(i,null,u(l.zamats,(m,v)=>(s(),e("div",{key:v},[t("span",A,r(m.zamat_name)+":",1),B(" "+r(m.student_count.toLocaleString("bn-BD"))+" জন, ",1)]))),128))])]))),128))])]))),128))])):_("",!0)]))}};export{q as default};
