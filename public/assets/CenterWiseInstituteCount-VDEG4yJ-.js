import{u as B}from"./student-CTs_JD4z.js";import{r as p,o as S,c as r,a as t,k as w,h as _,t as e,F as u,e as i,d as s,y as m,L}from"./index-bedsuSRC.js";const D={class:"my-container max-w-4xl card-bg p-4 md:p-10 space-y-4"},C={key:1,class:"text-red-500"},V={key:2,class:"space-y-4"},j={class:"title-lg"},z={class:"min-w-full table-auto"},I={class:"py-1 px-2 text-left border border-black"},N={class:"py-1 px-2 text-left border border-black"},T={class:"py-1 px-2 text-right border border-black"},A={class:"py-1 px-2 text-left border border-black"},F={class:"title-md"},O={class:"font-bold"},W={class:"flex gap-4 text-sm"},E={class:"font-semibold"},G={__name:"CenterWiseInstituteCount",setup(M){const g=B(),x=p(null),c=p(!1),d=p(null),h=n=>Object.values(n).reduce((l,o)=>l+o.student_count,0).toLocaleString("bn-BD");S(async()=>{c.value=!0;try{const n=await g.fetchCenterWiseInstituteCount();x.value=n}catch(n){d.value=n.message||"An error occurred while fetching data."}finally{c.value=!1}});const f=()=>{window.print()};return(n,l)=>(s(),r("div",D,[l[3]||(l[3]=t("h1",{class:"title-xl text-center"},"মারকায অনুযায়ী মাদরাসা তালিকা",-1)),t("div",{class:"flex justify-center print:hidden"},[t("button",{onClick:f,class:"btn-2"},"প্রিন্ট")]),c.value?(s(),w(L,{key:0})):_("",!0),d.value?(s(),r("div",C,e(d.value),1)):_("",!0),!c.value&&!d.value?(s(),r("div",V,[(s(!0),r(u,null,i(x.value,(o,k)=>(s(),r("div",{key:k,class:"pb-8",style:{pageBreakAfter:"always"}},[t("h2",j,"মারকায: "+e(o.center),1),t("table",z,[l[1]||(l[1]=t("thead",{class:"bg-gray-400 text-white uppercase text-sm leading-normal border border-black"},[t("tr",null,[t("th",{class:"py-1 px-2 text-left border border-black"},"মারহালা"),t("th",{class:"py-1 px-2 text-left border border-black"},"পরীক্ষার্থী সংখ্যা")])],-1)),t("tbody",null,[(s(!0),r(u,null,i(o.zamats,(a,b)=>(s(),r("tr",{key:b,class:"text-sm"},[t("td",I,e(a.zamat_name),1),t("td",N,e(a.student_count.toLocaleString("bn-BD"))+" জন ",1)]))),128)),t("tr",T,[l[0]||(l[0]=t("td",{class:"py-1 px-2 text-right border border-black"},[t("strong",null,"মোট:")],-1)),t("td",A,[t("strong",null,e(o.Total.toLocaleString("bn-BD"))+" জন",1)])])])]),t("div",null,[t("h3",F," এই মারকাযের অন্তর্ভুক্ত মাদরাসা ("+e(Object.keys(o.institutes).length.toLocaleString("bn-BD"))+"টি): ",1),(s(!0),r(u,null,i(o.institutes,(a,b)=>(s(),r("div",{key:b,class:"grid border px-2 py-1"},[t("p",O,e(a.institute_code.toLocaleString("bn-BD"))+" - "+e(a.institute_name)+" ("+e(h(a.zamats))+" জন) ",1),t("p",null,[l[2]||(l[2]=t("b",null,"ফোন: ",-1)),m(e(a.phone),1)]),t("div",W,[(s(!0),r(u,null,i(a.zamats,(y,v)=>(s(),r("div",{key:v},[t("span",E,e(y.zamat_name)+":",1),m(" "+e(y.student_count.toLocaleString("bn-BD"))+" জন, ",1)]))),128))])]))),128))])]))),128))])):_("",!0)]))}};export{G as default};
