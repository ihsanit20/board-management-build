import{u as k}from"./student-Cuj6Q-TU.js";import{r as p,o as B,c as e,a as t,h as _,t as a,F as i,e as u,d as s,z as S}from"./index-CuVS5FRI.js";const w={class:"my-container max-w-4xl card-bg p-4 md:p-10 space-y-4"},D={key:0,class:"text-center text-gray-500"},L={key:1,class:"text-red-500"},C={key:2,class:"space-y-4"},z={class:"title-lg"},j={class:"min-w-full table-auto"},I={class:"py-1 px-2 text-left border border-black"},N={class:"py-1 px-2 text-left border border-black"},T={class:"py-1 px-2 text-right border border-black"},V={class:"py-1 px-2 text-left border border-black"},A={class:"title-md"},F={class:"font-bold"},O={class:"flex gap-4 text-sm"},W={class:"font-semibold"},q={__name:"CenterWiseInstituteCount",setup(E){const g=k(),x=p(null),c=p(!1),d=p(null),m=n=>Object.values(n).reduce((r,l)=>r+l.student_count,0).toLocaleString("bn-BD");B(async()=>{c.value=!0;try{const n=await g.fetchCenterWiseInstituteCount();x.value=n}catch(n){d.value=n.message||"An error occurred while fetching data."}finally{c.value=!1}});const h=()=>{window.print()};return(n,r)=>(s(),e("div",w,[r[2]||(r[2]=t("h1",{class:"title-xl text-center"},"মারকায অনুযায়ী মাদরাসা তালিকা",-1)),t("div",{class:"flex justify-center print:hidden"},[t("button",{onClick:h,class:"btn-2"},"প্রিন্ট")]),c.value?(s(),e("div",D,"Loading data...")):_("",!0),d.value?(s(),e("div",L,a(d.value),1)):_("",!0),!c.value&&!d.value?(s(),e("div",C,[(s(!0),e(i,null,u(x.value,(l,f)=>(s(),e("div",{key:f,class:"pb-8",style:{pageBreakAfter:"always"}},[t("h2",z,"মারকায: "+a(l.center),1),t("table",j,[r[1]||(r[1]=t("thead",{class:"bg-gray-400 text-white uppercase text-sm leading-normal border border-black"},[t("tr",null,[t("th",{class:"py-1 px-2 text-left border border-black"},"মারহালা"),t("th",{class:"py-1 px-2 text-left border border-black"},"পরীক্ষার্থী সংখ্যা")])],-1)),t("tbody",null,[(s(!0),e(i,null,u(l.zamats,(o,b)=>(s(),e("tr",{key:b,class:"text-sm"},[t("td",I,a(o.zamat_name),1),t("td",N,a(o.student_count.toLocaleString("bn-BD"))+" জন ",1)]))),128)),t("tr",T,[r[0]||(r[0]=t("td",{class:"py-1 px-2 text-right border border-black"},[t("strong",null,"মোট:")],-1)),t("td",V,[t("strong",null,a(l.Total.toLocaleString("bn-BD"))+" জন",1)])])])]),t("div",null,[t("h3",A," এই মারকাযের অন্তর্ভুক্ত মাদরাসা ("+a(Object.keys(l.institutes).length.toLocaleString("bn-BD"))+"টি): ",1),(s(!0),e(i,null,u(l.institutes,(o,b)=>(s(),e("div",{key:b,class:"grid border px-2 py-1"},[t("p",F,a(o.institute_code.toLocaleString("bn-BD"))+" - "+a(o.institute_name)+" ("+a(m(o.zamats))+" জন) ",1),t("div",O,[(s(!0),e(i,null,u(o.zamats,(y,v)=>(s(),e("div",{key:v},[t("span",W,a(y.zamat_name)+":",1),S(" "+a(y.student_count.toLocaleString("bn-BD"))+" জন, ",1)]))),128))])]))),128))])]))),128))])):_("",!0)]))}};export{q as default};
