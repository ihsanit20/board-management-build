import{u as B}from"./student-DIXW7nU4.js";import{r as _,i as L,o as w,c as e,a as n,k as D,h as r,t as a,F as v,e as h,d as t,y as m,L as W}from"./index-q8lYwX3i.js";const I={class:"my-container max-w-4xl card-bg p-4 md:p-10"},V={key:1,class:"text-red-500 text-center"},F={key:2,class:"py-2"},T={class:"title-md text-red-600"},j={class:"list-disc pl-5"},E={class:""},M={key:3},N={key:0,class:"title-md"},O={class:"text-green-600"},P={class:"list-disc pl-5"},q={class:""},H={__name:"CenterWiseStudentCount",setup(z){const y=B(),p=_(!1),i=_(null),l=_({}),d=_([]),S=L(()=>d.value.reduce((u,s)=>u+parseInt(s.student_count,10),0).toLocaleString("bn-BD")),f=async()=>{p.value=!0,i.value=null;try{await y.fetchCenterWiseStudentCount(),l.value=y.centerWiseStudentCount,l.value[""]&&(d.value=l.value[""],delete l.value[""])}catch(c){i.value=c.message||"Failed to fetch student counts"}finally{p.value=!1}},k=c=>c.reduce((s,o)=>s+parseInt(o.student_count,10),0).toLocaleString("bn-BD"),C=()=>{window.print()};return w(()=>{f()}),(c,u)=>(t(),e("div",I,[n("div",{class:"flex justify-between items-center mb-4"},[u[0]||(u[0]=n("h2",{class:"title-xl text-center"},"মারকায অনুসারে পরীক্ষার্থী সংখ্যা",-1)),n("button",{onClick:C,class:"btn-2"},"প্রিন্ট")]),p.value?(t(),D(W,{key:0,class:"shadow-none"})):r("",!0),i.value?(t(),e("div",V,a(i.value),1)):r("",!0),d.value.length?(t(),e("div",F,[n("h3",T," মারকায বিহীন পরীক্ষার্থী সংখ্যা: "+a(S.value)+" জন ",1),n("ul",j,[(t(!0),e(v,null,h(d.value,(s,o)=>(t(),e("li",{key:o,class:"text-gray-600"},[m(a(s.zamat_name)+": ",1),n("span",E,a(parseInt(s.student_count).toLocaleString("bn-BD"))+" জন",1)]))),128))])])):r("",!0),Object.keys(l.value).length?(t(),e("div",M,[(t(!0),e(v,null,h(l.value,(s,o,x)=>(t(),e("div",{key:o,class:"py-2"},[o?(t(),e("h3",N,[m(a((x+1).toLocaleString("bn-BD"))+". "+a(o)+" ",1),n("span",O,"(মোট "+a(k(s))+" জন)",1)])):r("",!0),n("ul",P,[(t(!0),e(v,null,h(s,(g,b)=>(t(),e("li",{key:b,class:""},[m(a(g.zamat_name)+": ",1),n("span",q,a(parseInt(g.student_count).toLocaleString("bn-BD"))+" জন",1)]))),128))])]))),128))])):r("",!0)]))}};export{H as default};
