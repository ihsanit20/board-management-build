import{u as K}from"./application-C476LtmO.js";import{u as M}from"./institute-BcmW3tQJ.js";import{u as P}from"./student-DZXyYH00.js";import{_ as R,r as i,i as z,o as U,c as d,a as t,t as o,f as _,w as f,b as p,F as V,e as D,h as Z,d as r,y as b,R as y}from"./index-CtTQ_1iG.js";const q={class:"grid gap-4 md:grid-cols-4 px-4"},G={class:"card-bg p-4 md:p-8"},H={key:0,class:"flex justify-center items-center h-32"},J={key:1},O={class:"grid divide-y-2"},Q={class:"flex justify-between items-center py-1"},X={class:"text-xl font-bold"},Y={class:"flex justify-between items-center py-1"},$={class:"text-xl font-bold text-yellow-500"},tt={class:"flex justify-between items-center py-1"},st={class:"text-xl font-bold text-green-500"},et={class:"flex justify-between items-center py-1"},ot={class:"text-xl font-bold text-blue-600"},lt={class:"flex justify-between items-center py-1"},nt={class:"text-xl font-bold text-gray-700"},it={class:"flex justify-between items-center py-1"},at={class:"text-xl font-bold text-pink-500"},dt={class:"flex gap-4 justify-between mt-4"},rt={class:"card-bg p-4 md:p-8"},ct={key:0,class:"flex justify-center items-center h-32"},ut={key:1},pt={class:"grid divide-y-2"},xt={class:"flex justify-between items-center py-1"},_t={class:"text-xl font-bold"},ft={class:"flex justify-between items-center py-1"},bt={class:"text-xl font-bold"},yt={class:"flex justify-between items-center py-1"},vt={class:"text-xl font-bold"},mt={class:"text-xl font-bold text-green-500"},ht={class:"text-xl font-bold text-red-500"},gt={class:"md:col-span-2"},wt={class:"card-bg p-4 md:p-8"},At={key:0,class:"flex justify-center items-center h-32"},kt={key:1},jt={class:"overflow-x-auto"},St={class:"table-auto w-full text-left border-collapse"},Ct={class:"border px-2 py-2 text-center"},It={class:"border px-2 py-2"},Nt={class:"border px-2 py-2 text-center"},Bt={class:"border px-2 py-2 text-center"},Wt={class:"bg-gray-100 font-bold"},zt={class:"border px-2 py-2 text-center"},Vt={class:"border px-2 py-2 text-center"},Dt={key:0,class:"mt-4"},Ft={class:"md:col-span-2"},Lt={class:"card-bg p-4 md:p-8"},Tt={key:0,class:"flex justify-center items-center h-32"},Et={key:1},Kt={class:"overflow-x-auto"},Mt={class:"table-auto w-full text-left border-collapse"},Pt={class:"border px-2 py-2 text-center"},Rt={class:"border px-2 py-2"},Ut={class:"border px-2 py-2 text-center"},Zt={class:"border px-2 py-2 text-center"},qt={class:"bg-gray-100 font-bold"},Gt={class:"border px-2 py-2 text-center"},Ht={class:"border px-2 py-2 text-center"},Jt={__name:"DashBoard",setup(Ot){const l=K(),u=M(),v=P(),m=i(0),h=i(0),g=i(0),w=i(0),A=i(0),k=i(0),j=i(0),S=i(0),C=i(0),I=i(0),N=i(0),F=i(0),L=i(0),T=i(0),E=i(0),x=i(!0),B=z(()=>{const c=Array.isArray(l.zamatCounts)?l.zamatCounts:[],s=c.reduce((n,e)=>n+(Number(e==null?void 0:e.total_applications)||0),0),a=c.reduce((n,e)=>n+(Number(e==null?void 0:e.total_students)||0),0);return{apps:s,students:a}}),W=z(()=>{const c=Array.isArray(l.userCounts)?l.userCounts:[],s=c.reduce((n,e)=>n+(Number(e==null?void 0:e.total_applications)||0),0),a=c.reduce((n,e)=>n+(Number(e==null?void 0:e.total_students)||0),0);return{apps:s,students:a}});return U(async()=>{var c,s,a,n;try{await Promise.all([l.fetchApplicationCounts(),l.fetchZamatWiseCounts(),l.fetchUserWiseCounts(),u.fetchInstituteCounts(),u.fetchInstitutesApplicationStatusCounts(),v.fetchStudentRollCount()]);const e=v.StudentRollCount;F.value=((c=e==null?void 0:e.with_roll)==null?void 0:c.student_count)||0,L.value=((s=e==null?void 0:e.without_roll)==null?void 0:s.student_count)||0,T.value=((a=e==null?void 0:e.with_roll)==null?void 0:a.institute_count)||0,E.value=((n=e==null?void 0:e.without_roll)==null?void 0:n.institute_count)||0,m.value=l.totalApplications,h.value=l.pendingApplications,g.value=l.paidApplications,k.value=l.totalStudents,w.value=l.onlineApplications??0,A.value=l.offlineApplications??0,j.value=u.totalInstitutes,S.value=u.activeInstitutes,C.value=u.centerInstitutes,I.value=u.withApplications,N.value=u.withoutApplications}catch(e){console.error("Error fetching data:",e)}finally{x.value=!1}}),(c,s)=>(r(),d("div",q,[t("div",null,[t("div",G,[s[9]||(s[9]=t("h1",{class:"title-lg"},"নিবন্ধনের অবস্থা",-1)),s[10]||(s[10]=t("hr",null,null,-1)),x.value?(r(),d("div",H,s[0]||(s[0]=[t("div",{class:"loader"},null,-1)]))):(r(),d("div",J,[t("div",O,[t("div",Q,[s[1]||(s[1]=t("h2",{class:"text-lg font-medium"},"মোট নিবন্ধন",-1)),t("span",X,o(m.value)+" টি",1)]),t("div",Y,[s[2]||(s[2]=t("h2",{class:"text-lg font-medium"},"পেন্ডিং নিবন্ধন",-1)),t("span",$,o(h.value)+" টি",1)]),t("div",tt,[s[3]||(s[3]=t("h2",{class:"text-lg font-medium"},"পেইড নিবন্ধন",-1)),t("span",st,o(g.value)+" টি",1)]),t("div",et,[s[4]||(s[4]=t("h2",{class:"text-lg font-medium"},"অনলাইন (bKash)",-1)),t("span",ot,o(w.value)+" টি",1)]),t("div",lt,[s[5]||(s[5]=t("h2",{class:"text-lg font-medium"},"অফলাইন (Cash/Bank)",-1)),t("span",nt,o(A.value)+" টি",1)]),t("div",it,[s[6]||(s[6]=t("h2",{class:"text-lg font-medium"},"মোট পরীক্ষার্থী",-1)),t("span",at,o(k.value)+" জন",1)])]),t("div",dt,[_(p(y),{to:{name:"ApplicationList"},class:"btn-3"},{default:f(()=>s[7]||(s[7]=[b(" সব দেখুন ")])),_:1}),_(p(y),{to:{name:"ApplicationForm"},class:"btn-2"},{default:f(()=>s[8]||(s[8]=[b(" নতুন নিবন্ধন ")])),_:1})])]))])]),t("div",null,[t("div",rt,[s[17]||(s[17]=t("h1",{class:"title-lg"},"মাদরাসা সম্পর্কিত তথ্য",-1)),s[18]||(s[18]=t("hr",null,null,-1)),x.value?(r(),d("div",ct,s[11]||(s[11]=[t("div",{class:"loader"},null,-1)]))):(r(),d("div",ut,[t("div",pt,[t("div",xt,[s[12]||(s[12]=t("h2",{class:"text-lg font-medium"},"মোট মাদরাসা সংখ্যা",-1)),t("span",_t,o(j.value)+" টি",1)]),t("div",ft,[s[13]||(s[13]=t("h2",{class:"text-lg font-medium"},"একটিভ মাদরাসা",-1)),t("span",bt,o(S.value)+" টি",1)]),t("div",yt,[s[14]||(s[14]=t("h2",{class:"text-lg font-medium"},"মারকায মাদরাসা সংখ্যা",-1)),t("span",vt,o(C.value)+" টি",1)]),_(p(y),{to:"/dashboard/ins-app?tab=registered",class:"flex justify-between items-center py-1"},{default:f(()=>[s[15]||(s[15]=t("h2",{class:"text-lg font-medium"},[b(" নিবন্ধনপত্র জমা দিয়েছে "),t("span",{class:"btn-link text-xs"},"(See list)")],-1)),t("span",mt,o(I.value)+" টি",1)]),_:1}),_(p(y),{to:"/dashboard/ins-app?tab=unregistered",class:"flex justify-between items-center py-1"},{default:f(()=>[s[16]||(s[16]=t("h2",{class:"text-lg font-medium"},[b(" নিবন্ধনপত্র জমা দেয়নি "),t("span",{class:"btn-link text-xs"},"(See list)")],-1)),t("span",ht,o(N.value)+" টি",1)]),_:1})])]))])]),t("div",gt,[t("div",wt,[s[22]||(s[22]=t("h2",{class:"title-lg"},"মারহালা অনুসারে নিবন্ধন ও পরীক্ষার্থীর সংখ্যা",-1)),x.value?(r(),d("div",At,s[19]||(s[19]=[t("div",{class:"loader"},null,-1)]))):(r(),d("div",kt,[t("div",jt,[t("table",St,[s[21]||(s[21]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border px-2 py-2 text-center"},"#"),t("th",{class:"border px-2 py-2 text-center"},"মারহালা"),t("th",{class:"border px-2 py-2 text-center"},"নিবন্ধন সংখ্যা"),t("th",{class:"border px-2 py-2 text-center"},"পরীক্ষার্থী সংখ্যা")])],-1)),t("tbody",null,[(r(!0),d(V,null,D(p(l).zamatCounts,(a,n)=>(r(),d("tr",{key:n},[t("td",Ct,o(n+1),1),t("td",It,o(a.zamat_name),1),t("td",Nt,o(a.total_applications)+" টি",1),t("td",Bt,o(a.total_students)+" জন",1)]))),128)),t("tr",Wt,[s[20]||(s[20]=t("td",{colspan:"2",class:"border px-2 py-2 text-right"},"মোট:",-1)),t("td",zt,o(B.value.apps)+" টি",1),t("td",Vt,o(B.value.students)+" জন",1)])])])]),p(l).zamatCounts.length?Z("",!0):(r(),d("div",Dt,"No data available"))]))])]),t("div",Ft,[t("div",Lt,[s[26]||(s[26]=t("h2",{class:"title-lg"},"ইউজার অনুসারে জমাকৃত নিবন্ধন সংখ্যা",-1)),x.value?(r(),d("div",Tt,s[23]||(s[23]=[t("div",{class:"loader"},null,-1)]))):(r(),d("div",Et,[t("div",Kt,[t("table",Mt,[s[25]||(s[25]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border px-2 py-2 text-center"},"#"),t("th",{class:"border px-2 py-2 text-center"},"ইউজারের নাম"),t("th",{class:"border px-2 py-2 text-center"},"নিবন্ধন সংখ্যা"),t("th",{class:"border px-2 py-2 text-center"},"পরীক্ষার্থী সংখ্যা")])],-1)),t("tbody",null,[(r(!0),d(V,null,D(p(l).userCounts,(a,n)=>(r(),d("tr",{key:n},[t("td",Pt,o(n+1),1),t("td",Rt,o(a.submitted_by_name),1),t("td",Ut,o(a.total_applications)+" টি",1),t("td",Zt,o(a.total_students)+" জন",1)]))),128)),t("tr",qt,[s[24]||(s[24]=t("td",{colspan:"2",class:"border px-2 py-2 text-right"},"মোট:",-1)),t("td",Gt,o(W.value.apps)+" টি",1),t("td",Ht,o(W.value.students)+" জন",1)])])])])]))])])]))}},ts=R(Jt,[["__scopeId","data-v-e0dc6ffd"]]);export{ts as default};
