import{u as P}from"./application-Ce0Jqh45.js";import{u as R}from"./institute-Dzl9koOx.js";import{u as K}from"./student-BhrrDcDg.js";import{_ as M,r as i,i as L,o as U,c as a,a as t,t as o,f,w as _,b as c,F as T,e as E,h as Z,d,k as m,R as v}from"./index-DXxrbR31.js";const q={class:"grid gap-4 md:grid-cols-4 px-4"},G={class:"card-bg p-4 md:p-8"},H={key:0,class:"flex justify-center items-center h-32"},J={key:1,class:"grid divide-y-2"},O={class:"flex justify-between items-center py-1"},Q={class:"text-xl font-bold text-green-600"},X={class:"flex justify-between items-center py-1 ml-4"},Y={class:"text-xl font-bold text-green-600"},$={class:"flex justify-between items-center py-1"},tt={class:"text-xl font-bold text-red-600"},st={class:"flex justify-between items-center py-1 ml-4"},et={class:"text-xl font-bold text-red-600"},ot={class:"card-bg p-4 md:p-8"},lt={key:0,class:"flex justify-center items-center h-32"},nt={key:1},it={class:"grid divide-y-2"},at={class:"flex justify-between items-center py-1"},dt={class:"text-xl font-bold"},rt={class:"flex justify-between items-center py-1"},ut={class:"text-xl font-bold text-yellow-500"},ct={class:"flex justify-between items-center py-1"},pt={class:"text-xl font-bold text-green-500"},xt={class:"flex justify-between items-center py-1"},ft={class:"text-xl font-bold text-blue-600"},_t={class:"flex justify-between items-center py-1"},mt={class:"text-xl font-bold text-gray-700"},vt={class:"flex justify-between items-center py-1"},bt={class:"text-xl font-bold text-pink-500"},yt={class:"flex gap-4 justify-between mt-4"},ht={class:"card-bg p-4 md:p-8"},gt={key:0,class:"flex justify-center items-center h-32"},wt={key:1},At={class:"grid divide-y-2"},jt={class:"flex justify-between items-center py-1"},kt={class:"text-xl font-bold"},St={class:"flex justify-between items-center py-1"},Ct={class:"text-xl font-bold"},It={class:"flex justify-between items-center py-1"},Nt={class:"text-xl font-bold"},Wt={class:"text-xl font-bold text-green-500"},Bt={class:"text-xl font-bold text-red-500"},zt={class:"md:col-span-2"},Vt={class:"card-bg p-4 md:p-8"},Dt={key:0,class:"flex justify-center items-center h-32"},Ft={key:1},Lt={class:"overflow-x-auto"},Tt={class:"table-auto w-full text-left border-collapse"},Et={class:"border px-2 py-2 text-center"},Pt={class:"border px-2 py-2"},Rt={class:"border px-2 py-2 text-center"},Kt={class:"border px-2 py-2 text-center"},Mt={class:"bg-gray-100 font-bold"},Ut={class:"border px-2 py-2 text-center"},Zt={class:"border px-2 py-2 text-center"},qt={key:0,class:"mt-4"},Gt={class:"md:col-span-2"},Ht={class:"card-bg p-4 md:p-8"},Jt={key:0,class:"flex justify-center items-center h-32"},Ot={key:1},Qt={class:"overflow-x-auto"},Xt={class:"table-auto w-full text-left border-collapse"},Yt={class:"border px-2 py-2 text-center"},$t={class:"border px-2 py-2"},ts={class:"border px-2 py-2 text-center"},ss={class:"border px-2 py-2 text-center"},es={class:"bg-gray-100 font-bold"},os={class:"border px-2 py-2 text-center"},ls={class:"border px-2 py-2 text-center"},ns={__name:"DashBoard",setup(is){const l=P(),p=R(),b=K(),y=i(0),h=i(0),g=i(0),w=i(0),A=i(0),j=i(0),k=i(0),S=i(0),C=i(0),I=i(0),N=i(0),W=i(0),B=i(0),z=i(0),V=i(0),x=i(!0),D=L(()=>{const u=Array.isArray(l.zamatCounts)?l.zamatCounts:[],s=u.reduce((n,e)=>n+(Number(e==null?void 0:e.total_applications)||0),0),r=u.reduce((n,e)=>n+(Number(e==null?void 0:e.total_students)||0),0);return{apps:s,students:r}}),F=L(()=>{const u=Array.isArray(l.userCounts)?l.userCounts:[],s=u.reduce((n,e)=>n+(Number(e==null?void 0:e.total_applications)||0),0),r=u.reduce((n,e)=>n+(Number(e==null?void 0:e.total_students)||0),0);return{apps:s,students:r}});return U(async()=>{var u,s,r,n;try{await Promise.all([l.fetchApplicationCounts(),l.fetchZamatWiseCounts(),l.fetchUserWiseCounts(),p.fetchInstituteCounts(),p.fetchInstitutesApplicationStatusCounts(),b.fetchStudentRollCount()]);const e=b.StudentRollCount;W.value=((u=e==null?void 0:e.with_roll)==null?void 0:u.student_count)||0,B.value=((s=e==null?void 0:e.without_roll)==null?void 0:s.student_count)||0,z.value=((r=e==null?void 0:e.with_roll)==null?void 0:r.institute_count)||0,V.value=((n=e==null?void 0:e.without_roll)==null?void 0:n.institute_count)||0,y.value=l.totalApplications,h.value=l.pendingApplications,g.value=l.paidApplications,j.value=l.totalStudents,w.value=l.onlineApplications??0,A.value=l.offlineApplications??0,k.value=p.totalInstitutes,S.value=p.activeInstitutes,C.value=p.centerInstitutes,I.value=p.withApplications,N.value=p.withoutApplications}catch(e){console.error("Error fetching data:",e)}finally{x.value=!1}}),(u,s)=>(d(),a("div",q,[t("div",G,[s[6]||(s[6]=t("h4",{class:"title-lg"},"নিবন্ধনকৃতদের ফি জমা",-1)),s[7]||(s[7]=t("hr",null,null,-1)),x.value?(d(),a("div",H,s[0]||(s[0]=[t("div",{class:"loader"},null,-1)]))):(d(),a("div",J,[t("div",O,[s[1]||(s[1]=t("h2",{class:"text-lg font-medium"},"ফি জমা দিয়েছে",-1)),t("span",Q,o(W.value)+" জন",1)]),t("div",X,[s[2]||(s[2]=t("h2",{class:"text-lg font-medium"},"মাদরাসা সংখ্যা",-1)),t("span",Y,o(z.value)+" টি",1)]),t("div",$,[s[3]||(s[3]=t("h2",{class:"text-lg font-medium"},"ফি জমা দেয়নি",-1)),t("span",tt,o(B.value)+" জন",1)]),t("div",st,[s[4]||(s[4]=t("h2",{class:"text-lg font-medium"},"মাদরাসা সংখ্যা",-1)),t("span",et,o(V.value)+" টি",1)]),f(c(v),{to:{name:"PrintStudentsWithAndWithoutRoll"},class:"btn-2 mt-4"},{default:_(()=>s[5]||(s[5]=[m(" তালিকা দেখুন "),t("i",{class:"fas fa-arrow-right ml-2"},null,-1)])),_:1})]))]),t("div",null,[t("div",ot,[s[17]||(s[17]=t("h1",{class:"title-lg"},"নিবন্ধনের অবস্থা",-1)),s[18]||(s[18]=t("hr",null,null,-1)),x.value?(d(),a("div",lt,s[8]||(s[8]=[t("div",{class:"loader"},null,-1)]))):(d(),a("div",nt,[t("div",it,[t("div",at,[s[9]||(s[9]=t("h2",{class:"text-lg font-medium"},"মোট নিবন্ধন",-1)),t("span",dt,o(y.value)+" টি",1)]),t("div",rt,[s[10]||(s[10]=t("h2",{class:"text-lg font-medium"},"পেন্ডিং নিবন্ধন",-1)),t("span",ut,o(h.value)+" টি",1)]),t("div",ct,[s[11]||(s[11]=t("h2",{class:"text-lg font-medium"},"পেইড নিবন্ধন",-1)),t("span",pt,o(g.value)+" টি",1)]),t("div",xt,[s[12]||(s[12]=t("h2",{class:"text-lg font-medium"},"অনলাইন (bKash)",-1)),t("span",ft,o(w.value)+" টি",1)]),t("div",_t,[s[13]||(s[13]=t("h2",{class:"text-lg font-medium"},"অফলাইন (Cash/Bank)",-1)),t("span",mt,o(A.value)+" টি",1)]),t("div",vt,[s[14]||(s[14]=t("h2",{class:"text-lg font-medium"},"মোট পরীক্ষার্থী",-1)),t("span",bt,o(j.value)+" জন",1)])]),t("div",yt,[f(c(v),{to:{name:"ApplicationList"},class:"btn-3"},{default:_(()=>s[15]||(s[15]=[m(" সব দেখুন ")])),_:1}),f(c(v),{to:{name:"ApplicationForm"},class:"btn-2"},{default:_(()=>s[16]||(s[16]=[m(" নতুন নিবন্ধন ")])),_:1})])]))])]),t("div",null,[t("div",ht,[s[25]||(s[25]=t("h1",{class:"title-lg"},"মাদরাসা সম্পর্কিত তথ্য",-1)),s[26]||(s[26]=t("hr",null,null,-1)),x.value?(d(),a("div",gt,s[19]||(s[19]=[t("div",{class:"loader"},null,-1)]))):(d(),a("div",wt,[t("div",At,[t("div",jt,[s[20]||(s[20]=t("h2",{class:"text-lg font-medium"},"মোট মাদরাসা সংখ্যা",-1)),t("span",kt,o(k.value)+" টি",1)]),t("div",St,[s[21]||(s[21]=t("h2",{class:"text-lg font-medium"},"একটিভ মাদরাসা",-1)),t("span",Ct,o(S.value)+" টি",1)]),t("div",It,[s[22]||(s[22]=t("h2",{class:"text-lg font-medium"},"মারকায মাদরাসা সংখ্যা",-1)),t("span",Nt,o(C.value)+" টি",1)]),f(c(v),{to:"/dashboard/ins-app?tab=registered",class:"flex justify-between items-center py-1"},{default:_(()=>[s[23]||(s[23]=t("h2",{class:"text-lg font-medium"},[m(" নিবন্ধনপত্র জমা দিয়েছে "),t("span",{class:"btn-link text-xs"},"(See list)")],-1)),t("span",Wt,o(I.value)+" টি",1)]),_:1}),f(c(v),{to:"/dashboard/ins-app?tab=unregistered",class:"flex justify-between items-center py-1"},{default:_(()=>[s[24]||(s[24]=t("h2",{class:"text-lg font-medium"},[m(" নিবন্ধনপত্র জমা দেয়নি "),t("span",{class:"btn-link text-xs"},"(See list)")],-1)),t("span",Bt,o(N.value)+" টি",1)]),_:1})])]))])]),t("div",zt,[t("div",Vt,[s[30]||(s[30]=t("h2",{class:"title-lg"},"মারহালা অনুসারে নিবন্ধন ও পরীক্ষার্থীর সংখ্যা",-1)),x.value?(d(),a("div",Dt,s[27]||(s[27]=[t("div",{class:"loader"},null,-1)]))):(d(),a("div",Ft,[t("div",Lt,[t("table",Tt,[s[29]||(s[29]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border px-2 py-2 text-center"},"#"),t("th",{class:"border px-2 py-2 text-center"},"মারহালা"),t("th",{class:"border px-2 py-2 text-center"},"নিবন্ধন সংখ্যা"),t("th",{class:"border px-2 py-2 text-center"},"পরীক্ষার্থী সংখ্যা")])],-1)),t("tbody",null,[(d(!0),a(T,null,E(c(l).zamatCounts,(r,n)=>(d(),a("tr",{key:n},[t("td",Et,o(n+1),1),t("td",Pt,o(r.zamat_name),1),t("td",Rt,o(r.total_applications)+" টি",1),t("td",Kt,o(r.total_students)+" জন",1)]))),128)),t("tr",Mt,[s[28]||(s[28]=t("td",{colspan:"2",class:"border px-2 py-2 text-right"},"মোট:",-1)),t("td",Ut,o(D.value.apps)+" টি",1),t("td",Zt,o(D.value.students)+" জন",1)])])])]),c(l).zamatCounts.length?Z("",!0):(d(),a("div",qt,"No data available"))]))])]),t("div",Gt,[t("div",Ht,[s[34]||(s[34]=t("h2",{class:"title-lg"},"ইউজার অনুসারে জমাকৃত নিবন্ধন সংখ্যা",-1)),x.value?(d(),a("div",Jt,s[31]||(s[31]=[t("div",{class:"loader"},null,-1)]))):(d(),a("div",Ot,[t("div",Qt,[t("table",Xt,[s[33]||(s[33]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border px-2 py-2 text-center"},"#"),t("th",{class:"border px-2 py-2 text-center"},"ইউজারের নাম"),t("th",{class:"border px-2 py-2 text-center"},"নিবন্ধন সংখ্যা"),t("th",{class:"border px-2 py-2 text-center"},"পরীক্ষার্থী সংখ্যা")])],-1)),t("tbody",null,[(d(!0),a(T,null,E(c(l).userCounts,(r,n)=>(d(),a("tr",{key:n},[t("td",Yt,o(n+1),1),t("td",$t,o(r.submitted_by_name),1),t("td",ts,o(r.total_applications)+" টি",1),t("td",ss,o(r.total_students)+" জন",1)]))),128)),t("tr",es,[s[32]||(s[32]=t("td",{colspan:"2",class:"border px-2 py-2 text-right"},"মোট:",-1)),t("td",os,o(F.value.apps)+" টি",1),t("td",ls,o(F.value.students)+" জন",1)])])])])]))])])]))}},cs=M(ns,[["__scopeId","data-v-d4902b32"]]);export{cs as default};
