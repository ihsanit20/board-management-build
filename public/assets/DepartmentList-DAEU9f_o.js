import{u as y}from"./department-CSPWoxl0.js";import{M as h,o as n,c as i,a as e,l as k,m as D,v as $,z as j,y as _,t as v,r as b,h as C,f as u,i as w,F as S,b as N,N as x}from"./index-B2JbgT2f.js";const V={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},z={class:"card-bg md:p-8 p-4 md:w-1/2"},B={class:"mb-4"},E={class:"flex justify-center gap-4"},q={__name:"AddDepartmentModal",emits:["close","saved"],setup(c,{emit:d}){const o=d,l=h({name:""}),a=y(),m=async()=>{await a.createDepartment(l),o("saved"),o("close")};return(p,t)=>(n(),i("div",V,[e("div",z,[t[4]||(t[4]=e("h2",{class:"text-xl font-bold mb-4"},"বিভাগ যুক্ত করুন",-1)),e("form",{onSubmit:k(m,["prevent"])},[e("div",B,[t[2]||(t[2]=e("label",{class:"block mb-2"},"নাম",-1)),D(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.name=s),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[$,l.name]])]),e("div",E,[t[3]||(t[3]=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1)),e("button",{type:"button",onClick:t[1]||(t[1]=s=>o("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},A={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},L={class:"card-bg md:p-8 p-4 md:w-1/2"},F={class:"mb-4"},O={class:"flex justify-center gap-4"},T={__name:"EditDepartmentModal",props:{department:Object},emits:["close","updated"],setup(c,{emit:d}){const o=d,l=c,a=h({name:""});j(()=>l.department,t=>{a.name=t.name||""},{immediate:!0});const m=y(),p=async()=>{await m.updateDepartment(l.department.id,a),o("updated"),o("close")};return(t,s)=>(n(),i("div",A,[e("div",L,[s[4]||(s[4]=e("h2",{class:"text-xl font-bold mb-4"},"বিভাগ সম্পাদনা",-1)),e("form",{onSubmit:k(p,["prevent"])},[e("div",F,[s[2]||(s[2]=e("label",{class:"block mb-2"},"Name",-1)),D(e("input",{"onUpdate:modelValue":s[0]||(s[0]=f=>a.name=f),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[$,a.name]])]),e("div",O,[s[3]||(s[3]=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1)),e("button",{type:"button",onClick:s[1]||(s[1]=f=>o("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},U={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},G={class:"card-bg p-4 md:p-8"},H={class:"flex justify-end mt-4"},I={__name:"DeleteDepartmentModal",props:{department:{type:Object,required:!0}},emits:["close","deleted"],setup(c,{emit:d}){const o=d,l=c,a=y(),m=async()=>{await a.deleteDepartment(l.department.id),o("deleted"),o("close")};return(p,t)=>(n(),i("div",U,[e("div",G,[t[3]||(t[3]=e("h2",{class:"text-xl font-bold mb-4"},"ডিলেট বিভাগ",-1)),e("p",null,[t[1]||(t[1]=_("আপনি কি (")),e("b",null,v(c.department.name),1),t[2]||(t[2]=_(") ডিলিট করতে চান?"))]),e("div",H,[e("button",{onClick:t[0]||(t[0]=s=>o("close")),class:"bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-600"}," না "),e("button",{onClick:m,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," ডিলেট ")])])]))}},J={class:"my-container space-y-2"},K={class:"flex justify-between items-center"},P={key:0,class:"flex justify-center items-center"},Q={key:1,class:"overflow-x-auto"},R={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},W={class:"bg-gray-200 text-gray-700 text-sm leading-normal"},X={class:"text-gray-600 text-sm font-light"},Y={class:"py-3 px-2 text-left whitespace-nowrap"},Z={class:"flex items-center"},ee={class:"mr-2"},te={class:"font-medium"},se={class:"py-3 px-2 text-left"},oe={class:"title-md"},ne={key:1},de={__name:"DepartmentList",setup(c){const d=y(),o=b(!1),l=b(!1),a=b(!1),m=b(null),p=b(!0),t=()=>o.value=!1,s=()=>l.value=!1,f=()=>a.value=!1;return C(async()=>{try{await d.fetchDepartments()}finally{p.value=!1}}),(le,r)=>(n(),i("div",J,[e("div",K,[r[0]||(r[0]=e("h1",{class:"title-lg"},"বিভাগ তালিকা",-1)),u("",!0)]),p.value?(n(),i("div",P,r[1]||(r[1]=[e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1)]))):(n(),i("div",Q,[e("table",R,[e("thead",null,[e("tr",W,[r[2]||(r[2]=e("th",{class:"py-3 px-2 text-left"},"#",-1)),r[3]||(r[3]=e("th",{class:"py-3 px-2 text-left"},"বিভাগের নাম",-1)),u("",!0)])]),e("tbody",X,[w(d).departments.length?(n(!0),i(S,{key:0},N(w(d).departments,(g,M)=>(n(),i("tr",{key:g.id,class:"border-b border-gray-200 hover:bg-gray-100"},[e("td",Y,[e("div",Z,[e("div",ee,[e("p",te,v(M+1),1)])])]),e("td",se,[e("p",oe,v(g.name),1)]),u("",!0)]))),128)):(n(),i("tr",ne,r[6]||(r[6]=[e("td",{colspan:"5",class:"text-center text-red-500 py-4"},"No departments found",-1)])))])])])),o.value?(n(),x(q,{key:2,class:"z-40",onClose:t})):u("",!0),l.value?(n(),x(T,{key:3,class:"z-40",department:m.value,onClose:s},null,8,["department"])):u("",!0),a.value?(n(),x(I,{key:4,class:"z-40",department:m.value,onClose:f},null,8,["department"])):u("",!0)]))}};export{de as default};
