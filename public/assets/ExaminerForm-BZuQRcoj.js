import{A as N,r as V,N as j,i as I,o as M,B as D,c as i,a as e,l as T,t as r,b as g,m as o,C as p,F as x,e as v,v as n,z as S,h as z,d as a,q as O}from"./index-DAfAfB6V.js";import{u as R}from"./area-YVfTgPTC.js";import{u as $}from"./examiner-C37cMWig.js";import{u as G}from"./institute-CbI-t6zT.js";import{u as H}from"./center-D3HvmFSH.js";const J={class:"p-2"},K={class:"my-container max-w-2xl mx-auto space-y-4 card-bg md:p-8 p-4"},P={class:"grid gap-2"},Q={class:"font-semibold"},W={class:"grid md:grid-cols-2 gap-4"},X=["disabled"],Y=["value"],Z=["value"],h={class:"grid gap-2"},ee={class:"grid gap-2"},te={class:"grid md:grid-cols-2 gap-4"},se={class:"grid md:grid-cols-3 gap-4"},le=["onUpdate:modelValue"],oe=["onUpdate:modelValue"],ne=["onUpdate:modelValue"],ie={class:"grid md:grid-cols-2 gap-4 mt-2"},ae=["onUpdate:modelValue"],de=["onUpdate:modelValue"],ue={class:"flex justify-center"},re=["onClick"],pe={class:"grid gap-2"},me={class:"grid gap-2"},xe={class:"grid gap-2"},ve={class:"grid gap-2"},ye=["value"],ge={key:0,disabled:""},be=["value"],Ee={__name:"ExaminerForm",setup(ce){const U=O(),y=N(),k=R(),b=G(),w=H(),_=$(),C=V(!0),c=V(""),f=V(!1),l=j({name:"",phone:"",nid:"",address:"",education:[{exam:"",passing_year:"",result:"",institute:"",board:""}],institute_id:"",type:"",designation:"",exam_id:"",center_id:"",ex_experience:"",student_count:"",experience:{duration:"",books:""},status:"pending"}),B=I(()=>l.type==="examiner"?["মুমতাহিন (খাতা)","মুমতাহিন (মৌখিক, মীযান বালক)","মুমতাহিনা (মৌখিক, মীযান বালিকা)","মুমতাহিন (নাযিরা)","মুমতাহিন (হিফয)"]:l.type==="guard"?["হল পরিদর্শক","নেগরানে আলা","সহকারী নেগরান","হল ব্যবস্থাপক"]:[]),F=()=>{l.education.push({exam:"",passing_year:"",result:"",institute:"",board:""})},q=d=>{l.education.splice(d,1)},A=async()=>{try{if(!l.exam_id){console.error("Exam ID is missing!");return}await _.createExaminer(l),U.push({name:"ExaminerList"})}catch(d){console.error("Failed to save examiner:",d)}};M(async()=>{var d;try{await y.fetchLastExam(),await w.fetchCenters(),(d=y.exam)!=null&&d.id&&(l.exam_id=y.exam.id),await k.fetchAreas()}finally{C.value=!1}}),D(()=>c.value,async d=>{d?(f.value=!0,await b.fetchInstitutesByArea(d),f.value=!1):b.institutesByArea=[]});const L=()=>{U.push({name:"ExaminerList"})};return(d,t)=>{var E;return a(),i("div",J,[e("div",K,[t[35]||(t[35]=e("h1",{class:"text-2xl font-bold text-center"},"নেগরান/মুমতাহিন যুক্ত করুন",-1)),e("form",{onSubmit:T(A,["prevent"]),class:"space-y-4"},[e("div",P,[e("p",Q,"পরীক্ষা: "+r(((E=g(y).exam)==null?void 0:E.name)||"No exam selected"),1),t[20]||(t[20]=e("hr",{class:"border-gray-500"},null,-1)),e("div",W,[e("div",null,[t[15]||(t[15]=e("label",{class:"block"},null,-1)),o(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>l.type=s),class:"input-1"},t[14]||(t[14]=[e("option",{value:"",disabled:"",selected:""},"আবেদনের ধরণ নির্বাচন করুন",-1),e("option",{value:"guard"},"নেগরান",-1),e("option",{value:"examiner"},"মুমতাহিন",-1)]),512),[[p,l.type]])]),e("div",null,[o(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.designation=s),class:"input-1",disabled:!l.type},[t[16]||(t[16]=e("option",{value:"",disabled:"",selected:""},"পদবি নির্বাচন করুন",-1)),(a(!0),i(x,null,v(B.value,s=>(a(),i("option",{key:s,value:s},r(s),9,Y))),128))],8,X),[[p,l.designation]])])]),e("div",null,[o(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.center_id=s),class:"input-1",required:""},[t[17]||(t[17]=e("option",{value:"",disabled:""},"কাঙ্খিত মারকায নির্বাচন করুন",-1)),(a(!0),i(x,null,v(g(w).centers,s=>{var m;return a(),i("option",{key:s.id,value:s==null?void 0:s.institute_id},r((m=s==null?void 0:s.institute)==null?void 0:m.name),9,Z)}),128))],512),[[p,l.center_id]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block"},"আবেদনের অবস্থা",-1)),o(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.status=s),class:"input-1"},t[18]||(t[18]=[e("option",{value:"pending"},"পেন্ডিং",-1),e("option",{value:"active"},"একটিভ",-1),e("option",{value:"rejected"},"রিজেক্ট",-1)]),512),[[p,l.status]])]),t[21]||(t[21]=e("p",{class:"text-red-500 text-sm"}," **আবেদনের এই অংশ তানযীম কর্তৃপক্ষ পরিবর্তন করার অধিকার সংরক্ষণ করে। ",-1))]),e("div",h,[t[22]||(t[22]=e("p",{class:"block font-bold"},"ব্যক্তিগত তথ্য",-1)),t[23]||(t[23]=e("hr",{class:"border-gray-500"},null,-1)),e("div",ee,[o(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.name=s),type:"text",class:"input-1",required:"",placeholder:"নেগরান/মুমতাহিন-এর পূর্ণ নাম"},null,512),[[n,l.name]]),e("div",te,[o(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.phone=s),type:"text",class:"input-1",required:"",placeholder:"মোবাইল নাম্বার (বিকাশ)"},null,512),[[n,l.phone]]),o(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.nid=s),type:"text",class:"input-1",placeholder:"জাতীয় পরিচয়পত্র নাম্বার"},null,512),[[n,l.nid]])]),o(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.address=s),type:"text",class:"input-1",placeholder:"ঠিকানা (গ্রাম, পোস্ট, থানা, জেলা)"},null,512),[[n,l.address]])])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block font-bold"},"শিক্ষাগত যোগ্যতা",-1)),(a(!0),i(x,null,v(l.education,(s,m)=>(a(),i("div",{key:m,class:"border p-4 rounded mb-2"},[e("div",se,[e("div",null,[o(e("input",{"onUpdate:modelValue":u=>s.exam=u,type:"text",class:"input-1",placeholder:"পরীক্ষার নাম"},null,8,le),[[n,s.exam]])]),e("div",null,[o(e("input",{"onUpdate:modelValue":u=>s.passing_year=u,type:"number",class:"input-1",placeholder:"পাসের সন"},null,8,oe),[[n,s.passing_year]])]),e("div",null,[o(e("input",{"onUpdate:modelValue":u=>s.result=u,type:"text",class:"input-1",placeholder:"ফলাফল"},null,8,ne),[[n,s.result]])])]),e("div",ie,[o(e("input",{"onUpdate:modelValue":u=>s.institute=u,type:"text",class:"input-1",placeholder:"শিক্ষা প্রতিষ্ঠানের নাম"},null,8,ae),[[n,s.institute]]),o(e("input",{"onUpdate:modelValue":u=>s.board=u,type:"text",class:"input-1",placeholder:"বোর্ডের নাম"},null,8,de),[[n,s.board]])]),e("div",ue,[e("button",{type:"button",class:"bg-red-500 text-white px-4 py-2 rounded mt-2",onClick:u=>q(m)},t[24]||(t[24]=[e("i",{class:"fas fa-trash"},null,-1),S(" যোগ্যতাটি মুছুন ")]),8,re)])]))),128)),e("div",{class:"flex justify-center"},[e("button",{type:"button",class:"bg-gray-400 text-white px-4 py-2 rounded",onClick:F},t[25]||(t[25]=[e("i",{class:"fas fa-plus-circle pr-2"},null,-1),S("আরো যোগ্যতা যুক্ত করুন ")]))])]),e("div",pe,[t[27]||(t[27]=e("p",{class:"block font-bold"},"অভিজ্ঞতা",-1)),t[28]||(t[28]=e("hr",{class:"border-gray-500"},null,-1)),e("div",me,[e("div",null,[o(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l.experience.duration=s),type:"text",class:"input-1",placeholder:"শিক্ষকতার সময়কাল কত বছর?"},null,512),[[n,l.experience.duration]])]),e("div",null,[o(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l.experience.books=s),type:"text",class:"input-1",placeholder:"এ বছর কোন কোন কিতাব পড়াচ্ছেন?"},null,512),[[n,l.experience.books]])]),e("div",null,[o(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>l.ex_experience=s),type:"text",class:"input-1",placeholder:"পূর্বে নেগরানীর অভিজ্ঞতা কত বছরের?"},null,512),[[n,l.ex_experience]])])])]),e("div",xe,[t[32]||(t[32]=e("p",{class:"font-bold"},"কর্মরত প্রতিষ্ঠানের তথ্য",-1)),t[33]||(t[33]=e("hr",{class:"border-gray-500"},null,-1)),e("div",ve,[o(e("select",{"onUpdate:modelValue":t[11]||(t[11]=s=>c.value=s),class:"input-1",required:""},[t[29]||(t[29]=e("option",{disabled:"",value:""},"অঞ্চল নির্বাচন করুন",-1)),(a(!0),i(x,null,v(g(k).areas,s=>(a(),i("option",{key:s.id,value:s.id},r(s.name),9,ye))),128))],512),[[p,c.value]]),o(e("select",{"onUpdate:modelValue":t[12]||(t[12]=s=>l.institute_id=s),class:"input-1",required:""},[t[30]||(t[30]=e("option",{disabled:"",value:""},"মাদরাসা নির্বাচন করুন",-1)),f.value?(a(),i("option",ge,"মাদরাসা লোড হচ্ছে...")):z("",!0),(a(!0),i(x,null,v(g(b).institutesByArea,s=>(a(),i("option",{key:s.id,value:s.id}," ("+r(s.institute_code)+")-"+r(s.name),9,be))),128))],512),[[p,l.institute_id]]),e("div",null,[t[31]||(t[31]=e("p",null,"অত্র প্রতিষ্ঠানে এ বছর তানযীম পরীক্ষার্থী সংখ্যা কত?",-1)),o(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>l.student_count=s),type:"text",class:"input-1",placeholder:"পরীক্ষার্থী সংখ্যা"},null,512),[[n,l.student_count]])])])]),e("div",{class:"flex justify-between"},[e("button",{type:"button",onClick:L,class:"bg-gray-500 text-white px-4 py-2 rounded"}," লিস্টে ফিরে যান "),t[34]||(t[34]=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded"}," সংরক্ষণ করুন ",-1))])],32)])])}}};export{Ee as default};
