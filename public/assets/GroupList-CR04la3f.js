import{u as h}from"./group-DBS2tRhS.js";import{M as j,r as b,h as $,o as l,c as a,a as t,l as C,m as _,A as V,F as x,b as w,t as f,v as D,z as Z,y as G,f as m,i as S,N as k}from"./index-DAjQd54Q.js";import{u as N}from"./zamat-C-Xc_Dci.js";const B={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},E={class:"card-bg md:p-8 p-4 md:w-1/2"},U={class:"mb-4"},L=["value"],F={class:"mb-4"},O={class:"flex justify-center gap-4"},T={__name:"AddGroupModal",emits:["close","saved"],setup(y,{emit:u}){const d=u,i=j({name:"",zamat_id:null}),r=h(),p=N(),c=b([]);$(async()=>{await p.fetchZamats(),c.value=p.zamats});const n=async()=>{await r.createGroup(i),d("saved"),d("close")};return(v,o)=>(l(),a("div",B,[t("div",E,[o[7]||(o[7]=t("h2",{class:"text-xl font-bold mb-4"},"গ্রুপ যুক্ত করুন",-1)),t("form",{onSubmit:C(n,["prevent"])},[t("div",U,[o[4]||(o[4]=t("label",{class:"block mb-2"},"মারহালা",-1)),_(t("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>i.zamat_id=e),class:"w-full p-2 border rounded",required:""},[o[3]||(o[3]=t("option",{disabled:"",value:""},"Select Zamat",-1)),(l(!0),a(x,null,w(c.value,e=>(l(),a("option",{key:e.id,value:e.id},f(e.name),9,L))),128))],512),[[V,i.zamat_id]])]),t("div",F,[o[5]||(o[5]=t("label",{class:"block mb-2"},"নাম",-1)),_(t("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>i.name=e),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[D,i.name]])]),t("div",O,[o[6]||(o[6]=t("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1)),t("button",{type:"button",onClick:o[2]||(o[2]=e=>d("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},H={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},I={class:"card-bg md:p-8 p-4 md:w-1/2"},J={class:"mb-4"},K=["value"],P={class:"mb-4"},Q={class:"flex justify-center gap-4"},R={__name:"EditGroupModal",props:{group:Object},emits:["close","updated"],setup(y,{emit:u}){const d=u,i=y,r=j({name:"",zamat_id:null}),p=h(),c=N(),n=b([]);Z(()=>i.group,o=>{r.name=o.name||"",r.zamat_id=o.zamat_id||null},{immediate:!0}),$(async()=>{await c.fetchZamats(),n.value=c.zamats});const v=async()=>{await p.updateGroup(i.group.id,r),d("updated"),d("close")};return(o,e)=>(l(),a("div",H,[t("div",I,[e[7]||(e[7]=t("h2",{class:"text-xl font-bold mb-4"},"গ্রুপ সম্পাদনা",-1)),t("form",{onSubmit:C(v,["prevent"])},[t("div",J,[e[4]||(e[4]=t("label",{class:"block mb-2"},"মারহালা",-1)),_(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>r.zamat_id=s),class:"w-full p-2 border rounded",required:""},[e[3]||(e[3]=t("option",{disabled:"",value:""},"Select Zamat",-1)),(l(!0),a(x,null,w(n.value,s=>(l(),a("option",{key:s.id,value:s.id},f(s.name),9,K))),128))],512),[[V,r.zamat_id]])]),t("div",P,[e[5]||(e[5]=t("label",{class:"block mb-2"},"নাম",-1)),_(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>r.name=s),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[D,r.name]])]),t("div",Q,[e[6]||(e[6]=t("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1)),t("button",{type:"button",onClick:e[2]||(e[2]=s=>d("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},W={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},X={class:"card-bg p-4 md:p-8"},Y={class:"flex justify-end mt-4"},tt={__name:"DeleteGroupModal",props:{group:{type:Object,required:!0}},emits:["close","deleted"],setup(y,{emit:u}){const d=u,i=y,r=h(),p=async()=>{await r.deleteGroup(i.group.id),d("deleted"),d("close")};return(c,n)=>(l(),a("div",W,[t("div",X,[n[3]||(n[3]=t("h2",{class:"text-xl font-bold mb-4"},"ডিলেট গ্রুপ",-1)),t("p",null,[n[1]||(n[1]=G("আপনি কি (")),t("b",null,f(y.group.name),1),n[2]||(n[2]=G(") ডিলিট করতে চান?"))]),t("div",Y,[t("button",{onClick:n[0]||(n[0]=v=>d("close")),class:"bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-600"}," না "),t("button",{onClick:p,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," ডিলেট ")])])]))}},et={class:"my-container space-y-2"},st={class:"flex justify-between items-center"},ot={key:0,class:"flex justify-center items-center"},lt={key:1,class:"overflow-x-auto"},at={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},nt={class:"bg-gray-200 text-gray-700 text-sm leading-normal"},dt={class:"text-gray-600 text-sm font-light"},rt={class:"py-3 px-2 text-left whitespace-nowrap"},it={class:"flex items-center"},ut={class:"mr-2"},pt={class:"font-medium"},ct={class:"py-3 px-2 text-left"},mt={class:"title-md"},bt={class:"py-3 px-2 text-left"},ft={class:"title-md"},yt={class:"py-3 px-2 text-left"},vt={class:"flex justify-start items-center"},xt={key:0,class:"title-md pr-2"},gt={class:"title-md"},_t={key:1},$t={__name:"GroupList",setup(y){const u=h(),d=b(!1),i=b(!1),r=b(!1),p=b(null),c=b(!0),n=async()=>{d.value=!1,await u.fetchGroups()},v=async()=>{i.value=!1,await u.fetchGroups()},o=()=>r.value=!1;return $(async()=>{try{await u.fetchGroups()}finally{c.value=!1}}),(e,s)=>(l(),a("div",et,[t("div",st,[s[0]||(s[0]=t("h1",{class:"title-lg"},"গ্রুপ তালিকা",-1)),m("",!0)]),c.value?(l(),a("div",ot,s[1]||(s[1]=[t("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1)]))):(l(),a("div",lt,[t("table",at,[t("thead",null,[t("tr",nt,[s[2]||(s[2]=t("th",{class:"py-3 px-2 text-left"},"#",-1)),s[3]||(s[3]=t("th",{class:"py-3 px-2 text-left"},"মারহালা",-1)),s[4]||(s[4]=t("th",{class:"py-3 px-2 text-left"},"নাম",-1)),s[5]||(s[5]=t("th",{class:"py-3 px-2 text-left"},"অঞ্চল",-1)),m("",!0)])]),t("tbody",dt,[S(u).groups.length?(l(!0),a(x,{key:0},w(S(u).groups,(g,q)=>{var z;return l(),a("tr",{key:g.id,class:"border-b border-gray-200 hover:bg-gray-100"},[t("td",rt,[t("div",it,[t("div",ut,[t("p",pt,f(q+1),1)])])]),t("td",ct,[t("p",mt,f(((z=g.zamat)==null?void 0:z.name)||"N/A"),1)]),t("td",bt,[t("p",ft,f(g.name),1)]),t("td",yt,[t("div",vt,[(l(!0),a(x,null,w(g.areas,(M,A)=>(l(),a(x,{key:M.id},[A?(l(),a("span",xt,",")):m("",!0),t("p",gt,f(M.name),1)],64))),128))])]),m("",!0)])}),128)):(l(),a("tr",_t,s[8]||(s[8]=[t("td",{colspan:"5",class:"text-center text-red-500 py-4"},"No groups found",-1)])))])])])),d.value?(l(),k(T,{key:2,class:"z-40",onClose:n})):m("",!0),i.value?(l(),k(R,{key:3,class:"z-40",group:p.value,onClose:v},null,8,["group"])):m("",!0),r.value?(l(),k(tt,{key:4,class:"z-40",group:p.value,onClose:o},null,8,["group"])):m("",!0)]))}};export{$t as default};
