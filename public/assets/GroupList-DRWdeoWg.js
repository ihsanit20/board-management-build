import{u as x}from"./group-CmRze_0l.js";import{H as S,r as p,o as $,a as s,c as n,b as e,w as j,i as y,y as D,F as k,m as M,t as b,v as V,s as Z,q as z,d as G,I as g,j as w}from"./index-_YQyFPma.js";import{u as q}from"./zamat-wYIGjr0R.js";const B={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},U={class:"card-bg md:p-8 p-4 md:w-1/2"},L=e("h2",{class:"text-xl font-bold mb-4"},"গ্রুপ যুক্ত করুন",-1),F={class:"mb-4"},O=e("label",{class:"block mb-2"},"মারহালা",-1),T=e("option",{disabled:"",value:""},"Select Zamat",-1),H=["value"],I={class:"mb-4"},J=e("label",{class:"block mb-2"},"নাম",-1),K={class:"flex justify-center gap-4"},P=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1),Q={__name:"AddGroupModal",emits:["close","saved"],setup(m,{emit:d}){const o=d,l=S({name:"",zamat_id:null}),a=x(),i=q(),u=p([]);$(async()=>{await i.fetchZamats(),u.value=i.zamats});const _=async()=>{await a.createGroup(l),o("saved"),o("close")};return(h,c)=>(s(),n("div",B,[e("div",U,[L,e("form",{onSubmit:j(_,["prevent"])},[e("div",F,[O,y(e("select",{"onUpdate:modelValue":c[0]||(c[0]=t=>l.zamat_id=t),class:"w-full p-2 border rounded",required:""},[T,(s(!0),n(k,null,M(u.value,t=>(s(),n("option",{key:t.id,value:t.id},b(t.name),9,H))),128))],512),[[D,l.zamat_id]])]),e("div",I,[J,y(e("input",{"onUpdate:modelValue":c[1]||(c[1]=t=>l.name=t),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[V,l.name]])]),e("div",K,[P,e("button",{type:"button",onClick:c[2]||(c[2]=t=>o("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},R={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},W={class:"card-bg md:p-8 p-4 md:w-1/2"},X=e("h2",{class:"text-xl font-bold mb-4"},"গ্রুপ সম্পাদনা",-1),Y={class:"mb-4"},ee=e("label",{class:"block mb-2"},"মারহালা",-1),te=e("option",{disabled:"",value:""},"Select Zamat",-1),se=["value"],oe={class:"mb-4"},ae=e("label",{class:"block mb-2"},"নাম",-1),le={class:"flex justify-center gap-4"},ne=e("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1),ce={__name:"EditGroupModal",props:{group:Object},emits:["close","updated"],setup(m,{emit:d}){const o=d,l=m,a=S({name:"",zamat_id:null}),i=x(),u=q(),_=p([]);Z(()=>l.group,c=>{a.name=c.name||"",a.zamat_id=c.zamat_id||null},{immediate:!0}),$(async()=>{await u.fetchZamats(),_.value=u.zamats});const h=async()=>{await i.updateGroup(l.group.id,a),o("updated"),o("close")};return(c,t)=>(s(),n("div",R,[e("div",W,[X,e("form",{onSubmit:j(h,["prevent"])},[e("div",Y,[ee,y(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>a.zamat_id=r),class:"w-full p-2 border rounded",required:""},[te,(s(!0),n(k,null,M(_.value,r=>(s(),n("option",{key:r.id,value:r.id},b(r.name),9,se))),128))],512),[[D,a.zamat_id]])]),e("div",oe,[ae,y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>a.name=r),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[V,a.name]])]),e("div",le,[ne,e("button",{type:"button",onClick:t[2]||(t[2]=r=>o("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},de={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},ie={class:"card-bg p-4 md:p-8"},re=e("h2",{class:"text-xl font-bold mb-4"},"ডিলেট গ্রুপ",-1),ue={class:"flex justify-end mt-4"},_e={__name:"DeleteGroupModal",props:{group:{type:Object,required:!0}},emits:["close","deleted"],setup(m,{emit:d}){const o=d,l=m,a=x(),i=async()=>{await a.deleteGroup(l.group.id),o("deleted"),o("close")};return(u,_)=>(s(),n("div",de,[e("div",ie,[re,e("p",null,[z("আপনি কি ("),e("b",null,b(m.group.name),1),z(") ডিলিট করতে চান?")]),e("div",ue,[e("button",{onClick:_[0]||(_[0]=h=>o("close")),class:"bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-600"}," না "),e("button",{onClick:i,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," ডিলেট ")])])]))}},pe={class:"my-container space-y-2"},me=e("h1",{class:"title-lg"},"গ্রুপ তালিকা",-1),be={key:0,class:"flex justify-center items-center"},he=e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1),fe=[he],ve={key:1,class:"overflow-x-auto"},ye={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},xe=e("thead",null,[e("tr",{class:"bg-gray-200 text-gray-700 text-sm leading-normal"},[e("th",{class:"py-3 px-2 text-left"},"#"),e("th",{class:"py-3 px-2 text-left"},"মারহালা"),e("th",{class:"py-3 px-2 text-left"},"নাম"),e("th",{class:"py-3 px-2 text-center"},"একশন")])],-1),ge={class:"text-gray-600 text-sm font-light"},we={class:"py-3 px-2 text-left whitespace-nowrap"},$e={class:"flex items-center"},ke={class:"mr-2"},Me={class:"font-medium"},Ce={class:"py-3 px-2 text-left"},ze={class:"title-md"},Ge={class:"py-3 px-2 text-left"},Se={class:"title-md"},je={class:"py-3 px-2 text-center"},De={class:"flex item-center justify-center gap-4"},Ve=["onClick"],qe=e("i",{class:"fas fa-edit"},null,-1),Ae=[qe],Ee=["onClick"],Ne=e("i",{class:"fas fa-trash"},null,-1),Ze=[Ne],Be={key:1},Ue=e("td",{colspan:"5",class:"text-center text-red-500 py-4"},"No groups found",-1),Le=[Ue],Ie={__name:"GroupList",setup(m){const d=x(),o=p(!1),l=p(!1),a=p(!1),i=p(null),u=p(!0),_=()=>o.value=!0,h=async()=>{o.value=!1,await d.fetchGroups()},c=v=>{i.value=v,l.value=!0},t=async()=>{l.value=!1,await d.fetchGroups()},r=v=>{i.value=v,a.value=!0},A=()=>a.value=!1;return $(async()=>{try{await d.fetchGroups()}finally{u.value=!1}}),(v,Fe)=>(s(),n("div",pe,[e("div",{class:"flex justify-between items-center"},[me,e("button",{class:"btn-2",onClick:_},"নতুন যুক্ত করুন")]),u.value?(s(),n("div",be,fe)):(s(),n("div",ve,[e("table",ye,[xe,e("tbody",ge,[G(d).groups.length?(s(!0),n(k,{key:0},M(G(d).groups,(f,E)=>{var C;return s(),n("tr",{key:f.id,class:"border-b border-gray-200 hover:bg-gray-100"},[e("td",we,[e("div",$e,[e("div",ke,[e("p",Me,b(E+1),1)])])]),e("td",Ce,[e("p",ze,b(((C=f.zamat)==null?void 0:C.name)||"N/A"),1)]),e("td",Ge,[e("p",Se,b(f.name),1)]),e("td",je,[e("div",De,[e("button",{onClick:N=>c(f),class:"text-blue-600 hover:text-blue-800"},Ae,8,Ve),e("button",{onClick:N=>r(f),class:"text-red-600 hover:text-red-800"},Ze,8,Ee)])])])}),128)):(s(),n("tr",Be,Le))])])])),o.value?(s(),g(Q,{key:2,class:"z-40",onClose:h})):w("",!0),l.value?(s(),g(ce,{key:3,class:"z-40",group:i.value,onClose:t},null,8,["group"])):w("",!0),a.value?(s(),g(_e,{key:4,class:"z-40",group:i.value,onClose:A},null,8,["group"])):w("",!0)]))}};export{Ie as default};
