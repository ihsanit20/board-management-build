import{_ as B,r as w,d as r,c as a,a as e,F as u,e as _,n as V,t as d,f as $,w as f,g as C,h as y,T as I,i,o as L,j as S,v as T,k as g,L as k}from"./index-DvuBrlci.js";import{u as j}from"./institute-7NahhqaD.js";const D={class:"w-full space-y-4"},N={class:"w-full flex justify-center items-center print:hidden"},E={class:"flex p-2 rounded-lg gap-2 bg-gray-200 justify-center items-center"},F=["onClick"],M={key:0},O={__name:"TabView",props:{tabs:{required:!0}},setup(h){const t=w(h.tabs[0].id);return(b,v)=>(r(),a("div",D,[e("div",N,[e("div",E,[(r(!0),a(u,null,_(h.tabs,c=>(r(),a("button",{key:c.id,type:"button",class:V(["px-4 pt-2 pb-1.5 rounded-lg border",{"bg-white":t.value===c.id}]),onClick:m=>t.value=c.id},d(c.label),11,F))),128))])]),$(I,{name:"fade",mode:"out-in"},{default:f(()=>[(r(),a("div",{key:t.value,class:"w-full"},[(r(!0),a(u,null,_(h.tabs,c=>(r(),a(u,{key:c.id},[t.value===c.id?(r(),a("div",M,[C(b.$slots,c.id,{},void 0,!0)])):y("",!0)],64))),128))]))]),_:3})]))}},q=B(O,[["__scopeId","data-v-73c934aa"]]),z={class:"my-container max-w-3xl my-4 min-h-[calc(100vh_-_200px)]"},A={class:"mb-4 flex items-center gap-2 relative"},Q={class:"title-md text-center"},U={class:"overflow-x-auto mb-6"},G={class:"table-auto w-full text-left text-xs md:text-sm"},H={class:"border md:px-4 px-1 py-2"},J={class:"border md:px-4 px-1 py-2"},K={class:"border md:px-4 px-1 py-2"},P=["href"],R={class:"title-md text-center"},W={class:"overflow-x-auto mb-6"},X={class:"table-auto w-full text-left text-xs md:text-sm"},Y={class:"border md:px-4 px-1 py-2"},Z={class:"border md:px-4 px-1 py-2"},ee={class:"border md:px-4 px-1 py-2"},se=["href"],ae={__name:"InstituteList",setup(h){const x=j(),t=w(""),b=()=>{},v=[{id:"two",label:"মাদরাসা তালিকা"},{id:"three",label:"মারকায তালিকা"}],c=i(()=>t.value?x.institutes.filter(n=>{var l,o,p;return((l=n.name)==null?void 0:l.includes(t.value))||((o=n.phone)==null?void 0:o.includes(t.value))||((p=n.institute_code)==null?void 0:p.includes(t.value))}):x.institutes),m=i(()=>{const n={};return c.value.forEach(l=>{const o=l.area.name||"অজানা এলাকা";n[o]||(n[o]=[]),n[o].push(l)}),n});return L(()=>{x.fetchInstitutes({per_page:"all",is_active:1})}),(n,l)=>(r(),a("div",z,[e("div",A,[S(e("input",{"onUpdate:modelValue":l[0]||(l[0]=o=>t.value=o),type:"text",placeholder:"নাম, ফোন বা ইলহাক দিয়ে সার্চ করুন",class:"w-full input-1 text-sm"},null,512),[[T,t.value]]),e("button",{onClick:b,class:"absolute right-4 top-2"},l[1]||(l[1]=[e("i",{class:"fas fa-search"},null,-1)]))]),$(q,{tabs:v,class:"card-bg p-8 md:p-12 space-y-4 w-full"},{two:f(()=>[l[3]||(l[3]=e("h2",{class:"title-lg mb-6 text-center"},"তানযীম নিবন্ধিত মাদরাসা সমূহ",-1)),(r(!0),a(u,null,_(m.value,(o,p)=>(r(),a("div",{key:p},[e("h3",Q,d(p)+" ("+d(o.length.toLocaleString("bn-BD"))+" টি) ",1),e("div",U,[e("table",G,[l[2]||(l[2]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"border md:px-4 px-1 py-2"},"ইলহাক"),e("th",{class:"border md:px-4 px-1 py-2"},"মাদরাসার নাম ও ঠিকানা"),e("th",{class:"border md:px-4 px-1 py-2"},"ফোন নাম্বার")])],-1)),e("tbody",null,[(r(!0),a(u,null,_(o,s=>(r(),a("tr",{key:s.id},[e("td",H,d(s==null?void 0:s.institute_code),1),e("td",J,d(s==null?void 0:s.name),1),e("td",K,[e("a",{href:"tel:"+(s==null?void 0:s.phone),class:"btn-link"},d(s==null?void 0:s.phone),9,P)])]))),128))])])])]))),128)),Object.keys(m.value).length?y("",!0):(r(),g(k,{key:0}))]),three:f(()=>[l[5]||(l[5]=e("h2",{class:"title-lg mb-6 text-center"},"মারকায মাদরাসা সমূহ",-1)),(r(!0),a(u,null,_(m.value,(o,p)=>(r(),a("div",{key:p},[e("h3",R,d(p)+" ("+d(o.filter(s=>s.is_center).length.toLocaleString("bn-BD"))+" টি) ",1),e("div",W,[e("table",X,[l[4]||(l[4]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"border md:px-4 px-1 py-2"},"ইলহাক"),e("th",{class:"border md:px-4 px-1 py-2"},"মাদরাসার নাম ও ঠিকানা"),e("th",{class:"border md:px-4 px-1 py-2"},"ফোন নাম্বার")])],-1)),e("tbody",null,[(r(!0),a(u,null,_(o.filter(s=>s.is_center),s=>(r(),a("tr",{key:s.id},[e("td",Y,d(s==null?void 0:s.institute_code),1),e("td",Z,d(s==null?void 0:s.name),1),e("td",ee,[e("a",{href:"tel:"+(s==null?void 0:s.phone),class:"btn-link"},d(s==null?void 0:s.phone),9,se)])]))),128))])])])]))),128)),Object.keys(m.value).length?y("",!0):(r(),g(k,{key:0}))]),_:1})]))}};export{ae as default};
