import{_ as $,r as V,d as t,c as o,a as e,F as u,e as m,n as B,t as r,f as i,w as b,g as C,h as g,T,i as w,o as S,j,v as D,k as v,l as N,m as I,L}from"./index-DXxrbR31.js";import{u as A}from"./institute-Dzl9koOx.js";const E={class:"w-full space-y-4"},F={class:"w-full flex justify-center items-center print:hidden"},M={class:"flex p-2 rounded-lg gap-2 bg-gray-200 justify-center items-center"},O=["onClick"],R={key:0},q={__name:"TabView",props:{tabs:{required:!0}},setup(h){const a=V(h.tabs[0].id);return(y,k)=>(t(),o("div",E,[e("div",F,[e("div",M,[(t(!0),o(u,null,m(h.tabs,d=>(t(),o("button",{key:d.id,type:"button",class:B(["px-4 pt-2 pb-1.5 rounded-lg border",{"bg-white":a.value===d.id}]),onClick:_=>a.value=d.id},r(d.label),11,O))),128))])]),i(T,{name:"fade",mode:"out-in"},{default:b(()=>[(t(),o("div",{key:a.value,class:"w-full"},[(t(!0),o(u,null,m(h.tabs,d=>(t(),o(u,{key:d.id},[a.value===d.id?(t(),o("div",R,[C(y.$slots,d.id,{},void 0,!0)])):g("",!0)],64))),128))]))]),_:3})]))}},z=$(q,[["__scopeId","data-v-73c934aa"]]),Q={class:"my-container max-w-3xl my-4 min-h-[calc(100vh_-_200px)]"},U={class:"mb-4 flex items-center gap-2 relative"},G={class:"pb-2"},H={class:"title-md text-center"},J={class:"overflow-x-auto mb-6"},K={class:"table-auto w-full text-left text-xs md:text-sm"},P={class:"border md:px-4 px-1 py-2"},W={class:"border md:px-4 px-1 py-2"},X={class:"border md:px-4 px-1 py-2"},Y=["href"],Z={class:"title-md text-center"},ee={class:"overflow-x-auto mb-6"},se={class:"table-auto w-full text-left text-xs md:text-sm"},le={class:"border md:px-4 px-1 py-2"},te={class:"border md:px-4 px-1 py-2"},oe={class:"border md:px-4 px-1 py-2"},ae=["href"],ne={__name:"InstituteList",setup(h){const f=A(),a=V(""),y=()=>{},k=[{id:"two",label:"মাদরাসা তালিকা"},{id:"three",label:"মারকায তালিকা"}],d=w(()=>a.value?f.institutes.filter(c=>{var l,p,n;return((l=c.name)==null?void 0:l.includes(a.value))||((p=c.phone)==null?void 0:p.includes(a.value))||((n=c.institute_code)==null?void 0:n.includes(a.value))}):f.institutes),_=w(()=>{const c={};return d.value.forEach(l=>{const p=l.area.name||"অজানা এলাকা";c[p]||(c[p]=[]),c[p].push(l)}),c});return S(()=>{f.fetchInstitutes({per_page:"all",is_active:1})}),(c,l)=>{const p=N("RouterLink");return t(),o("div",Q,[e("div",U,[j(e("input",{"onUpdate:modelValue":l[0]||(l[0]=n=>a.value=n),type:"text",placeholder:"নাম, ফোন বা ইলহাক দিয়ে সার্চ করুন",class:"w-full input-1 text-sm"},null,512),[[D,a.value]]),e("button",{onClick:y,class:"absolute right-4 top-2"},l[1]||(l[1]=[e("i",{class:"fas fa-search"},null,-1)]))]),e("div",G,[l[3]||(l[3]=v(" আপনার প্রতিষ্ঠানটি নিবন্ধিত নয়? নিবন্ধন (ইলহাক) করতে ")),i(p,{to:{name:"InstituteApply"},class:"btn-link"},{default:b(()=>l[2]||(l[2]=[v("এখানে ক্লিক করুন")])),_:1})]),i(z,{tabs:k,class:"card-bg p-8 md:p-12 space-y-4 w-full"},{two:b(()=>[l[5]||(l[5]=e("h2",{class:"title-lg mb-6 text-center"},"তানযীম নিবন্ধিত মাদরাসা সমূহ",-1)),(t(!0),o(u,null,m(_.value,(n,x)=>(t(),o("div",{key:x},[e("h3",H,r(x)+" ("+r(n.length.toLocaleString("bn-BD"))+" টি) ",1),e("div",J,[e("table",K,[l[4]||(l[4]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"border md:px-4 px-1 py-2"},"ইলহাক"),e("th",{class:"border md:px-4 px-1 py-2"},"মাদরাসার নাম ও ঠিকানা"),e("th",{class:"border md:px-4 px-1 py-2"},"ফোন নাম্বার")])],-1)),e("tbody",null,[(t(!0),o(u,null,m(n,s=>(t(),o("tr",{key:s.id},[e("td",P,r(s==null?void 0:s.institute_code),1),e("td",W,[i(p,{class:"btn-link",to:{name:"InstituteDetails",params:{id:s.id}}},{default:b(()=>[v(r(s==null?void 0:s.name),1)]),_:2},1032,["to"])]),e("td",X,[e("a",{href:"tel:"+(s==null?void 0:s.phone),class:"btn-link"},r(s==null?void 0:s.phone),9,Y)])]))),128))])])])]))),128)),Object.keys(_.value).length?g("",!0):(t(),I(L,{key:0}))]),three:b(()=>[l[7]||(l[7]=e("h2",{class:"title-lg mb-6 text-center"},"মারকায মাদরাসা সমূহ",-1)),(t(!0),o(u,null,m(_.value,(n,x)=>(t(),o("div",{key:x},[e("h3",Z,r(x)+" ("+r(n.filter(s=>s.is_center).length.toLocaleString("bn-BD"))+" টি) ",1),e("div",ee,[e("table",se,[l[6]||(l[6]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"border md:px-4 px-1 py-2"},"ইলহাক"),e("th",{class:"border md:px-4 px-1 py-2"},"মাদরাসার নাম ও ঠিকানা"),e("th",{class:"border md:px-4 px-1 py-2"},"ফোন নাম্বার")])],-1)),e("tbody",null,[(t(!0),o(u,null,m(n.filter(s=>s.is_center),s=>(t(),o("tr",{key:s.id},[e("td",le,r(s==null?void 0:s.institute_code),1),e("td",te,r(s==null?void 0:s.name),1),e("td",oe,[e("a",{href:"tel:"+(s==null?void 0:s.phone),class:"btn-link"},r(s==null?void 0:s.phone),9,ae)])]))),128))])])])]))),128)),Object.keys(_.value).length?g("",!0):(t(),I(L,{key:0}))]),_:1})])}}};export{ne as default};
