import{s as k,r as n,c as p,a as t,t as N,h as V,m as c,v as m,f as v,w as D,b as _,y as w,d as f,z as C,q as S}from"./index-CdpQf7Uf.js";import{_ as h}from"./TextEditor-BhyCV2z7.js";const B={class:"my-container space-y-4 card-bg p-4 md:p-8"},F={class:"space-y-4"},L={key:0,class:"text-red-500 text-center"},R={class:"flex justify-between gap-4"},U=["disabled"],q={__name:"NoticeAdd",setup(M){const d=k(),b=S(),i=n(""),r=n(""),u=n(""),s=n(null),o=n(""),x=l=>{l.target&&l.target.files&&l.target.files[0]?(s.value=l.target.files[0],console.log("Selected File:",s.value)):(s.value=null,console.log("No file selected"))},g=async()=>{if(o.value="",!i.value||!r.value||!u.value){o.value="অনুগ্রহ করে সবগুলো ফিল্ড পূরণ করুন।";return}const l=new FormData;l.append("title",i.value),l.append("description",r.value),l.append("publish_date",u.value),s.value&&l.append("file",s.value),console.log([...l.entries()]);try{await d.createNotice(l),b.push("/notices")}catch{o.value=d.error||"নোটিশ যোগ করতে ব্যর্থ হয়েছে।"}};return(l,e)=>{const y=w("RouterLink");return f(),p("div",B,[e[8]||(e[8]=t("h1",{class:"title-lg text-center"},"নতুন নোটিশ যোগ করুন",-1)),t("div",F,[o.value?(f(),p("div",L,N(o.value),1)):V("",!0),t("div",null,[e[3]||(e[3]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"টাইটেল",-1)),c(t("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=a=>i.value=a),class:"input-1",placeholder:"নোটিশের টাইটেল দিন"},null,512),[[m,i.value]])]),t("div",null,[e[4]||(e[4]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"বিবরণ",-1)),v(h,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),id:"description",placeholder:"নোটিশের বিবরণ দিন"},null,8,["modelValue"])]),t("div",null,[e[5]||(e[5]=t("label",{for:"publishDate",class:"block text-sm font-medium text-gray-700"},"প্রকাশের তারিখ",-1)),c(t("input",{type:"date",id:"publishDate","onUpdate:modelValue":e[2]||(e[2]=a=>u.value=a),class:"input-1"},null,512),[[m,u.value]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"file",class:"block text-sm font-medium text-gray-700"},"ফাইল এটাচ করুন",-1)),t("input",{type:"file",id:"file",class:"input-1",onChange:x,accept:".pdf,.doc,.docx,.txt"},null,32)]),t("div",R,[v(y,{to:{name:"NoticeList"},class:"btn-3"},{default:D(()=>e[7]||(e[7]=[C("নোটিশ তালিকা")])),_:1}),t("button",{onClick:g,class:"btn-2",disabled:_(d).loading},"সংরক্ষণ",8,U)])])])}}};export{q as default};
