import{x as k,r as u,o as N,c as v,a as t,t as V,h as w,j as m,v as f,f as b,w as D,b as _,q as C,z as R,d as x,y as B,s as L}from"./index-B-TVoWRU.js";import{_ as M}from"./TextEditor-s1g415FZ.js";const S={class:"my-container space-y-4 card-bg p-4 md:p-8"},T={key:0,class:"text-red-500 text-center"},U={class:"space-y-4"},h={class:"flex justify-between gap-4"},j=["disabled"],z={__name:"NoticeEdit",setup(E){const s=k(),y=L(),c=C(),a=u(""),i=u(""),n=u(""),p=u(null),o=u("");N(async()=>{try{const r=c.params.id;await s.fetchNotice(r);const{title:e,description:d,publish_date:l}=s.notice||{};a.value=e||"",i.value=d||"",n.value=l||""}catch{o.value=s.error||"নোটিশ লোড করতে ব্যর্থ হয়েছে।"}});const g=async()=>{if(o.value="",!a.value||!i.value||!n.value){o.value="অনুগ্রহ করে সবগুলো ফিল্ড পূরণ করুন।";return}try{const r=c.params.id;await s.updateNotice(r,{title:a.value,description:i.value,publish_date:n.value,file:p.value}),y.push("/notices")}catch{o.value=s.error||"নোটিশ আপডেট করতে ব্যর্থ হয়েছে।"}};return(r,e)=>{const d=R("RouterLink");return x(),v("div",S,[e[9]||(e[9]=t("h1",{class:"title-lg text-center"},"নোটিশ সম্পাদনা করুন",-1)),o.value?(x(),v("div",T,V(o.value),1)):w("",!0),t("div",U,[t("div",null,[e[4]||(e[4]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"টাইটেল",-1)),m(t("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),class:"input-1",placeholder:"নোটিশের টাইটেল দিন"},null,512),[[f,a.value]])]),t("div",null,[e[5]||(e[5]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"বিবরণ",-1)),b(M,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l),id:"description",placeholder:"নোটিশের বিবরণ দিন"},null,8,["modelValue"])]),t("div",null,[e[6]||(e[6]=t("label",{for:"publishDate",class:"block text-sm font-medium text-gray-700"},"প্রকাশের তারিখ",-1)),m(t("input",{type:"date",id:"publishDate","onUpdate:modelValue":e[2]||(e[2]=l=>n.value=l),class:"input-1"},null,512),[[f,n.value]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"file",class:"block text-sm font-medium text-gray-700"},"ফাইল এটাচ করুন",-1)),t("input",{type:"file",id:"file",class:"input-1",onChange:e[3]||(e[3]=l=>p.value.value=l.target.files[0])},null,32)]),t("div",h,[b(d,{to:{name:"NoticeList"},class:"btn-3"},{default:D(()=>e[8]||(e[8]=[B("নোটিশ তালিকা")])),_:1}),t("button",{onClick:g,class:"btn-2",disabled:_(s).loading},"সংরক্ষণ",8,j)])])])}}};export{z as default};
