import{s as _,r as u,h as g,c,a as t,t as k,f as V,m as p,v,d as m,w as h,i as w,x as D,o as f,y as C,q as R,p as B}from"./index-D4LokI66.js";import{_ as L}from"./TextEditor-BwFpy5D9.js";const M={class:"my-container space-y-4 card-bg p-4 md:p-8"},S={class:"space-y-4"},U={key:0,class:"text-red-500 text-center"},E={class:"flex justify-between gap-4"},I=["disabled"],$={__name:"NoticeEdit",setup(T){const o=_(),b=R(),d=B(),l=u(""),i=u(""),n=u(""),s=u(""),x=async()=>{s.value="";try{const a=d.params.id;await o.fetchNotice(a);const e=o.notice;e?(l.value=e.title,i.value=e.description,n.value=e.publish_date):s.value="নোটিশ পাওয়া যায়নি।"}catch{s.value=o.error||"নোটিশ লোড করতে ব্যর্থ হয়েছে।"}};g(()=>{x()});const y=async()=>{if(s.value="",!l.value||!i.value||!n.value){s.value="অনুগ্রহ করে সবগুলো ফিল্ড পূরণ করুন।";return}try{const a=d.params.id;await o.updateNotice(a,{title:l.value,description:i.value,publish_date:n.value}),b.push("/notices")}catch{s.value=o.error||"নোটিশ আপডেট করতে ব্যর্থ হয়েছে।"}};return(a,e)=>{const N=D("RouterLink");return f(),c("div",M,[e[7]||(e[7]=t("h1",{class:"title-lg text-center"},"নোটিশ সম্পাদনা করুন",-1)),t("div",S,[s.value?(f(),c("div",U,k(s.value),1)):V("",!0),t("div",null,[e[3]||(e[3]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"টাইটেল",-1)),p(t("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=r=>l.value=r),class:"input-1",placeholder:"নোটিশের টাইটেল দিন"},null,512),[[v,l.value]])]),t("div",null,[e[4]||(e[4]=t("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"বিবরণ",-1)),m(L,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=r=>i.value=r),id:"description",placeholder:"নোটিশের বিবরণ দিন"},null,8,["modelValue"])]),t("div",null,[e[5]||(e[5]=t("label",{for:"publishDate",class:"block text-sm font-medium text-gray-700"},"প্রকাশের তারিখ",-1)),p(t("input",{type:"date",id:"publishDate","onUpdate:modelValue":e[2]||(e[2]=r=>n.value=r),class:"input-1"},null,512),[[v,n.value]])]),t("div",E,[m(N,{to:{name:"NoticeList"},class:"btn-3"},{default:h(()=>e[6]||(e[6]=[C("নোটিশ তালিকা")])),_:1}),t("button",{onClick:y,class:"btn-2",disabled:w(o).loading},"সংরক্ষণ",8,I)])])])}}};export{$ as default};
