import{A as V,r as n,o as z,B as A,c as i,a as l,t as s,b as g,m as S,C as E,F as u,e as C,v as F,D as I,z as t,h as m,x as M,d as o,L as N}from"./index-BbzPXS_u.js";import{u as P}from"./zamat-h-BIqZRE.js";import{u as $}from"./student-8Dllqh2Y.js";const K="/assets/sign-qcYQwkJF.png",T={class:"my-container"},U={class:"space-y-2 p-2 print:space-y-0 print:p-0"},Z={class:"card-bg p-4 print:hidden"},j={class:"title-lg text-center"},q={class:"grid md:grid-cols-3 gap-4"},J=["value"],Q={key:0,class:"flex flex-col items-center justify-between gap-4"},Y={key:1,class:"space-y-2 print:space-y-0"},G=["onClick"],H={class:"flex flex-col items-center"},O={class:"text-center font-bold text-lg"},R={class:"bg-gray-600 px-4 pt-0.5 rounded-full"},W={class:"text-center text-base font-medium text-white"},X={key:0,class:""},ee={class:"grid grid-cols-2 gap-x-2"},le={class:""},ae={class:""},se={class:""},oe={class:""},ie={class:"grid grid-cols-2 gap-x-2"},te={class:"font-bold"},re={class:""},ne={class:""},ce={key:0,class:""},pe={class:""},me={class:""},xe={class:"flex flex-col items-end"},ve={class:"text-xs leading-tight text-center flex flex-col items-center"},fe={class:"text-[10px]"},ge={key:1,class:"card-bg py-6 items-center"},he={__name:"PrintAdmitCard",setup(_e){const _=V(),b=P(),v=$(),c=n(!1),x=n(""),p=n(""),r=n([]),D=n(null),d=n(!1);z(async()=>{try{c.value=!0,await Promise.all([_.fetchLastExam(),b.fetchZamats()])}finally{c.value=!1}}),A(p,()=>{r.value=[]});const y=async()=>{if(!p.value||!x.value){alert("মারহালা সিলেক্ট করুন এবং ইলহাক নাম্বার দিয়ে অনুসন্ধান করুন।");return}c.value=!0,d.value=!0;try{await v.fetchStudentsAdmitCard({instituteCode:x.value,zamatId:p.value}),D.value=v.institute||null,r.value=v.students}catch(f){console.error("ডাটা ফেচ করতে সমস্যা হচ্ছে:",f)}finally{c.value=!1}},B=()=>{window.print()},L=new Date().toLocaleDateString("bn-BD");return(f,a)=>{var k;return o(),i("div",T,[l("div",U,[l("div",Z,[l("h1",j,s((k=g(_).exam)==null?void 0:k.name)+"-এর পরীক্ষার্থীদের প্রবেশপত্র প্রিন্ট ",1),l("div",q,[l("div",null,[S(l("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>p.value=e),class:"text-black input-1 px-2 py-1 text-center"},[a[2]||(a[2]=l("option",{value:"",selected:"",disabled:""},"- মারহালা সিলেক্ট করুন -",-1)),(o(!0),i(u,null,C(g(b).zamats,e=>(o(),i("option",{key:e.id,value:e.id},s(e.name),9,J))),128))],512),[[E,p.value]])]),l("div",null,[S(l("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>x.value=e),type:"text",class:"input-1 w-full text-black px-3 py-1 text-center",placeholder:"ইলহাক নং",onKeyup:I(y,["enter"])},null,544),[[F,x.value]])]),l("div",{class:"w-full"},[l("button",{onClick:y,class:"btn-2 w-full"},a[3]||(a[3]=[l("i",{class:"fas fa-search"},null,-1),t(" অনুসন্ধান ")]))])]),r.value.length?(o(),i("div",Q,[l("p",null,[a[4]||(a[4]=t(" প্রবেশপত্র সংখ্যা: ")),l("b",null,s(r.value.length.toLocaleString("bn-BD")),1)]),l("button",{onClick:B,class:"btn-3"},a[5]||(a[5]=[l("i",{class:"fas fa-print pr-1"},null,-1),t(" প্রিন্ট করুন ")]))])):m("",!0)]),c.value?(o(),M(N,{key:0})):(o(),i("div",Y,[r.value.length?(o(!0),i(u,{key:0},C(r.value,e=>{var h,w;return o(),i("div",{key:e==null?void 0:e.id,onClick:be=>f.toggleSelection(e==null?void 0:e.id),class:"card-bg gap-1 text-sm px-[80px] w-[780px] pt-[220px] pb-[40px] print:shadow-none print:rounded-none break-after-page text-black"},[l("div",H,[l("p",O,s(e.exam.name),1),l("div",R,[l("p",W,[t(" বিভাগ: "+s(e==null?void 0:e.zamat.department.name)+" || মারহালা: "+s(e==null?void 0:e.zamat.name)+" ",1),(h=e==null?void 0:e.group)!=null&&h.name?(o(),i("span",X," (গ্রুপ: "+s((w=e==null?void 0:e.group)==null?void 0:w.name)+") ",1)):m("",!0)])])]),l("div",ee,[l("p",le,[l("b",ae,"রোল নং: "+s(e!=null&&e.roll_number?e==null?void 0:e.roll_number.replace(/(\d{3})(\d+)/,"$1-$2"):"নেই"),1)]),l("p",se,[l("b",oe,"রেজি. নং: "+s(e==null?void 0:e.registration_number),1)])]),l("div",ie,[l("p",te,[a[6]||(a[6]=l("b",{class:""},"পরীক্ষার্থী:",-1)),t(" "+s(e==null?void 0:e.name),1)]),l("p",re,[a[7]||(a[7]=l("b",{class:""},"জন্ম তারিখ:",-1)),t(" "+s(new Date(e==null?void 0:e.date_of_birth).toLocaleDateString("bn-BD"))+" ইং ",1)]),l("p",ne,[a[8]||(a[8]=l("b",{class:""},"পিতা:",-1)),t(" "+s(e==null?void 0:e.father_name),1)]),e!=null&&e.para?(o(),i("p",ce,[a[9]||(a[9]=l("b",{class:""},"পারার বিবরণ:",-1)),t(" "+s(e==null?void 0:e.para),1)])):m("",!0)]),a[16]||(a[16]=l("hr",{class:"border-black my-0.5"},null,-1)),l("div",null,[l("p",pe,[a[10]||(a[10]=l("b",{class:""},"মাদরাসা:",-1)),t(s(e==null?void 0:e.institute.institute_code)+" - "+s(e==null?void 0:e.institute.name),1)]),l("p",me,[a[11]||(a[11]=l("b",{class:""},"মারকায:",-1)),t(" "+s(e==null?void 0:e.center.name),1)])]),l("div",xe,[l("div",ve,[a[12]||(a[12]=l("img",{class:"w-28",src:K,alt:""},null,-1)),a[13]||(a[13]=l("p",{class:"font-bold"},"[মুফতী] মুহা. নূরুল হুদা",-1)),a[14]||(a[14]=l("p",{class:"text-[10px]"},"পরীক্ষা নিয়ন্ত্রক",-1)),a[15]||(a[15]=l("p",{class:"text-[10px] font-bold"},"তানযীমুল মাদারিসিল কাওমিয়া নরসিংদী",-1)),l("p",fe,"ইস্যু তারিখ: "+s(g(L))+" ইং",1)])])],8,G)}),128)):m("",!0),d.value&&!r.value.length?(o(),i("div",ge,a[17]||(a[17]=[l("p",{class:"text-center text-red-500"}," কোন পরীক্ষার্থী পাওয়া যায়নি। দয়া করে সঠিক মারহালা এবং ইলহাক নাম্বার দিয়ে আবার চেষ্টা করুন। ",-1)]))):m("",!0)]))])])}}};export{he as default};
