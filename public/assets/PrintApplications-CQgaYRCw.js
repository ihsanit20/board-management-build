import{B as nt,r as m,i as ot,o as R,C as W,c as i,a as t,t as a,b as h,j as u,D as X,F as S,e as V,v as it,y as r,N as x,k as at,h as d,d as o,n as rt,L as dt}from"./index-CtTQ_1iG.js";import{_ as ut}from"./logo-name-BFhNVwnM.js";import{u as pt}from"./application-C476LtmO.js";import{u as ct}from"./zamat-Bkyl4ddf.js";const mt={class:"my-container space-y-2 px-4 print:p-0"},xt={class:"print:hidden"},vt={class:"title-lg"},bt={class:"card-bg p-4 grid md:grid-cols-5 gap-4 print:hidden"},yt=["value"],_t={class:"relative"},ft=["value"],kt=["disabled"],wt=["disabled"],ht={class:"md:col-span-6"},St={class:"rounded-xl border bg-white p-3"},Vt={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2 text-sm select-none"},Dt={class:"inline-flex items-center"},Ut={class:"inline-flex items-center"},Ct={class:"inline-flex items-center"},Bt={class:"inline-flex items-center"},Lt={class:"inline-flex items-center"},Nt={class:"inline-flex items-center"},Pt={class:"inline-flex items-center"},Et={key:1,class:"grid gap-4"},jt={class:"flex flex-col items-center"},At={class:"title-md print:text-black"},It={class:"flex justify-between gap-4 text-sm"},zt={class:"text-sm"},Mt={class:"overflow-x-auto"},Ft={class:"table-auto w-full text-left border-collapse print:border-none"},Jt={class:"bg-gray-200 text-sm"},Ot={key:0,class:"border px-2 py-0.5 text-center"},Tt={key:1,class:"border px-2 py-0.5 text-center"},Zt={key:2,class:"border px-2 py-0.5"},Ht={key:3,class:"border px-2 py-0.5 text-center"},Kt={key:4,class:"border px-2 py-0.5 text-center"},qt={key:5,class:"border px-2 py-0.5 text-center"},Gt={key:6,class:"border px-2 py-0.5 text-center"},Qt={class:"border px-2 py-0.5 text-center"},Rt={class:"border px-2 py-0.5"},Wt={class:"border px-2 py-0.5"},Xt={key:0,class:"border px-2 py-0.5 text-center"},Yt={key:1,class:"border px-2 py-0.5 text-center"},$t={key:2,class:"border px-2 py-0.5"},gt={key:3,class:"border px-2 py-0.5 text-center"},te={key:4,class:"border px-2 py-0.5 text-center"},ee={key:5,class:"border px-2 py-0.5 text-center"},se={key:6,class:"border px-2 py-0.5 text-center"},le={class:"flex justify-between items-end"},ne={class:"text-sm mt-2"},oe={class:"flex justify-center"},ie={class:"text-sm text-gray-600 print:text-black"},ae={key:1,class:"text-center text-red-500 py-6"},Y="print_reg_cols_v1",me={__name:"PrintApplications",setup(re){const c=nt(),C=ct(),D=pt(),v=m(""),_=m(""),f=m(""),B=m(""),b=m(!1),U=m(!1),L=ot(()=>{var n;return((n=D.print)==null?void 0:n.pages)||[]}),l=m({dob:!0,para:!0,address:!0,fee:!0,signature:!0,application_id:!1,application_date:!1});function $(){try{const n=JSON.parse(localStorage.getItem(Y)||"null");n&&typeof n=="object"&&(l.value={...l.value,...n})}catch{}}function g(){try{localStorage.setItem(Y,JSON.stringify(l.value))}catch{}}R($),W(l,g,{deep:!0});const tt=(n,e)=>{var w,y;const k=Number(((w=n==null?void 0:n.meta)==null?void 0:w.page)||1),s=Number(((y=D.print)==null?void 0:y.per_page)||10);return(k-1)*s+(e+1)},et=()=>{const n={};return v.value&&(n.exam_id=v.value),f.value&&(n.zamat_id=f.value),_.value&&(n.institute_code=_.value),B.value&&(n.application_id=B.value),n},st=async()=>{b.value=!0,U.value=!0,await D.fetchApplicationsPrint(et()),b.value=!1};R(async()=>{await Promise.all([c.fetchExams(),C.fetchZamats()]);const n=await c.fetchLastExam();n!=null&&n.id&&(v.value=n.id,await c.fetchExam(n.id))}),W(v,async n=>{n&&await c.fetchExam(n)});const lt=()=>window.print();return(n,e)=>{var k;return o(),i("div",mt,[t("div",xt,[t("h1",vt,a((k=h(c).exam)==null?void 0:k.name)+"-এর নিবন্ধন",1)]),t("div",bt,[u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>v.value=s),class:"text-black input-1 px-2 py-0.5"},[e[10]||(e[10]=t("option",{value:"",disabled:""},"- পরীক্ষা নির্বাচন করুন -",-1)),(o(!0),i(S,null,V(h(c).exams,s=>(o(),i("option",{key:s.id,value:s.id},a(s.name),9,yt))),128))],512),[[X,v.value]]),t("div",_t,[u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>_.value=s),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"ইলহাক নং"},null,512),[[it,_.value]])]),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),class:"text-black input-1 px-2 py-0.5"},[e[11]||(e[11]=t("option",{value:"",disabled:""},"- মারহালা নির্বাচন করুন -",-1)),(o(!0),i(S,null,V(h(C).zamats,s=>(o(),i("option",{key:s.id,value:s.id},a(s.name),9,ft))),128)),e[12]||(e[12]=t("option",{value:""},"সকল মারহালা",-1))],512),[[X,f.value]]),t("button",{onClick:st,class:"btn-2",disabled:b.value},e[13]||(e[13]=[t("i",{class:"fas fa-database pr-1"},null,-1),r(" ডাটা লোড করুন ")]),8,kt),t("button",{onClick:lt,class:"btn-3",disabled:!U.value||b.value},e[14]||(e[14]=[t("i",{class:"fas fa-print pr-1"},null,-1),r(" প্রিন্ট করুন ")]),8,wt),t("div",ht,[t("div",St,[e[24]||(e[24]=t("p",{class:"text-sm font-medium mb-2"},"কলাম নির্বাচন (Show/Hide)",-1)),t("div",Vt,[e[22]||(e[22]=t("label",{class:"inline-flex items-center opacity-60"},[t("input",{type:"checkbox",checked:"",disabled:"",class:"mr-2"}),r(" নাম (Always) ")],-1)),e[23]||(e[23]=t("label",{class:"inline-flex items-center opacity-60"},[t("input",{type:"checkbox",checked:"",disabled:"",class:"mr-2"}),r(" পিতার নাম (Always) ")],-1)),t("label",Dt,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=s=>l.value.dob=s),class:"mr-2"},null,512),[[x,l.value.dob]]),e[15]||(e[15]=r(" জন্ম তারিখ "))]),t("label",Ut,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=s=>l.value.para=s),class:"mr-2"},null,512),[[x,l.value.para]]),e[16]||(e[16]=r(" পারার বিবরণ "))]),t("label",Ct,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=s=>l.value.address=s),class:"mr-2"},null,512),[[x,l.value.address]]),e[17]||(e[17]=r(" ঠিকানা "))]),t("label",Bt,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=s=>l.value.fee=s),class:"mr-2"},null,512),[[x,l.value.fee]]),e[18]||(e[18]=r(" ফি’র পরিমান "))]),t("label",Lt,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=s=>l.value.signature=s),class:"mr-2"},null,512),[[x,l.value.signature]]),e[19]||(e[19]=r(" পরীক্ষার্থীর স্বাক্ষর "))]),t("label",Nt,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=s=>l.value.application_id=s),class:"mr-2"},null,512),[[x,l.value.application_id]]),e[20]||(e[20]=r(" নিবন্ধন নং (ঐচ্ছিক) "))]),t("label",Pt,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=s=>l.value.application_date=s),class:"mr-2"},null,512),[[x,l.value.application_date]]),e[21]||(e[21]=r(" নিবন্ধনের তারিখ (ঐচ্ছিক) "))])])])])]),b.value?(o(),at(dt,{key:0})):U.value?(o(),i("div",Et,[L.value.length?(o(!0),i(S,{key:0},V(L.value,(s,w)=>{var y,N,P,E,j,A,I,z,M,F,J,O,T,Z,H,K,q,G;return o(),i("div",{key:w,class:"bg-white shadow-md rounded-lg p-4 print:p-0 print:shadow-none print:break-inside-avoid"},[t("div",jt,[e[25]||(e[25]=t("img",{src:ut,alt:"logo",class:"h-[60px]"},null,-1)),t("h1",At,a(((y=h(c).exam)==null?void 0:y.name)||((P=(N=s==null?void 0:s.meta)==null?void 0:N.exam)==null?void 0:P.name))+"-এর নিবন্ধন ",1)]),t("div",It,[t("div",null,[t("p",null,[e[26]||(e[26]=t("strong",null,"ইলহাক ও মাদরাসার নাম:",-1)),r(" "+a((j=(E=s==null?void 0:s.meta)==null?void 0:E.institute)==null?void 0:j.code)+" - "+a((I=(A=s==null?void 0:s.meta)==null?void 0:A.institute)==null?void 0:I.name),1)]),t("p",null,[e[27]||(e[27]=t("strong",null,"মারহালা:",-1)),r(" "+a((M=(z=s==null?void 0:s.meta)==null?void 0:z.zamat)==null?void 0:M.name),1)]),t("p",null,[e[28]||(e[28]=t("strong",null,"কেন্দ্র: ",-1)),t("span",{class:rt((F=s==null?void 0:s.meta)!=null&&F.center_name?"":"text-red-500")},a(((J=s==null?void 0:s.meta)==null?void 0:J.center_name)||"নির্বাচন করা নেই"),3)])]),t("div",null,[t("p",null,[e[29]||(e[29]=t("strong",null,"এলাকা:",-1)),r(" "+a(((O=s==null?void 0:s.meta)==null?void 0:O.area_name)||"-"),1)]),t("p",null,[e[30]||(e[30]=t("strong",null,"গ্রুপ:",-1)),r(" "+a(((T=s==null?void 0:s.meta)==null?void 0:T.group_name)||"-"),1)]),t("p",zt,[e[31]||(e[31]=t("strong",null,"প্রিন্টের সময়:",-1)),r(" "+a(new Date((Z=s==null?void 0:s.meta)==null?void 0:Z.generated_at).toLocaleString("bn-BD")),1)])])]),e[39]||(e[39]=t("h2",{class:"title-md text-center print:text-black"},"পরীক্ষার্থীদের তথ্য",-1)),t("div",Mt,[t("table",Ft,[t("thead",null,[t("tr",Jt,[e[32]||(e[32]=t("th",{class:"border px-2 py-0.5 text-center"},"#",-1)),e[33]||(e[33]=t("th",{class:"border px-2 py-0.5"},"নাম",-1)),e[34]||(e[34]=t("th",{class:"border px-2 py-0.5"},"পিতার নাম",-1)),l.value.dob?(o(),i("th",Ot,"জন্ম তারিখ")):d("",!0),l.value.para?(o(),i("th",Tt,"পারার বিবরণ")):d("",!0),l.value.address?(o(),i("th",Zt," ঠিকানা (গ্রাম, ডাকঘর, থানা, জেলা) ")):d("",!0),l.value.fee?(o(),i("th",Ht,"ফি’র পরিমান")):d("",!0),l.value.signature?(o(),i("th",Kt," পরীক্ষার্থীর স্বাক্ষর ")):d("",!0),l.value.application_id?(o(),i("th",qt," নিবন্ধন নং ")):d("",!0),l.value.application_date?(o(),i("th",Gt," নিবন্ধনের তারিখ ")):d("",!0)])]),t("tbody",null,[(o(!0),i(S,null,V(s.students,(p,Q)=>(o(),i("tr",{key:Q,class:"text-sm"},[t("td",Qt,a(tt(s,Q)),1),t("td",Rt,a(p.name),1),t("td",Wt,a(p.father_name),1),l.value.dob?(o(),i("td",Xt,a(p.date_of_birth?new Date(p.date_of_birth).toLocaleDateString("bn-BD")+" ইং":""),1)):d("",!0),l.value.para?(o(),i("td",Yt,a(p.para??"প্রযোজ্য নয়"),1)):d("",!0),l.value.address?(o(),i("td",$t,a(p.address),1)):d("",!0),l.value.fee?(o(),i("td",gt)):d("",!0),l.value.signature?(o(),i("td",te)):d("",!0),l.value.application_id?(o(),i("td",ee,a(p.application_id??""),1)):d("",!0),l.value.application_date?(o(),i("td",se,a(p.application_date?new Date(p.application_date).toLocaleDateString("bn-BD")+" ইং":""),1)):d("",!0)]))),128))])])]),t("div",null,[e[38]||(e[38]=t("div",{class:"text-sm"},[t("b",null,"বি.দ্র."),t("ul",{class:"list-disc pl-4"},[t("li",null," ১। উক্ত তালিকায় পরীক্ষার্থীর নাম, পিতার নাম বা অন্য কোন তথ্যে কোন ভুল পরিলক্ষিত হলে লাল কালি দ্বারা সংশোধন করুন। (নাম, পিতার নাম ও জন্ম তারিখ সংশোধনে জন্মনিবন্ধন ও জাতীয় পরিচয়পত্রের অনুসরণ করুন) "),t("li",null," ২। ফরমটি তানযীম পরীক্ষা বিভাগে জমা দানের পূর্বে ফটোকপি মাদরাসা দফতরে সংরক্ষণ করুন। "),t("li",null," ৩। নিবন্ধনে প্রদত্ত পরীক্ষার্থীর নাম ছাড়া নতুন পরীক্ষার্থীর নাম এই ফরমে সংযোজন বা পরিবর্তন করা যাবে না। ")])],-1)),t("div",le,[e[37]||(e[37]=t("div",{class:"text-sm mt-2"},[t("b",null,"পরীক্ষা নিয়ন্ত্রক"),t("br"),t("br"),t("p",null,"স্বাক্ষর"),t("b",null,"[মুফতী] মুহাম্মাদ নুরুল হুদা"),t("p",null,"তানযীমুল মাদারিসিল কওমিয়া নরসিংদী")],-1)),t("div",ne,[e[35]||(e[35]=t("p",null,"_________________",-1)),e[36]||(e[36]=t("b",null,"মুহতামিমের স্বাক্ষর ও সীল",-1)),t("p",null,a((K=(H=s==null?void 0:s.meta)==null?void 0:H.institute)==null?void 0:K.name),1)])]),t("div",oe,[t("p",ie," পৃষ্ঠা: "+a((q=s==null?void 0:s.meta)==null?void 0:q.page)+" / "+a((G=s==null?void 0:s.meta)==null?void 0:G.pages),1)])]),e[40]||(e[40]=t("div",{class:"print-page-break"},null,-1))])}),128)):(o(),i("p",ae,"ডাটা পাওয়া যায়নি"))])):d("",!0)])}}};export{me as default};
