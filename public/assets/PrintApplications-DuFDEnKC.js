import{B as ot,r as m,i as at,o as W,C as X,c as a,a as t,t as i,b as S,j as u,D as C,F as V,e as P,v as it,y as r,N as x,k as rt,h as d,d as o,n as dt,L as ut}from"./index-VisWtOtk.js";import{_ as pt}from"./logo-name-BFhNVwnM.js";import{_ as mt}from"./sign-BrQ60Aw4.js";import{u as ct}from"./application-P9L1YgVo.js";import{u as xt}from"./zamat-CSMLdV4C.js";const vt={class:"my-container space-y-2 px-4 print:p-0"},bt={class:"print:hidden"},yt={class:"title-lg"},_t={class:"card-bg p-4 grid md:grid-cols-5 gap-4 print:hidden"},ft=["value"],kt={class:"relative"},wt=["value"],ht=["disabled"],St=["disabled"],Vt={class:"md:col-span-6"},Pt={class:"rounded-xl border bg-white p-3"},Dt={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2 text-sm select-none"},Ut={class:"inline-flex items-center"},Ct={class:"inline-flex items-center"},Bt={class:"inline-flex items-center"},Lt={class:"inline-flex items-center"},Nt={class:"inline-flex items-center"},At={class:"inline-flex items-center"},Et={class:"inline-flex items-center"},jt={key:1,class:"grid gap-4"},Ft={class:"flex flex-col items-center"},It={class:"title-md print:text-black"},zt={class:"flex justify-between gap-4 text-sm"},Mt={class:"text-sm"},Jt={class:"overflow-x-auto"},Ot={class:"table-auto w-full text-left border-collapse print:border-none"},Tt={class:"bg-gray-200 text-sm"},Zt={key:0,class:"border px-2 py-0.5 text-center"},Ht={key:1,class:"border px-2 py-0.5 text-center"},Kt={key:2,class:"border px-2 py-0.5 text-center"},gt={key:3,class:"border px-2 py-0.5"},qt={key:4,class:"border px-2 py-0.5 text-center"},Gt={key:5,class:"border px-2 py-0.5 text-center"},Qt={key:6,class:"border px-2 py-0.5 text-center"},Rt={class:"border px-2 py-0.5 text-center"},Wt={key:0,class:"border px-2 py-0.5 text-center"},Xt={class:"border px-2 py-0.5"},Yt={class:"border px-2 py-0.5"},$t={key:1,class:"border px-2 py-0.5 text-center"},te={key:2,class:"border px-2 py-0.5 text-center"},ee={key:3,class:"border px-2 py-0.5"},se={key:4,class:"border px-2 py-0.5 text-center"},le={key:5,class:"border px-2 py-0.5 text-center"},ne={key:6,class:"border px-2 py-0.5 text-center"},oe={class:"flex justify-between items-end"},ae={class:"text-sm mt-2"},ie={class:"flex justify-center"},re={class:"text-sm text-gray-600 print:text-black"},de={key:1,class:"text-center text-red-500 py-6"},Y="print_reg_cols_v1",be={__name:"PrintApplications",setup(ue){const c=ot(),B=xt(),D=ct(),v=m(""),_=m(""),f=m(""),L=m(""),b=m(!1),U=m(!1),k=m("Paid"),N=at(()=>{var n;return((n=D.print)==null?void 0:n.pages)||[]}),l=m({dob:!0,para:!0,address:!0,fee:!0,signature:!0,registration:!0,application_date:!1});function $(){try{const n=JSON.parse(localStorage.getItem(Y)||"null");n&&typeof n=="object"&&(l.value={...l.value,...n})}catch{}}function tt(){try{localStorage.setItem(Y,JSON.stringify(l.value))}catch{}}W($),X(l,tt,{deep:!0});const et=(n,e)=>{var h,y;const w=Number(((h=n==null?void 0:n.meta)==null?void 0:h.page)||1),s=Number(((y=D.print)==null?void 0:y.per_page)||10);return(w-1)*s+(e+1)},st=()=>{const n={};return v.value&&(n.exam_id=v.value),f.value&&(n.zamat_id=f.value),_.value&&(n.institute_code=_.value),L.value&&(n.application_id=L.value),n.status=k.value?k.value:"Paid",n},lt=async()=>{b.value=!0,U.value=!0,await D.fetchApplicationsPrint(st()),b.value=!1};W(async()=>{await Promise.all([c.fetchExams(),B.fetchZamats()]);const n=await c.fetchLastExam();n!=null&&n.id&&(v.value=n.id,await c.fetchExam(n.id))}),X(v,async n=>{n&&await c.fetchExam(n)});const nt=()=>window.print();return(n,e)=>{var w;return o(),a("div",vt,[t("div",bt,[t("h1",yt,i((w=S(c).exam)==null?void 0:w.name)+"-এর নিবন্ধন",1)]),t("div",_t,[u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>v.value=s),class:"text-black input-1 px-2 py-0.5"},[e[11]||(e[11]=t("option",{value:"",disabled:""},"- পরীক্ষা নির্বাচন করুন -",-1)),(o(!0),a(V,null,P(S(c).exams,s=>(o(),a("option",{key:s.id,value:s.id},i(s.name),9,ft))),128))],512),[[C,v.value]]),t("div",kt,[u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>_.value=s),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"ইলহাক নং"},null,512),[[it,_.value]])]),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>f.value=s),class:"text-black input-1 px-2 py-0.5"},[e[12]||(e[12]=t("option",{value:"",disabled:""},"- মারহালা নির্বাচন করুন -",-1)),(o(!0),a(V,null,P(S(B).zamats,s=>(o(),a("option",{key:s.id,value:s.id},i(s.name),9,wt))),128)),e[13]||(e[13]=t("option",{value:""},"সকল মারহালা",-1))],512),[[C,f.value]]),u(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>k.value=s),class:"text-black input-1 px-2 py-0.5"},e[14]||(e[14]=[t("option",{value:"Paid"},"পেমেন্ট: Paid",-1),t("option",{value:"Pending"},"পেমেন্ট: Pending",-1),t("option",{value:"Failed"},"পেমেন্ট: Failed",-1),t("option",{value:"all"},"পেমেন্ট: All",-1)]),512),[[C,k.value]]),t("button",{onClick:lt,class:"btn-2",disabled:b.value},e[15]||(e[15]=[t("i",{class:"fas fa-database pr-1"},null,-1),r(" ডাটা লোড করুন ")]),8,ht),t("button",{onClick:nt,class:"btn-3",disabled:!U.value||b.value},e[16]||(e[16]=[t("i",{class:"fas fa-print pr-1"},null,-1),r(" প্রিন্ট করুন ")]),8,St),t("div",Vt,[t("div",Pt,[e[26]||(e[26]=t("p",{class:"text-sm font-medium mb-2"},"কলাম নির্বাচন (Show/Hide)",-1)),t("div",Dt,[t("label",Ut,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=s=>l.value.registration=s),class:"mr-2"},null,512),[[x,l.value.registration]]),e[17]||(e[17]=r(" রেজি. নং "))]),e[24]||(e[24]=t("label",{class:"inline-flex items-center opacity-60"},[t("input",{type:"checkbox",checked:"",disabled:"",class:"mr-2"}),r(" নাম (Always) ")],-1)),e[25]||(e[25]=t("label",{class:"inline-flex items-center opacity-60"},[t("input",{type:"checkbox",checked:"",disabled:"",class:"mr-2"}),r(" পিতার নাম (Always) ")],-1)),t("label",Ct,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=s=>l.value.dob=s),class:"mr-2"},null,512),[[x,l.value.dob]]),e[18]||(e[18]=r(" জন্ম তারিখ "))]),t("label",Bt,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=s=>l.value.para=s),class:"mr-2"},null,512),[[x,l.value.para]]),e[19]||(e[19]=r(" পারার বিবরণ "))]),t("label",Lt,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=s=>l.value.address=s),class:"mr-2"},null,512),[[x,l.value.address]]),e[20]||(e[20]=r(" ঠিকানা "))]),t("label",Nt,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=s=>l.value.fee=s),class:"mr-2"},null,512),[[x,l.value.fee]]),e[21]||(e[21]=r(" ফি’র পরিমান "))]),t("label",At,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=s=>l.value.signature=s),class:"mr-2"},null,512),[[x,l.value.signature]]),e[22]||(e[22]=r(" পরীক্ষার্থীর স্বাক্ষর "))]),t("label",Et,[u(t("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=s=>l.value.application_date=s),class:"mr-2"},null,512),[[x,l.value.application_date]]),e[23]||(e[23]=r(" নিবন্ধনের তারিখ (ঐচ্ছিক) "))])])])])]),b.value?(o(),rt(ut,{key:0})):U.value?(o(),a("div",jt,[N.value.length?(o(!0),a(V,{key:0},P(N.value,(s,h)=>{var y,A,E,j,F,I,z,M,J,O,T,Z,H,K,g,q,G,Q;return o(),a("div",{key:h,class:"bg-white shadow-md rounded-lg p-4 print:p-0 print:shadow-none print:break-inside-avoid"},[t("div",Ft,[e[27]||(e[27]=t("img",{src:pt,alt:"logo",class:"h-[60px]"},null,-1)),t("h1",It,i(((y=S(c).exam)==null?void 0:y.name)||((E=(A=s==null?void 0:s.meta)==null?void 0:A.exam)==null?void 0:E.name))+"-এর নিবন্ধন ",1)]),t("div",zt,[t("div",null,[t("p",null,[e[28]||(e[28]=t("strong",null,"ইলহাক ও মাদরাসার নাম:",-1)),r(" "+i((F=(j=s==null?void 0:s.meta)==null?void 0:j.institute)==null?void 0:F.code)+" - "+i((z=(I=s==null?void 0:s.meta)==null?void 0:I.institute)==null?void 0:z.name),1)]),t("p",null,[e[29]||(e[29]=t("strong",null,"মারহালা:",-1)),r(" "+i((J=(M=s==null?void 0:s.meta)==null?void 0:M.zamat)==null?void 0:J.name),1)]),t("p",null,[e[30]||(e[30]=t("strong",null,"কেন্দ্র: ",-1)),t("span",{class:dt((O=s==null?void 0:s.meta)!=null&&O.center_name?"":"text-red-500")},i(((T=s==null?void 0:s.meta)==null?void 0:T.center_name)||"নির্বাচন করা নেই"),3)])]),t("div",null,[t("p",null,[e[31]||(e[31]=t("strong",null,"এলাকা:",-1)),r(" "+i(((Z=s==null?void 0:s.meta)==null?void 0:Z.area_name)||"-"),1)]),t("p",null,[e[32]||(e[32]=t("strong",null,"গ্রুপ:",-1)),r(" "+i(((H=s==null?void 0:s.meta)==null?void 0:H.group_name)||"-"),1)]),t("p",Mt,[e[33]||(e[33]=t("strong",null,"প্রিন্টের সময়:",-1)),r(" "+i(new Date((K=s==null?void 0:s.meta)==null?void 0:K.generated_at).toLocaleString("bn-BD")),1)])])]),e[41]||(e[41]=t("h2",{class:"title-md text-center print:text-black"},"পরীক্ষার্থীদের তথ্য",-1)),t("div",Jt,[t("table",Ot,[t("thead",null,[t("tr",Tt,[e[34]||(e[34]=t("th",{class:"border px-2 py-0.5 text-center"},"#",-1)),l.value.registration?(o(),a("th",Zt," রেজি. নং ")):d("",!0),e[35]||(e[35]=t("th",{class:"border px-2 py-0.5"},"নাম",-1)),e[36]||(e[36]=t("th",{class:"border px-2 py-0.5"},"পিতার নাম",-1)),l.value.dob?(o(),a("th",Ht,"জন্ম তারিখ")):d("",!0),l.value.para?(o(),a("th",Kt,"পারার বিবরণ")):d("",!0),l.value.address?(o(),a("th",gt," ঠিকানা (গ্রাম, ডাকঘর, থানা, জেলা) ")):d("",!0),l.value.fee?(o(),a("th",qt,"ফি’র পরিমান")):d("",!0),l.value.signature?(o(),a("th",Gt," পরীক্ষার্থীর স্বাক্ষর ")):d("",!0),l.value.application_date?(o(),a("th",Qt," নিবন্ধনের তারিখ ")):d("",!0)])]),t("tbody",null,[(o(!0),a(V,null,P(s.students,(p,R)=>(o(),a("tr",{key:R,class:"text-sm"},[t("td",Rt,i(et(s,R)),1),l.value.registration?(o(),a("td",Wt,i(p.registration??""),1)):d("",!0),t("td",Xt,i(p.name),1),t("td",Yt,i(p.father_name),1),l.value.dob?(o(),a("td",$t,i(p.date_of_birth?new Date(p.date_of_birth).toLocaleDateString("bn-BD")+" ইং":""),1)):d("",!0),l.value.para?(o(),a("td",te,i(p.para??"প্রযোজ্য নয়"),1)):d("",!0),l.value.address?(o(),a("td",ee,i(p.address),1)):d("",!0),l.value.fee?(o(),a("td",se)):d("",!0),l.value.signature?(o(),a("td",le)):d("",!0),l.value.application_date?(o(),a("td",ne,i(p.application_date?new Date(p.application_date).toLocaleDateString("bn-BD")+" ইং":""),1)):d("",!0)]))),128))])])]),t("div",null,[e[40]||(e[40]=t("div",{class:"text-sm"},[t("b",null,"বি.দ্র."),t("ul",{class:"list-disc pl-4"},[t("li",null," উক্ত তালিকায় পরীক্ষার্থীর নাম, পিতার নাম বা অন্য কোন তথ্যে কোন ভুল পরিলক্ষিত হলে লাল কালি দ্বারা সংশোধন করুন। "),t("li",null," নাম, পিতার নাম ও জন্ম তারিখ সংশোধনে জন্মনিবন্ধন ও জাতীয় পরিচয়পত্রের অনুসরণ করুন। "),t("li",null," ফরমটি তানযীম পরীক্ষা বিভাগে জমা দানের পূর্বে ফটোকপি মাদরাসা দফতরে সংরক্ষণ করুন। "),t("li",null," নিবন্ধনে প্রদত্ত পরীক্ষার্থীর নাম ছাড়া নতুন পরীক্ষার্থীর নাম এই ফরমে সংযোজন বা পরিবর্তন করা যাবে না। ")])],-1)),t("div",oe,[e[39]||(e[39]=t("div",{class:"text-sm mt-2"},[t("b",null,"পরীক্ষা নিয়ন্ত্রক"),t("img",{class:"w-28",src:mt,alt:""}),t("b",null,"[মুফতী] মুহাম্মাদ নুরুল হুদা"),t("p",null,"তানযীমুল মাদারিসিল কওমিয়া নরসিংদী")],-1)),t("div",ae,[e[37]||(e[37]=t("p",null,"_________________",-1)),e[38]||(e[38]=t("b",null,"মুহতামিমের স্বাক্ষর ও সীল",-1)),t("p",null,i((q=(g=s==null?void 0:s.meta)==null?void 0:g.institute)==null?void 0:q.name),1)])]),t("div",ie,[t("p",re," পৃষ্ঠা: "+i((G=s==null?void 0:s.meta)==null?void 0:G.page)+" / "+i((Q=s==null?void 0:s.meta)==null?void 0:Q.pages),1)])]),e[42]||(e[42]=t("div",{class:"print-page-break"},null,-1))])}),128)):(o(),a("p",de,"ডাটা পাওয়া যায়নি"))])):d("",!0)])}}};export{be as default};
