import{_ as L,r as m,h as P,z as C,c as r,a as t,t as l,i as p,m as c,v as B,B as V,A as N,F as g,b as h,y as d,f as E,o as n,D as F,n as I}from"./index-MlIbSbKR.js";import{u as K}from"./application-BEfu2uo7.js";import{u as M}from"./exam-DYmCVSdU.js";import{u as U}from"./zamat-B1NWVKr8.js";const j={class:"space-y-2 px-6 py-4"},T={class:"print:hidden"},Z={class:"title-lg"},q={class:"card-bg p-4 grid md:grid-cols-4 gap-4 print:hidden"},G={class:"relative"},H={class:"relative"},J=["value"],O=["disabled"],Q={key:0,class:"flex justify-center items-center"},R={key:1,class:"grid gap-4"},W={class:"flex flex-col items-center"},X={class:"title-lg print:text-black"},Y={class:"flex justify-between gap-4"},$={class:""},tt={class:""},et={class:"space-y-2"},st={class:"overflow-x-auto"},lt={class:"table-auto w-full text-left border-collapse print:border-none"},rt={class:"border px-2 py-1 text-center"},nt={class:"border px-2 py-1"},ot={class:"border px-2 py-1"},dt={class:"border px-2 py-1 text-center"},at={class:"border px-2 py-1 text-center"},ut={class:"border px-2 py-1"},it={key:1,class:"text-center text-red-500 py-6"},xt={__name:"PrintApplications",setup(mt){const b=M(),k=U(),v=K(),a=m(""),u=m(""),i=m(""),y=m(!1),f=m(!1),z=()=>{const o={};return u.value&&(o.zamat_id=u.value),a.value&&(o.institute_code=a.value),i.value&&(o.application_id=i.value),o},_=async()=>{y.value=!0,f.value=!0;const o=z();await v.fetchApplicationsPrint(o),y.value=!1};P(()=>{b.fetchLastExam(),k.fetchZamats()}),C([u,a,i],_);const A=()=>{window.print()};return(o,e)=>{var w;return n(),r("div",j,[t("div",T,[t("h1",Z,l((w=p(b).exam)==null?void 0:w.name)+"-এর নিবন্ধন",1)]),t("div",q,[t("div",G,[c(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value=s),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"নিবন্ধন নং",onKeyup:V(_,["enter"])},null,544),[[B,i.value]])]),t("div",H,[c(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>a.value=s),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"ইলহাক নং",onKeyup:V(_,["enter"])},null,544),[[B,a.value]])]),c(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),class:"text-black input-1 px-2 py-1"},[e[3]||(e[3]=t("option",{value:"",disabled:"",selected:""},"- মারহালা নির্বাচন করুন -",-1)),(n(!0),r(g,null,h(p(k).zamats,s=>(n(),r("option",{key:s.id,value:s.id},l(s.name),9,J))),128)),e[4]||(e[4]=t("option",{value:""},"সকল মারহালা",-1))],512),[[N,u.value]]),t("button",{onClick:A,class:"btn-2",disabled:!f.value},e[5]||(e[5]=[t("i",{class:"fas fa-print pr-1"},null,-1),d(" প্রিন্ট করুন ")]),8,O)]),y.value?(n(),r("div",Q,e[6]||(e[6]=[t("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-sky-600"},null,-1)]))):f.value?(n(),r("div",R,[p(v).applications.length?(n(!0),r(g,{key:0},h(p(v).applications,s=>{var S;return n(),r("div",{key:s.id,class:"bg-white shadow-md rounded-lg p-4 print:p-2 print:shadow-none space-y-2"},[t("div",W,[e[7]||(e[7]=t("img",{src:F,alt:"logo",class:"md:h-[80px]"},null,-1)),t("h1",X,l((S=p(b).exam)==null?void 0:S.name)+"-এর নিবন্ধন",1)]),t("div",Y,[t("div",$,[t("p",null,[e[8]||(e[8]=t("strong",null,"ইলহাক ও মাদরাসার নাম:",-1)),d(" "+l(s==null?void 0:s.institute_code_name),1)]),t("p",null,[e[9]||(e[9]=t("strong",null,"মারহালা:",-1)),d(" "+l(s==null?void 0:s.zamat_name),1)]),t("p",null,[e[10]||(e[10]=t("strong",null,"কেন্দ্র: ",-1)),t("span",{class:I(s!=null&&s.center_name?"":"text-red-500")},l((s==null?void 0:s.center_name)||"নির্বাচন করা নেই"),3)])]),t("div",tt,[t("p",null,[e[11]||(e[11]=t("strong",null,"নিবন্ধন নং:",-1)),d(" "+l(s==null?void 0:s.id),1)]),t("p",null,[e[12]||(e[12]=t("strong",null,"নিবন্ধনের তারিখ:",-1)),d(" "+l(new Date(s==null?void 0:s.application_date).toLocaleDateString("bn-BD")),1)]),t("p",null,[e[13]||(e[13]=t("strong",null,"পেমেন্ট: ",-1)),d(l(s==null?void 0:s.payment_method)+" (",1),t("span",null,l(s==null?void 0:s.payment_status),1),e[14]||(e[14]=d(") "))])])]),t("div",et,[e[18]||(e[18]=t("h2",{class:"title-lg text-center print:text-black"},"পরীক্ষার্থীদের তথ্য",-1)),t("div",st,[t("table",lt,[e[17]||(e[17]=t("thead",null,[t("tr",{class:"bg-gray-200"},[t("th",{class:"border px-2 py-1 text-center"},"#"),t("th",{class:"border px-2 py-1"},"নাম"),t("th",{class:"border px-2 py-1"},"পিতার নাম"),t("th",{class:"border px-2 py-1 text-center"},"জন্ম তারিখ"),t("th",{class:"border px-2 py-1 text-center"},"পারার বিবরণ"),t("th",{class:"border px-2 py-1"},"ঠিকানা (গ্রাম, ডাকঘর, থানা, জেলা)"),t("th",{class:"border px-2 py-1 text-center"},"ফি’র পরিমান"),t("th",{class:"border px-2 py-1 text-center"},"পরীক্ষার্থীর স্বাক্ষর")])],-1)),t("tbody",null,[(n(!0),r(g,null,h(s.students,(x,D)=>(n(),r("tr",{key:D,class:"print:text-sm"},[t("td",rt,l(D+1),1),t("td",nt,l(x.name),1),t("td",ot,l(x.father_name),1),t("td",dt,l(new Date(x.date_of_birth).toLocaleDateString("bn-BD"))+" ইং ",1),t("td",at,l(x.para||"প্রযোজ্য নয়"),1),t("td",ut,l(x.address),1),e[15]||(e[15]=t("td",{class:"border px-2 py-1"},null,-1)),e[16]||(e[16]=t("td",{class:"border px-2 py-1"},null,-1))]))),128))])])]),e[19]||(e[19]=t("div",null,[t("b",null,"পরীক্ষা নিয়ন্ত্রক"),t("br"),t("br"),t("p",null,"স্বাক্ষর"),t("b",null,"[মুফতী] মুহাম্মাদ নুরুল হুদা"),t("p",null,"তানযীমুল মাদারিসিল কওমিয়া নরসিংদী")],-1))]),e[20]||(e[20]=t("div",{class:"print-page-break"},null,-1))])}),128)):(n(),r("p",it,"No applications found"))])):E("",!0)])}}},ft=L(xt,[["__scopeId","data-v-bd11ae73"]]);export{ft as default};
