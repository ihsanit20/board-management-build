import{_ as J,r as x,o as Q,d as a,c as o,k as H,L as K,h as _,a as t,F as u,e as m,t as i,y,f as O,n as T,b,Q as W,C as X,D as Y,p as tt,j as D,E as B}from"./index-BkwP2H9W.js";import{u as et}from"./result-DStUMeX4.js";import{u as st}from"./area-CCH-gyxz.js";import{u as lt}from"./institute-Ho7z4TXx.js";import{u as rt}from"./zamat-BP2UySzv.js";import{u as at}from"./group-oTwDkmNL.js";import{_ as ot}from"./logo-name-BfArKbry.js";import{_ as it}from"./sign-BrQ60Aw4.js";import{D as nt}from"./DivTable-D8_aXfzW.js";const dt={class:""},ut={key:1},mt={class:"space-y-6 print:space-y-0"},pt={class:"min-w-full"},ct={class:""},bt=["colspan"],xt={class:"flex justify-between"},ft={class:"flex-1 space-y-2"},vt={class:""},yt={class:"flex flex-col justify-center items-center"},gt={class:"title-md"},kt={class:"text-left font-normal text-sm"},_t={class:"grid grid-cols-3"},It={class:"text-center"},St={key:0,class:"text-right"},$t={class:"bg-gray-100"},wt={key:0,class:"hover:bg-gray-100 transition-colors"},ht={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},zt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black"},Dt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},Bt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},jt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},Lt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},Vt=["colspan"],Nt={class:"space-y-4 print-footer"},Rt={class:"text-xs leading-tight text-center flex flex-col items-start"},Et={__name:"InstituteResult",props:["instituteId","zamatId","examId"],setup(V){const g=V,n=x([]),f=x(!1);async function S(v,e,p){f.value=!0,n.value=[];try{const d=await W.get(`/institutes/${v}/zamat/${e}/exam/${p}/results`);n.value=(d==null?void 0:d.data)||[]}catch(d){console.error("Error fetching institute results:",d)}f.value=!1}Q(async()=>{await S(g.instituteId,g.zamatId,g.examId)});const $=new Date().toLocaleDateString("bn-BD");return(v,e)=>{var p,d;return a(),o("div",dt,[f.value?(a(),H(K,{key:0})):_("",!0),!f.value&&((d=(p=n.value)==null?void 0:p.students)!=null&&d.length)?(a(),o("div",ut,[t("div",mt,[(a(!0),o(u,null,m(Math.ceil(n.value.students.length/10),c=>{var k,I,w,h,j,s,r,N,R,E,A,C,q,M,P,U;return a(),o("div",{key:c,class:"card-bg p-4 md:p-8 break-inside-avoid break-after-page"},[t("table",pt,[t("thead",null,[t("tr",ct,[t("th",{colspan:7+((k=n.value)==null?void 0:k.subjects.length),class:""},[t("div",xt,[t("div",ft,[t("div",vt,[t("div",yt,[e[0]||(e[0]=t("img",{class:"h-[60px]",src:ot,alt:""},null,-1)),t("h4",gt,i((w=(I=n.value)==null?void 0:I.exam)==null?void 0:w.name),1)]),e[1]||(e[1]=t("div",{class:"flex justify-center"},[t("p",{class:"border border-black px-4 rounded-full font-bold"}," মাদরাসা ভিত্তিক নম্বরপত্র ")],-1))]),t("div",kt,[t("p",null,[e[2]||(e[2]=t("b",null,"মাদরাসা: ",-1)),y(i((j=(h=n.value)==null?void 0:h.institute)==null?void 0:j.name),1)]),t("div",_t,[t("p",null,[e[3]||(e[3]=t("b",null,"বিভাগ: ",-1)),y(i((r=(s=n.value)==null?void 0:s.zamat)==null?void 0:r.department),1)]),t("p",It,[e[4]||(e[4]=t("b",null,"মারহালা: ",-1)),y(i((R=(N=n.value)==null?void 0:N.zamat)==null?void 0:R.name),1)]),(A=(E=n.value)==null?void 0:E.group)!=null&&A.name?(a(),o("p",St,[e[5]||(e[5]=t("b",null,"গ্রুপ: ",-1)),y(i((q=(C=n.value)==null?void 0:C.group)==null?void 0:q.name),1)])):_("",!0)])])]),t("div",null,[O(nt)])])],8,bt)]),t("tr",$t,[e[6]||(e[6]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"},"#",-1)),e[7]||(e[7]=t("th",{class:"px-1 py-0.5 text-left text-sm font-medium border border-black"}," পরীক্ষার্থীর নাম ",-1)),e[8]||(e[8]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"},"রোল",-1)),(a(!0),o(u,null,m((M=n.value)==null?void 0:M.subjects,l=>(a(),o("th",{key:l.id,class:"px-1 py-0.5 text-sm font-medium border border-black"},i(l.name),1))),128)),e[9]||(e[9]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"},"মোট",-1)),e[10]||(e[10]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," শতকরা (%) ",-1)),e[11]||(e[11]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," বিভাগ ",-1)),e[12]||(e[12]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," মেধাক্রম ",-1))])]),t("tbody",null,[(a(!0),o(u,null,m((P=n.value)==null?void 0:P.students,(l,L)=>(a(),o(u,{key:l==null?void 0:l.id},[L>=c*10-10&&L<c*10?(a(),o("tr",wt,[t("td",ht,i(Number(L+1).toLocaleString("bn-BD")),1),t("td",zt,i(l==null?void 0:l.name),1),t("td",Dt,i(l==null?void 0:l.roll_number),1),(a(!0),o(u,null,m(l==null?void 0:l.marks,(z,Z)=>{var F,G;return a(),o("td",{key:Z,class:T(["px-1 py-0.5 text-sm text-gray-700 border border-black text-center w-12",{"bg-red-200":z===null||z<((G=(F=n.value)==null?void 0:F.subjects[Z])==null?void 0:G.pass_marks)}])},i(z===null?"অনু.":Number(z).toLocaleString("bn-BD")),3)}),128)),t("td",Bt,i(Number(l==null?void 0:l.total_mark).toLocaleString("bn-BD")),1),t("td",jt,i(Number(l==null?void 0:l.percentage).toLocaleString("bn-BD")),1),t("td",{class:T([{"bg-red-200":(l==null?void 0:l.grade)===null||(l==null?void 0:l.grade)==="রাসিব"},"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"])},i((l==null?void 0:l.grade)||"অনুপস্থিত"),3),t("td",Lt,i(l==null?void 0:l.merit),1)])):_("",!0)],64))),128))]),t("tfoot",null,[t("tr",null,[t("td",{colspan:7+((U=n.value)==null?void 0:U.subjects.length)},[t("div",Nt,[e[17]||(e[17]=t("p",{class:"text-sm text-justify pt-1"},[t("b",null,"বি. দ্র. "),y("এটা প্রাথমিক ফলাফল। এতে কোন বিচ্যুতি বা অসংগতি দেখা দিলে অথবা কোন আপত্তি থাকলে তা নিরসনের জন্য ১০ থেকে ২০ শাওয়ালের মধ্যে যথা নিয়মে আবেদন করতে হবে। খাতা নজরে সানী করাতে চাইলে প্রতি বিষয়ের জন্য মারহালা সমপরিমাণ ফি জমাদান পূর্বক ১০ থেকে ২০ শাওয়ালের মধ্যে মাদরাসা কর্তৃপক্ষের মাধ্যমে তানযীম পরীক্ষা নিয়ন্ত্রণ বিভাগে লিখিত আবেদন করতে হবে। ")],-1)),t("div",Rt,[e[13]||(e[13]=t("img",{class:"w-28",src:it,alt:""},null,-1)),e[14]||(e[14]=t("p",{class:"font-bold"},"[মুফতী] মুহা. নূরুল হুদা",-1)),e[15]||(e[15]=t("p",null,"পরীক্ষা নিয়ন্ত্রক",-1)),e[16]||(e[16]=t("p",{class:"font-bold"},"তানযীমুল মাদারিসিল কাওমিয়া নরসিংদী",-1)),t("p",null,"ইস্যু তারিখ: "+i(b($))+" ইং",1)])])],8,Vt)])])])])}),128))])])):_("",!0)])}}},At=J(Et,[["__scopeId","data-v-3b5ec95e"]]),Ct={class:"my-container space-y-6 print:space-y-0"},qt={class:"grid gap-4"},Mt={class:"flex flex-col md:flex-row gap-4"},Pt={class:"flex-1"},Ut=["value"],Zt={class:"flex-1"},Ft=["value"],Gt={class:"flex-1"},Tt=["value"],Qt={key:0,class:"flex-1"},Ht=["value"],Jt={class:"flex justify-center"},Kt=["disabled"],Ot={key:0,class:"space-y-6 print:space-y-0"},oe={__name:"PrintAreaResult",setup(V){const g=et(),n=X(),f=st(),S=lt(),$=rt(),v=at(),e=x(""),p=x(""),d=x(""),c=x(""),k=x(!1),I=x([]);Q(()=>{n.fetchExams(),f.fetchAreas(),$.fetchZamats()}),Y(d,async()=>{d.value&&(c.value="",v.groups=[],await v.fetchGroups(d.value))});const w=async()=>{if(k.value=!1,!e.value||!d.value){alert("Please select Exam and Zamat.");return}await S.fetchInstitutesByArea(p.value,d.value,c.value),I.value=S.institutesByArea,k.value=!0},h=()=>{window.print()};return(j,s)=>(a(),o(u,null,[t("div",Ct,[s[13]||(s[13]=t("h1",{class:"title-lg text-center print:hidden"},"এলাকা ভিত্তিক ফলাফল",-1)),t("form",{onSubmit:tt(w,["prevent"]),class:"card-bg p-4 md:p-8 gap-4 print:hidden"},[t("div",qt,[t("div",Mt,[t("div",Pt,[s[5]||(s[5]=t("label",{for:"examId",class:"block text-sm font-medium text-gray-700"},"পরীক্ষা",-1)),D(t("select",{id:"examId","onUpdate:modelValue":s[0]||(s[0]=r=>e.value=r),class:"input-1",required:""},[s[4]||(s[4]=t("option",{value:"",disabled:""},"-- পরীক্ষা নির্বাচন করুন --",-1)),(a(!0),o(u,null,m(b(n).exams,r=>(a(),o("option",{key:r.id,value:r.id},i(r.name),9,Ut))),128))],512),[[B,e.value]])]),t("div",Zt,[s[7]||(s[7]=t("label",{for:"areaId",class:"block text-sm font-medium text-gray-700"},"এলাকা",-1)),D(t("select",{id:"areaId","onUpdate:modelValue":s[1]||(s[1]=r=>p.value=r),class:"input-1",required:""},[s[6]||(s[6]=t("option",{value:"",disabled:""},"-- এলাকা নির্বাচন করুন --",-1)),(a(!0),o(u,null,m(b(f).areas,r=>(a(),o("option",{key:r.id,value:r.id},i(r.name),9,Ft))),128))],512),[[B,p.value]])]),t("div",Gt,[s[9]||(s[9]=t("label",{for:"zamatId",class:"block text-sm font-medium text-gray-700"},"মারহালা",-1)),D(t("select",{id:"zamatId","onUpdate:modelValue":s[2]||(s[2]=r=>d.value=r),class:"input-1",required:""},[s[8]||(s[8]=t("option",{value:"",disabled:""},"-- মারহালা নির্বাচন করুন --",-1)),(a(!0),o(u,null,m(b($).zamats,r=>(a(),o("option",{key:r.id,value:r.id},i(r.name),9,Tt))),128))],512),[[B,d.value]])]),b(v).groups.length?(a(),o("div",Qt,[s[11]||(s[11]=t("label",{for:"zamatId",class:"block text-sm font-medium text-gray-700"},"গ্রুপ",-1)),D(t("select",{"onUpdate:modelValue":s[3]||(s[3]=r=>c.value=r),class:"input-1",required:""},[s[10]||(s[10]=t("option",{value:null,disabled:""},"-- গ্রুপ নির্বাচন করুন --",-1)),(a(!0),o(u,null,m(b(v).groups,r=>(a(),o("option",{key:r.id,value:r.id},i(r.name),9,Ht))),128))],512),[[B,c.value]])])):_("",!0)])]),t("div",Jt,[t("button",{type:"submit",class:"btn-2",disabled:b(g).loading},[s[12]||(s[12]=t("i",{class:"fas fa-search"},null,-1)),y(" "+i(b(g).loading?"Loading...":"ফলাফল অনুসন্ধান"),1)],8,Kt)])],32),k.value?(a(),o("div",Ot,[(a(!0),o(u,null,m(I.value,r=>(a(),H(At,{key:r.id,instituteId:r.id,zamatId:d.value,examId:e.value},null,8,["instituteId","zamatId","examId"]))),128))])):_("",!0)]),t("div",{class:"flex justify-center print:hidden pt-6"},[t("button",{onClick:h,class:"btn-2"},s[14]||(s[14]=[t("i",{class:"fas fa-print"},null,-1),y(" Print ")]))])],64))}};export{oe as default};
