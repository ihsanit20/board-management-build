import{A as D,r as _,o as w,c as o,a as t,j as v,C as k,F as u,e as c,b as n,y as S,k as B,h as L,G as V,t as r,d as a,L as A}from"./index-BheCr8g5.js";import{u as P}from"./print-nHiAWd8x.js";import{u as j}from"./area-CGapdfLC.js";const E={class:"my-container space-y-6"},N={class:"print:hidden"},F={class:"card-bg p-4 md:p-8 flex flex-col md:flex-row gap-4 justify-center"},I=["value"],M=["value"],U={key:1,class:"card-bg p-8"},z={class:"flex flex-1 flex-col justify-center items-center space-y-2"},G={class:"title-md"},T={class:"min-w-full table-auto text-sm"},Z={class:"px-2 py-0.5 border border-black text-center"},q={class:"py-0.5 border border-black"},H={class:"px-2 font-bold"},J={class:"flex divide-x divide-black text-xs pt-0.5"},K={class:"px-2"},O={class:"px-2 py-0.5 border border-black text-center"},Q={class:"px-2 py-0.5 border border-black text-center"},R={key:2},et={__name:"PrintAreaStudentCount",setup(W){const l=P(),p=j(),b=D(),d=_(""),i=_("");w(async()=>{await p.fetchAreas(),await b.fetchExams()});const g=()=>{window.print()},h=async()=>{if(!d.value||!i.value){l.error="Please select both Exam and Zamat.";return}l.error="",l.fetchAreaStudentCount(d.value,i.value)};return(X,e)=>{var x,m;return a(),o("div",E,[t("div",N,[e[5]||(e[5]=t("h1",{class:"title-lg text-center"},"অংশগ্রহণকারী মাদরাসা তালিকা",-1)),t("div",F,[v(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),class:"input-1"},[e[2]||(e[2]=t("option",{value:"",disabled:""},"-- পরীক্ষা নির্বাচন করুন --",-1)),(a(!0),o(u,null,c(n(b).exams,s=>(a(),o("option",{key:s.id,value:s.id},r(s.name),9,I))),128))],512),[[k,d.value]]),v(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),class:"input-1"},[e[3]||(e[3]=t("option",{value:"",disabled:""},"-- জামাত নির্বাচন করুন --",-1)),(a(!0),o(u,null,c(n(p).areas,s=>(a(),o("option",{key:s.id,value:s.id},r(s.name),9,M))),128))],512),[[k,i.value]]),t("button",{type:"button",onClick:h,class:"btn-2"},e[4]||(e[4]=[t("i",{class:"fas fa-search"},null,-1),S(" অনুসন্ধান ")]))])]),n(l).loading?(a(),B(A,{key:0})):L("",!0),((m=(x=n(l).areaStudentCountData)==null?void 0:x.institutes)==null?void 0:m.length)>0?(a(),o("div",U,[t("div",z,[e[6]||(e[6]=t("img",{src:V,alt:"logo",class:"h-[80px]"},null,-1)),t("p",G,r(n(l).areaStudentCountData.exam_name),1),e[7]||(e[7]=t("p",{class:"border border-black px-4 rounded-full font-bold"}," অঞ্চল ভিত্তিক মাদরাসা সমূহের পরীক্ষার্থী সংখ্যা ",-1)),t("p",null,"অঞ্চল : "+r(n(l).areaStudentCountData.area),1)]),t("table",T,[e[9]||(e[9]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-2 py-2 border border-black"},"#"),t("th",{class:"px-2 py-2 border border-black text-left"}," মাদরাসার নাম মারহালা ভিত্তিক পরীক্ষার্থী সংখ্যা "),t("th",{class:"px-2 py-2 border border-black"},"মোট পরীক্ষার্থী"),t("th",{class:"px-2 py-2 border border-black"},"ফোন")])],-1)),t("tbody",null,[(a(!0),o(u,null,c(n(l).areaStudentCountData.institutes,(s,f)=>(a(),o("tr",{key:f},[t("td",Z,r((f+1).toLocaleString("bn-BD")),1),t("td",q,[t("p",H,r(s.institute_code)+" - "+r(s.institute_name),1),e[8]||(e[8]=t("hr",{class:"border-black"},null,-1)),t("div",J,[(a(!0),o(u,null,c(s.zamats,(y,C)=>(a(),o("div",{key:C},[t("p",K,r(y.zamat_name)+": "+r(y.student_count.toLocaleString("bn-BD"))+" জন ",1)]))),128))])]),t("td",O,r(s.total_student_count.toLocaleString("bn-BD"))+" জন ",1),t("td",Q,r(s.institute_phone),1)]))),128))])])])):(a(),o("div",R,e[10]||(e[10]=[t("p",{class:"text-center text-red-500"},"কোন তথ্য পাওয়া যায়নি।",-1)]))),t("div",{class:"flex justify-center print:hidden"},[t("button",{onClick:g,class:"btn-2"},e[11]||(e[11]=[t("i",{class:"fas fa-print"},null,-1),S(" Print ")]))])])}}};export{et as default};
