import{A as h,r as f,o as C,c as o,a as t,j as y,C as _,F as u,e as c,b as n,y as v,k as D,h as w,G as B,t as r,d as a,L}from"./index-1odi9h7d.js";import{u as V}from"./print-CF_zz_z5.js";import{u as A}from"./area-BywPuxv_.js";const P={class:"my-container space-y-6"},j={class:"print:hidden"},E={class:"card-bg p-4 md:p-8 flex flex-col md:flex-row gap-4 justify-center"},N=["value"],F=["value"],I={key:1,class:"card-bg p-8"},M={class:"flex flex-1 flex-col justify-center items-center space-y-2"},U={class:"title-md"},z={class:"min-w-full table-auto text-sm"},G={class:"px-2 py-0.5 border border-black text-center"},T={class:"py-0.5 border border-black"},Z={class:"px-2 font-bold"},q={class:"flex divide-x divide-black text-xs pt-0.5"},H={class:"px-2"},J={class:"px-2 py-0.5 border border-black text-center"},K={class:"px-2 py-0.5 border border-black text-center"},O={key:2},$={__name:"PrintAreaStudentCount",setup(Q){const l=V(),p=A(),b=h(),d=f(""),i=f("");C(async()=>{await p.fetchAreas(),await b.fetchExams()});const k=()=>{window.print()},S=async()=>{if(!d.value||!i.value){l.error="Please select both Exam and Zamat.";return}l.error="",l.fetchAreaStudentCount(d.value,i.value)};return(R,e)=>(a(),o("div",P,[t("div",j,[e[5]||(e[5]=t("h1",{class:"title-lg text-center"},"অংশগ্রহণকারী মাদরাসা তালিকা",-1)),t("div",E,[y(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>d.value=s),class:"input-1"},[e[2]||(e[2]=t("option",{value:"",disabled:""},"-- পরীক্ষা নির্বাচন করুন --",-1)),(a(!0),o(u,null,c(n(b).exams,s=>(a(),o("option",{key:s.id,value:s.id},r(s.name),9,N))),128))],512),[[_,d.value]]),y(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value=s),class:"input-1"},[e[3]||(e[3]=t("option",{value:"",disabled:""},"-- জামাত নির্বাচন করুন --",-1)),(a(!0),o(u,null,c(n(p).areas,s=>(a(),o("option",{key:s.id,value:s.id},r(s.name),9,F))),128))],512),[[_,i.value]]),t("button",{type:"button",onClick:S,class:"btn-2"},e[4]||(e[4]=[t("i",{class:"fas fa-search"},null,-1),v(" অনুসন্ধান ")]))])]),n(l).loading?(a(),D(L,{key:0})):w("",!0),n(l).areaStudentCountData.institutes.length>0?(a(),o("div",I,[t("div",M,[e[6]||(e[6]=t("img",{src:B,alt:"logo",class:"h-[80px]"},null,-1)),t("p",U,r(n(l).areaStudentCountData.exam_name),1),e[7]||(e[7]=t("p",{class:"border border-black px-4 rounded-full font-bold"}," অঞ্চল ভিত্তিক মাদরাসা সমূহের পরীক্ষার্থী সংখ্যা ",-1)),t("p",null,"অঞ্চল : "+r(n(l).areaStudentCountData.area),1)]),t("table",z,[e[9]||(e[9]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-2 py-2 border border-black"},"#"),t("th",{class:"px-2 py-2 border border-black text-left"}," মাদরাসারে নাম মারহালা অনুযায়ী পরীক্ষার্থী সংখ্যা "),t("th",{class:"px-2 py-2 border border-black"},"মোট পরীক্ষার্থী"),t("th",{class:"px-2 py-2 border border-black"},"ফোন")])],-1)),t("tbody",null,[(a(!0),o(u,null,c(n(l).areaStudentCountData.institutes,(s,x)=>(a(),o("tr",{key:x},[t("td",G,r((x+1).toLocaleString("bn-BD")),1),t("td",T,[t("p",Z,r(s.institute_code)+" - "+r(s.institute_name),1),e[8]||(e[8]=t("hr",{class:"border-black"},null,-1)),t("div",q,[(a(!0),o(u,null,c(s.zamats,(m,g)=>(a(),o("div",{key:g},[t("p",H,r(m.zamat_name)+": "+r(m.student_count.toLocaleString("bn-BD"))+" জন ",1)]))),128))])]),t("td",J,r(s.total_student_count.toLocaleString("bn-BD"))+" জন ",1),t("td",K,r(s.institute_phone),1)]))),128))])])])):(a(),o("div",O,e[10]||(e[10]=[t("p",{class:"text-center text-red-500"},"কোন তথ্য পাওয়া যায়নি।",-1)]))),t("div",{class:"flex justify-center print:hidden"},[t("button",{onClick:k,class:"btn-2"},e[11]||(e[11]=[t("i",{class:"fas fa-print"},null,-1),v(" Print ")]))])]))}};export{$ as default};
