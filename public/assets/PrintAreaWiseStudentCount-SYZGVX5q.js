import{u as g}from"./student--2nze_GX.js";import{r as d,o as h,c as a,a as t,x as v,h as u,t as o,F as p,e as x,d as s,L as w}from"./index-CuhRPLzI.js";const S={class:"my-container max-w-4xl card-bg p-4 md:p-10 space-y-4"},B={key:1,class:"text-red-500"},L={key:2,class:"space-y-4"},A={class:"title-lg"},C={class:"min-w-full table-auto"},D={class:"py-1 px-2 text-left border border-black"},V={class:"py-1 px-2 text-left border border-black"},z={class:"py-1 px-2 text-right border border-black"},F={class:"py-1 px-2 text-left border border-black"},j={__name:"PrintAreaWiseStudentCount",setup(N){const y=g(),i=d(null),n=d(!1),c=d(null),_=r=>r.reduce((e,l)=>e+l.student_count,0).toLocaleString("bn-BD");h(async()=>{n.value=!0;try{const r=await y.fetchAreaWiseStudentCount();i.value=r}catch(r){c.value=r.message||"ডেটা লোড করতে সমস্যা হয়েছে।"}finally{n.value=!1}});const m=()=>{window.print()};return(r,e)=>(s(),a("div",S,[e[2]||(e[2]=t("h1",{class:"title-xl text-center"},"এলাকা অনুযায়ী পরীক্ষার্থীর সংখ্যা",-1)),t("div",{class:"flex justify-center print:hidden"},[t("button",{onClick:m,class:"btn-2"},"প্রিন্ট")]),n.value?(s(),v(w,{key:0,class:"shadow-none"})):u("",!0),c.value?(s(),a("div",B,o(c.value),1)):u("",!0),!n.value&&!c.value?(s(),a("div",L,[(s(!0),a(p,null,x(i.value,(l,f)=>(s(),a("div",{key:f,class:"pb-8",style:{pageBreakAfter:"always"}},[t("h2",A,"এলাকা: "+o(l.area_name),1),t("table",C,[e[1]||(e[1]=t("thead",{class:"bg-gray-400 text-white uppercase text-sm leading-normal border border-black"},[t("tr",null,[t("th",{class:"py-1 px-2 text-left border border-black"},"মারহালা"),t("th",{class:"py-1 px-2 text-left border border-black"},"পরীক্ষার্থী সংখ্যা")])],-1)),t("tbody",null,[(s(!0),a(p,null,x(l.zamats,(b,k)=>(s(),a("tr",{key:k,class:"text-sm"},[t("td",D,o(b.zamat_name),1),t("td",V,o(b.student_count.toLocaleString("bn-BD"))+" জন ",1)]))),128)),t("tr",z,[e[0]||(e[0]=t("td",{class:"py-1 px-2 text-right border border-black"},[t("strong",null,"মোট:")],-1)),t("td",F,[t("strong",null,o(_(l.zamats))+" জন",1)])])])])]))),128))])):u("",!0)]))}};export{j as default};
