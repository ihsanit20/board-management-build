import{i as c,r as C,o as E,c as l,a as e,k as S,h as f,t as r,F as p,e as _,d as n,y as V,G as B,L as z}from"./index-6q7fylWA.js";import{u as L}from"./print-BlcwCtfo.js";const Z={class:"my-container"},j={key:1,class:"text-red-500 text-center"},P={class:"mb-6 print:hidden"},A={class:"flex flex-wrap gap-2"},D=["checked","onChange"],F={class:"card-bg p-8 divide-y-2"},I={class:"flex justify-center"},M={class:"text-center font-bold border px-4 rounded-full border-black"},G={class:"font-semibold"},T={class:"min-w-full table-auto overflow-hidden"},W={class:"text-gray-600 text-sm"},$={class:"py-1 px-2 border border-black text-left"},q={class:"py-1 px-2 border border-black text-left"},O={__name:"PrintCenterEnvelope",setup(H){const i=L(),u=c(()=>i.centerEnvelopData),v=c(()=>i.loading),m=c(()=>i.error),o=C([]),x=async()=>{try{await i.fetchCenterEnvelop(),h()}catch(s){console.error("Error fetching center envelop data:",s)}},h=()=>{const s=new Set;u.value.forEach(t=>{t.zamat_data.forEach(a=>{s.add(a.zamat_name)})}),o.value=Array.from(s)},y=c(()=>u.value.map(s=>({...s,zamat_data:s.zamat_data.filter(t=>o.value.includes(t.zamat_name)&&parseInt(t.student_count)>0)})).filter(s=>s.zamat_data.length>0)),g=s=>{o.value.includes(s)?o.value=o.value.filter(t=>t!==s):o.value.push(s)},k=()=>{window.print()};return E(x),(s,t)=>(n(),l("div",Z,[e("div",{class:"flex justify-between items-center mb-6 print:hidden"},[t[0]||(t[0]=e("h1",{class:"text-2xl font-bold"},"মারকায অনুসারে পরীক্ষার্থী সংখ্যা",-1)),e("button",{onClick:k,class:"bg-blue-500 text-white px-4 py-2 rounded"},"প্রিন্ট")]),v.value?(n(),S(z,{key:0})):f("",!0),m.value?(n(),l("div",j,r(m.value),1)):f("",!0),e("div",P,[t[1]||(t[1]=e("h2",{class:"text-lg font-semibold mb-2"},"মারহালা ফিল্টার করুন:",-1)),e("div",A,[(n(!0),l(p,null,_(Array.from(new Set(u.value.flatMap(a=>a.zamat_data.map(d=>d.zamat_name)))),a=>(n(),l("label",{key:a,class:"inline-flex items-center"},[e("input",{type:"checkbox",class:"mr-2",checked:o.value.includes(a),onChange:d=>g(a)},null,40,D),V(" "+r(a),1)]))),128))])]),e("div",F,[(n(!0),l(p,null,_(y.value,(a,d)=>(n(),l("div",{key:d,class:"space-y-2 py-4 break-inside-avoid"},[t[3]||(t[3]=e("div",{class:"flex justify-center"},[e("img",{src:B,alt:"logo",class:"h-[60px]"})],-1)),e("div",I,[e("p",M,r(a.exam_name)+"-এর প্রশ্নপত্র ",1)]),e("h2",G,"মারকায: "+r(a.center_name),1),e("div",null,[e("table",T,[t[2]||(t[2]=e("thead",null,[e("tr",{class:"bg-gray-200 text-sm leading-normal"},[e("th",{class:"py-1 px-2 border border-black text-left"},"মারহালা"),e("th",{class:"py-1 px-2 border border-black text-left"},"প্রশ্নপত্র সংখ্যা")])],-1)),e("tbody",W,[(n(!0),l(p,null,_(a.zamat_data,(b,w)=>(n(),l("tr",{key:w,class:""},[e("td",$,r(b.zamat_name),1),e("td",q,r(parseInt(b.student_count).toLocaleString("bn-BD"))+" টি ",1)]))),128))])])])]))),128))])]))}};export{O as default};
