import{_ as C}from"./logo-name-BFhNVwnM.js";import{u as E}from"./print-BDwjlZPS.js";import{i as c,r as S,o as V,c as o,a as e,k as B,h as b,t as r,F as p,e as _,d as n,y as z,L}from"./index-4ATOSoLI.js";const Z={class:"my-container"},j={key:1,class:"text-red-500 text-center"},P={class:"mb-6 print:hidden"},A={class:"flex flex-wrap gap-2"},D=["checked","onChange"],F={class:"card-bg p-8 divide-y-2"},I={class:"flex justify-center"},M={class:"text-center font-bold border px-4 rounded-full border-black"},T={class:"font-semibold"},W={class:"min-w-full table-auto overflow-hidden"},$={class:"text-gray-600 text-sm"},q={class:"py-1 px-2 border border-black text-left"},G={class:"py-1 px-2 border border-black text-left"},Q={__name:"PrintCenterEnvelope",setup(H){const i=E(),u=c(()=>i.centerEnvelopData),v=c(()=>i.loading),m=c(()=>i.error),l=S([]),x=async()=>{try{await i.fetchCenterEnvelop(),h()}catch(s){console.error("Error fetching center envelop data:",s)}},h=()=>{const s=new Set;u.value.forEach(t=>{t.zamat_data.forEach(a=>{s.add(a.zamat_name)})}),l.value=Array.from(s)},y=c(()=>u.value.map(s=>({...s,zamat_data:s.zamat_data.filter(t=>l.value.includes(t.zamat_name)&&parseInt(t.student_count)>0)})).filter(s=>s.zamat_data.length>0)),g=s=>{l.value.includes(s)?l.value=l.value.filter(t=>t!==s):l.value.push(s)},k=()=>{window.print()};return V(x),(s,t)=>(n(),o("div",Z,[e("div",{class:"flex justify-between items-center mb-6 print:hidden"},[t[0]||(t[0]=e("h1",{class:"text-2xl font-bold"},"মারকায অনুসারে পরীক্ষার্থী সংখ্যা",-1)),e("button",{onClick:k,class:"bg-blue-500 text-white px-4 py-2 rounded"},"প্রিন্ট")]),v.value?(n(),B(L,{key:0})):b("",!0),m.value?(n(),o("div",j,r(m.value),1)):b("",!0),e("div",P,[t[1]||(t[1]=e("h2",{class:"text-lg font-semibold mb-2"},"মারহালা ফিল্টার করুন:",-1)),e("div",A,[(n(!0),o(p,null,_(Array.from(new Set(u.value.flatMap(a=>a.zamat_data.map(d=>d.zamat_name)))),a=>(n(),o("label",{key:a,class:"inline-flex items-center"},[e("input",{type:"checkbox",class:"mr-2",checked:l.value.includes(a),onChange:d=>g(a)},null,40,D),z(" "+r(a),1)]))),128))])]),e("div",F,[(n(!0),o(p,null,_(y.value,(a,d)=>(n(),o("div",{key:d,class:"space-y-2 py-4 break-inside-avoid"},[t[3]||(t[3]=e("div",{class:"flex justify-center"},[e("img",{src:C,alt:"logo",class:"h-[60px]"})],-1)),e("div",I,[e("p",M,r(a.exam_name)+"-এর প্রশ্নপত্র ",1)]),e("h2",T,"মারকায: "+r(a.center_name),1),e("div",null,[e("table",W,[t[2]||(t[2]=e("thead",null,[e("tr",{class:"bg-gray-200 text-sm leading-normal"},[e("th",{class:"py-1 px-2 border border-black text-left"},"মারহালা"),e("th",{class:"py-1 px-2 border border-black text-left"},"প্রশ্নপত্র সংখ্যা")])],-1)),e("tbody",$,[(n(!0),o(p,null,_(a.zamat_data,(f,w)=>(n(),o("tr",{key:w,class:""},[e("td",q,r(f.zamat_name),1),e("td",G,r(parseInt(f.student_count).toLocaleString("bn-BD"))+" টি ",1)]))),128))])])])]))),128))])]))}};export{Q as default};
