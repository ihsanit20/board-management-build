import{_ as lt,B as ot,r as b,o as it,C as rt,c as o,a as e,b as r,j as y,D as S,F as d,e as u,v as at,y as m,t as a,p as nt,k as dt,h as v,d as l,E as ut,f as mt,n as Y,L as pt}from"./index-B-zjSs8V.js";import{_ as bt}from"./sign-BrQ60Aw4.js";import{u as xt}from"./result-CEBbx805.js";import{u as ct}from"./area-BN6AwnGW.js";import{u as yt}from"./institute-D9oKuuBR.js";import{u as vt}from"./zamat-BpNHGMkI.js";import{D as gt}from"./DivTable-D9xpQ-0O.js";const ft={class:"my-container space-y-6 print:space-y-0 py-4"},kt={class:"grid gap-4"},_t={class:"grid md:grid-cols-2 gap-4"},It={key:0,class:"animate-pulse"},Rt=["value"],St={key:0,class:"animate-pulse"},Bt=["value"],wt={class:"grid md:grid-cols-5 gap-4"},Dt={class:"md:col-span-1"},Vt={key:0,class:"animate-pulse"},jt={class:"md:col-span-3"},Lt={key:0,class:"animate-pulse"},Ct=["disabled"],Nt=["value"],ht={class:"md:col-span-1"},zt={key:0,class:"animate-pulse"},At=["value"],Et={class:"flex justify-center"},Mt=["disabled"],Pt={class:""},Ut={key:1,class:"text-center text-gray-500"},qt={key:2},Tt={class:"space-y-6 print:space-y-0"},Zt={class:"flex-1 flex justify-between"},Ft={class:"flex-1 space-y-2"},Gt={class:""},Ht={class:"flex flex-col justify-center items-center"},Jt={class:"title-md"},Kt={class:""},Ot={class:"text-left font-normal text-sm"},Qt={class:"grid grid-cols-3"},Wt={class:"text-center"},Xt={key:0,class:"text-right"},Yt={class:"min-w-full"},$t={class:"bg-gray-100"},te={key:0,class:"hover:bg-gray-100 transition-colors"},ee={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},se={class:"px-1 py-0.5 text-sm text-gray-700 border border-black"},le={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},oe={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},ie={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},re={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},ae=["colspan"],ne={class:"space-y-4 print-footer"},de={class:"text-xs leading-tight text-center flex flex-col items-start"},ue={__name:"PrintInstituteResult",setup(me){const n=xt(),B=ot(),w=ct(),p=yt(),D=vt(),g=b(""),f=b(""),k=b(""),_=b(""),x=b([]),I=b("");it(()=>{B.fetchExams(),w.fetchAreas(),D.fetchZamats()}),rt(f,async c=>{c?(await p.fetchInstitutesByArea(c),x.value=p.institutesByArea):x.value=[]});const $=()=>{I.value?x.value=p.institutesByArea.filter(c=>c.institute_code.includes(I.value)):x.value=p.institutesByArea},tt=async()=>{if(!g.value||!k.value||!_.value){alert("Please select Exam, Institute, and Zamat.");return}await n.fetchInstituteResults(k.value,_.value,g.value)},et=new Date().toLocaleDateString("bn-BD"),st=()=>{window.print()};return(c,t)=>{var j,L,C;return l(),o("div",ft,[t[40]||(t[40]=e("h1",{class:"title-lg text-center print:hidden"},"মাদরাসা ভিত্তিক ফলাফল",-1)),e("form",{onSubmit:nt(tt,["prevent"]),class:"card-bg p-4 md:p-8 gap-4 print:hidden"},[e("div",kt,[e("div",_t,[e("div",null,[t[7]||(t[7]=e("label",{for:"examId",class:"block text-sm font-medium text-gray-700"},"পরীক্ষা",-1)),r(B).loading?(l(),o("div",It,t[5]||(t[5]=[e("div",{class:"h-11 bg-gray-300 rounded-md"},null,-1)]))):y((l(),o("select",{key:1,id:"examId","onUpdate:modelValue":t[0]||(t[0]=i=>g.value=i),class:"input-1",required:""},[t[6]||(t[6]=e("option",{value:"",disabled:""},"পরীক্ষা নির্বাচন করুন",-1)),(l(!0),o(d,null,u(r(B).exams,i=>(l(),o("option",{key:i.id,value:i.id},a(i.name),9,Rt))),128))],512)),[[S,g.value]])]),e("div",null,[t[10]||(t[10]=e("label",{for:"areaId",class:"block text-sm font-medium text-gray-700"},"এলাকা",-1)),r(w).loading?(l(),o("div",St,t[8]||(t[8]=[e("div",{class:"h-11 bg-gray-300 rounded-md"},null,-1)]))):y((l(),o("select",{key:1,id:"areaId","onUpdate:modelValue":t[1]||(t[1]=i=>f.value=i),class:"input-1",required:""},[t[9]||(t[9]=e("option",{value:"",disabled:""},"এলাকা নির্বাচন করুন",-1)),(l(!0),o(d,null,u(r(w).areas,i=>(l(),o("option",{key:i.id,value:i.id},a(i.name),9,Bt))),128))],512)),[[S,f.value]])])]),e("div",wt,[e("div",Dt,[t[12]||(t[12]=e("label",{for:"searchInstituteCode",class:"block text-sm font-medium text-gray-700"},"ইলহাক",-1)),r(p).loading?(l(),o("div",Vt,t[11]||(t[11]=[e("div",{class:"h-11 bg-gray-300 rounded-md"},null,-1)]))):y((l(),o("input",{key:1,type:"text",id:"searchInstituteCode","onUpdate:modelValue":t[2]||(t[2]=i=>I.value=i),class:"input-1",placeholder:"ইলহাক সার্চ করুন",onInput:$},null,544)),[[at,I.value]])]),e("div",jt,[t[15]||(t[15]=e("label",{for:"instituteId",class:"block text-sm font-medium text-gray-700"},"মাদরাসা",-1)),r(p).loading?(l(),o("div",Lt,t[13]||(t[13]=[e("div",{class:"h-11 bg-gray-300 rounded-md"},null,-1)]))):y((l(),o("select",{key:1,id:"instituteId","onUpdate:modelValue":t[3]||(t[3]=i=>k.value=i),class:"input-1",disabled:!f.value,required:""},[t[14]||(t[14]=e("option",{value:"",disabled:""},"মাদরাসা নির্বাচন করুন",-1)),(l(!0),o(d,null,u(x.value,i=>(l(),o("option",{key:i.id,value:i.id},a(i.institute_code)+" "+a(i.name),9,Nt))),128))],8,Ct)),[[S,k.value]])]),e("div",ht,[t[18]||(t[18]=e("label",{for:"zamatId",class:"block text-sm font-medium text-gray-700"},"মারহালা",-1)),r(D).loading?(l(),o("div",zt,t[16]||(t[16]=[e("div",{class:"h-11 bg-gray-300 rounded-md"},null,-1)]))):y((l(),o("select",{key:1,id:"zamatId","onUpdate:modelValue":t[4]||(t[4]=i=>_.value=i),class:"input-1",required:""},[t[17]||(t[17]=e("option",{value:"",disabled:""},"মারহালা নির্বাচন করুন",-1)),(l(!0),o(d,null,u(r(D).zamats,i=>(l(),o("option",{key:i.id,value:i.id},a(i.name),9,At))),128))],512)),[[S,_.value]])])])]),e("div",Et,[e("button",{type:"submit",class:"btn-2",disabled:r(n).loading},[t[19]||(t[19]=e("i",{class:"fas fa-search"},null,-1)),m(" "+a(r(n).loading?"Loading...":"ফলাফল অনুসন্ধান"),1)],8,Mt)])],32),e("div",Pt,[r(n).loading?(l(),dt(pt,{key:0})):v("",!0),!r(n).loading&&(!r(n).instituteResults||!((j=r(n).instituteResults.students)!=null&&j.length))?(l(),o("div",Ut,t[20]||(t[20]=[e("p",null,"কোনো ফলাফল পাওয়া যায়নি।",-1)]))):v("",!0),!r(n).loading&&((C=(L=r(n).instituteResults)==null?void 0:L.students)!=null&&C.length)?(l(),o("div",qt,[e("div",Tt,[(l(!0),o(d,null,u(Math.ceil(r(n).instituteResults.students.length/10),i=>{var N,h,z,A,E,M,P,U,q,T,Z,F,G,H,J,K,O;return l(),o("div",{key:i,class:"card-bg p-4 md:p-8 break-inside-avoid break-after-page"},[e("div",Zt,[e("div",Ft,[e("div",Gt,[e("div",Ht,[t[21]||(t[21]=e("img",{class:"h-[60px]",src:ut,alt:""},null,-1)),e("h4",Jt,a((h=(N=r(n).instituteResults)==null?void 0:N.exam)==null?void 0:h.name),1)]),t[22]||(t[22]=e("div",{class:"flex justify-center"},[e("p",{class:"border border-black px-4 rounded-full font-bold"}," মাদরাসা ভিত্তিক নম্বরপত্র ")],-1))]),e("div",Kt,[e("div",Ot,[e("p",null,[t[23]||(t[23]=e("b",null,"মাদরাসা: ",-1)),m(a((A=(z=r(n).instituteResults)==null?void 0:z.institute)==null?void 0:A.institute_code)+" - "+a((M=(E=r(n).instituteResults)==null?void 0:E.institute)==null?void 0:M.name),1)]),e("div",Qt,[e("p",null,[t[24]||(t[24]=e("b",null,"বিভাগ: ",-1)),m(a((U=(P=r(n).instituteResults)==null?void 0:P.zamat)==null?void 0:U.department),1)]),e("p",Wt,[t[25]||(t[25]=e("b",null,"মারহালা: ",-1)),m(a((T=(q=r(n).instituteResults)==null?void 0:q.zamat)==null?void 0:T.name),1)]),(F=(Z=r(n).instituteResults)==null?void 0:Z.group)!=null&&F.name?(l(),o("p",Xt,[t[26]||(t[26]=e("b",null,"গ্রুপ: ",-1)),m(a((H=(G=r(n).instituteResults)==null?void 0:G.group)==null?void 0:H.name),1)])):v("",!0)])])])]),e("div",null,[mt(gt)])]),e("table",Yt,[e("thead",null,[e("tr",$t,[t[27]||(t[27]=e("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"},"#",-1)),t[28]||(t[28]=e("th",{class:"px-1 py-0.5 text-left text-sm font-medium border border-black"}," পরীক্ষার্থীর নাম ",-1)),t[29]||(t[29]=e("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," রোল ",-1)),(l(!0),o(d,null,u((J=r(n).instituteResults)==null?void 0:J.subjects,s=>(l(),o("th",{key:s.id,class:"px-1 py-0.5 text-sm font-medium border border-black"},a(s.name),1))),128)),t[30]||(t[30]=e("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," মোট ",-1)),t[31]||(t[31]=e("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," শতকরা (%) ",-1)),t[32]||(t[32]=e("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," বিভাগ ",-1)),t[33]||(t[33]=e("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," মেধাক্রম ",-1))])]),e("tbody",null,[(l(!0),o(d,null,u((K=r(n).instituteResults)==null?void 0:K.students,(s,V)=>(l(),o(d,{key:s==null?void 0:s.id},[V>=i*10-10&&V<i*10?(l(),o("tr",te,[e("td",ee,a(Number(V+1).toLocaleString("bn-BD")),1),e("td",se,a(s==null?void 0:s.name),1),e("td",le,a(s==null?void 0:s.roll_number),1),(l(!0),o(d,null,u(s==null?void 0:s.marks,(R,Q)=>{var W,X;return l(),o("td",{key:Q,class:Y(["px-1 py-0.5 text-sm text-gray-700 border border-black text-center w-12",{"bg-red-200":R===null||R<((X=(W=r(n).instituteResults)==null?void 0:W.subjects[Q])==null?void 0:X.pass_marks)}])},a(R===null?"অনু.":Number(R).toLocaleString("bn-BD")),3)}),128)),e("td",oe,a(Number(s==null?void 0:s.total_mark).toLocaleString("bn-BD")),1),e("td",ie,a(Number(s==null?void 0:s.percentage).toLocaleString("bn-BD")),1),e("td",{class:Y([{"bg-red-200":(s==null?void 0:s.grade)===null||(s==null?void 0:s.grade)==="রাসিব"},"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"])},a((s==null?void 0:s.grade)||"অনুপস্থিত"),3),e("td",re,a(s==null?void 0:s.merit),1)])):v("",!0)],64))),128))]),e("tfoot",null,[e("tr",null,[e("td",{colspan:7+((O=r(n).instituteResults)==null?void 0:O.subjects.length)},[e("div",ne,[t[38]||(t[38]=e("p",{class:"text-sm text-justify pt-1"},[e("b",null,"বি. দ্র. "),m("এটা প্রাথমিক ফলাফল। এতে কোন বিচ্যুতি বা অসংগতি দেখা দিলে অথবা কোন আপত্তি থাকলে তা নিরসনের জন্য ১০ থেকে ২০ শাওয়ালের মধ্যে যথা নিয়মে আবেদন করতে হবে। খাতা নজরে সানী করাতে চাইলে প্রতি বিষয়ের জন্য মারহালা সমপরিমাণ ফি জমাদান পূর্বক ১০ থেকে ২০ শাওয়ালের মধ্যে মাদরাসা কর্তৃপক্ষের মাধ্যমে তানযীম পরীক্ষা নিয়ন্ত্রণ বিভাগে লিখিত আবেদন করতে হবে। ")],-1)),e("div",de,[t[34]||(t[34]=e("img",{class:"w-28",src:bt,alt:""},null,-1)),t[35]||(t[35]=e("p",{class:"font-bold"},"[মুফতী] মুহা. নূরুল হুদা",-1)),t[36]||(t[36]=e("p",null,"পরীক্ষা নিয়ন্ত্রক",-1)),t[37]||(t[37]=e("p",{class:"font-bold"},"তানযীমুল মাদারিসিল কাওমিয়া নরসিংদী",-1)),e("p",null,"ইস্যু তারিখ: "+a(r(et))+" ইং",1)])])],8,ae)])])])])}),128)),e("div",{class:"flex justify-center print:hidden"},[e("button",{onClick:st,class:"btn-2"},t[39]||(t[39]=[e("i",{class:"fas fa-print"},null,-1),m(" Print ")]))])])])):v("",!0)])])}}},fe=lt(ue,[["__scopeId","data-v-b800ffa2"]]);export{fe as default};
