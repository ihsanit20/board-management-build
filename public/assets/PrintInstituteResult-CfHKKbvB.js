import{_ as lt,C as ot,r as p,o as rt,D as it,c as n,a as t,j as c,E as S,F as d,e as u,b as o,v as at,y as m,t as r,p as nt,k as dt,h as f,d as i,f as ut,n as Y,L as mt}from"./index-DvuBrlci.js";import{_ as pt}from"./logo-name-BfArKbry.js";import{_ as bt}from"./sign-BrQ60Aw4.js";import{u as xt}from"./result-BFI6h4Mx.js";import{u as ct}from"./area-BXedmj3_.js";import{u as ft}from"./institute-7NahhqaD.js";import{u as vt}from"./zamat-CwRpw19p.js";import{D as yt}from"./DivTable-tO2LNvcp.js";const gt={class:"my-container space-y-6 print:space-y-0 py-4"},kt={class:"grid gap-4"},_t={class:"grid md:grid-cols-2 gap-4"},It=["value"],Rt=["value"],St={class:"grid md:grid-cols-5 gap-4"},Bt={class:"md:col-span-1"},wt={class:"md:col-span-3"},Dt=["disabled"],Vt=["value"],jt={class:"md:col-span-1"},Lt=["value"],Ct={class:"flex justify-center"},Nt=["disabled"],ht={class:""},zt={key:1,class:"text-center text-gray-500"},At={key:2},Et={class:"space-y-6 print:space-y-0"},Mt={class:"flex-1 flex justify-between"},Pt={class:"flex-1 space-y-2"},Ut={class:""},qt={class:"flex flex-col justify-center items-center"},Tt={class:"title-md"},Zt={class:""},Ft={class:"text-left font-normal text-sm"},Gt={class:"grid grid-cols-3"},Ht={class:"text-center"},Jt={key:0,class:"text-right"},Kt={class:"min-w-full"},Ot={class:"bg-gray-100"},Qt={key:0,class:"hover:bg-gray-100 transition-colors"},Wt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},Xt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black"},Yt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},$t={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},te={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},ee={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},se=["colspan"],le={class:"space-y-4 print-footer"},oe={class:"text-xs leading-tight text-center flex flex-col items-start"},re={__name:"PrintInstituteResult",setup(ie){const a=xt(),w=ot(),D=ct(),v=ft(),V=vt(),y=p(""),g=p(""),k=p(""),_=p(""),b=p([]),I=p("");rt(()=>{w.fetchExams(),D.fetchAreas(),V.fetchZamats()}),it(g,async x=>{x?(await v.fetchInstitutesByArea(x),b.value=v.institutesByArea):b.value=[]});const $=()=>{I.value?b.value=v.institutesByArea.filter(x=>x.institute_code.includes(I.value)):b.value=v.institutesByArea},tt=async()=>{if(!y.value||!k.value||!_.value){alert("Please select Exam, Institute, and Zamat.");return}await a.fetchInstituteResults(k.value,_.value,y.value)},et=new Date().toLocaleDateString("bn-BD"),st=()=>{window.print()};return(x,e)=>{var j,L,C;return i(),n("div",gt,[e[35]||(e[35]=t("h1",{class:"title-lg text-center print:hidden"},"মাদরাসা ভিত্তিক ফলাফল",-1)),t("form",{onSubmit:nt(tt,["prevent"]),class:"card-bg p-4 md:p-8 gap-4 print:hidden"},[t("div",kt,[t("div",_t,[t("div",null,[e[6]||(e[6]=t("label",{for:"examId",class:"block text-sm font-medium text-gray-700"},"পরীক্ষা",-1)),c(t("select",{id:"examId","onUpdate:modelValue":e[0]||(e[0]=l=>y.value=l),class:"input-1",required:""},[e[5]||(e[5]=t("option",{value:"",disabled:""},"পরীক্ষা নির্বাচন করুন",-1)),(i(!0),n(d,null,u(o(w).exams,l=>(i(),n("option",{key:l.id,value:l.id},r(l.name),9,It))),128))],512),[[S,y.value]])]),t("div",null,[e[8]||(e[8]=t("label",{for:"areaId",class:"block text-sm font-medium text-gray-700"},"এলাকা",-1)),c(t("select",{id:"areaId","onUpdate:modelValue":e[1]||(e[1]=l=>g.value=l),class:"input-1",required:""},[e[7]||(e[7]=t("option",{value:"",disabled:""},"এলাকা নির্বাচন করুন",-1)),(i(!0),n(d,null,u(o(D).areas,l=>(i(),n("option",{key:l.id,value:l.id},r(l.name),9,Rt))),128))],512),[[S,g.value]])])]),t("div",St,[t("div",Bt,[e[9]||(e[9]=t("label",{for:"searchInstituteCode",class:"block text-sm font-medium text-gray-700"},"ইলহাক",-1)),c(t("input",{type:"text",id:"searchInstituteCode","onUpdate:modelValue":e[2]||(e[2]=l=>I.value=l),class:"input-1",placeholder:"ইলহাক সার্চ করুন",onInput:$},null,544),[[at,I.value]])]),t("div",wt,[e[11]||(e[11]=t("label",{for:"instituteId",class:"block text-sm font-medium text-gray-700"},"মাদরাসা",-1)),c(t("select",{id:"instituteId","onUpdate:modelValue":e[3]||(e[3]=l=>k.value=l),class:"input-1",disabled:!g.value,required:""},[e[10]||(e[10]=t("option",{value:"",disabled:""},"মাদরাসা নির্বাচন করুন",-1)),(i(!0),n(d,null,u(b.value,l=>(i(),n("option",{key:l.id,value:l.id},r(l.institute_code)+" "+r(l.name),9,Vt))),128))],8,Dt),[[S,k.value]])]),t("div",jt,[e[13]||(e[13]=t("label",{for:"zamatId",class:"block text-sm font-medium text-gray-700"},"মারহালা",-1)),c(t("select",{id:"zamatId","onUpdate:modelValue":e[4]||(e[4]=l=>_.value=l),class:"input-1",required:""},[e[12]||(e[12]=t("option",{value:"",disabled:""},"মারহালা নির্বাচন করুন",-1)),(i(!0),n(d,null,u(o(V).zamats,l=>(i(),n("option",{key:l.id,value:l.id},r(l.name),9,Lt))),128))],512),[[S,_.value]])])])]),t("div",Ct,[t("button",{type:"submit",class:"btn-2",disabled:o(a).loading},[e[14]||(e[14]=t("i",{class:"fas fa-search"},null,-1)),m(" "+r(o(a).loading?"Loading...":"ফলাফল অনুসন্ধান"),1)],8,Nt)])],32),t("div",ht,[o(a).loading?(i(),dt(mt,{key:0})):f("",!0),!o(a).loading&&(!o(a).instituteResults||!((j=o(a).instituteResults.students)!=null&&j.length))?(i(),n("div",zt,e[15]||(e[15]=[t("p",null,"কোনো ফলাফল পাওয়া যায়নি।",-1)]))):f("",!0),!o(a).loading&&((C=(L=o(a).instituteResults)==null?void 0:L.students)!=null&&C.length)?(i(),n("div",At,[t("div",Et,[(i(!0),n(d,null,u(Math.ceil(o(a).instituteResults.students.length/10),l=>{var N,h,z,A,E,M,P,U,q,T,Z,F,G,H,J,K,O;return i(),n("div",{key:l,class:"card-bg p-4 md:p-8 break-inside-avoid break-after-page"},[t("div",Mt,[t("div",Pt,[t("div",Ut,[t("div",qt,[e[16]||(e[16]=t("img",{class:"h-[60px]",src:pt,alt:""},null,-1)),t("h4",Tt,r((h=(N=o(a).instituteResults)==null?void 0:N.exam)==null?void 0:h.name),1)]),e[17]||(e[17]=t("div",{class:"flex justify-center"},[t("p",{class:"border border-black px-4 rounded-full font-bold"}," মাদরাসা ভিত্তিক নম্বরপত্র ")],-1))]),t("div",Zt,[t("div",Ft,[t("p",null,[e[18]||(e[18]=t("b",null,"মাদরাসা: ",-1)),m(r((A=(z=o(a).instituteResults)==null?void 0:z.institute)==null?void 0:A.institute_code)+" - "+r((M=(E=o(a).instituteResults)==null?void 0:E.institute)==null?void 0:M.name),1)]),t("div",Gt,[t("p",null,[e[19]||(e[19]=t("b",null,"বিভাগ: ",-1)),m(r((U=(P=o(a).instituteResults)==null?void 0:P.zamat)==null?void 0:U.department),1)]),t("p",Ht,[e[20]||(e[20]=t("b",null,"মারহালা: ",-1)),m(r((T=(q=o(a).instituteResults)==null?void 0:q.zamat)==null?void 0:T.name),1)]),(F=(Z=o(a).instituteResults)==null?void 0:Z.group)!=null&&F.name?(i(),n("p",Jt,[e[21]||(e[21]=t("b",null,"গ্রুপ: ",-1)),m(r((H=(G=o(a).instituteResults)==null?void 0:G.group)==null?void 0:H.name),1)])):f("",!0)])])])]),t("div",null,[ut(yt)])]),t("table",Kt,[t("thead",null,[t("tr",Ot,[e[22]||(e[22]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"},"#",-1)),e[23]||(e[23]=t("th",{class:"px-1 py-0.5 text-left text-sm font-medium border border-black"}," পরীক্ষার্থীর নাম ",-1)),e[24]||(e[24]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," রোল ",-1)),(i(!0),n(d,null,u((J=o(a).instituteResults)==null?void 0:J.subjects,s=>(i(),n("th",{key:s.id,class:"px-1 py-0.5 text-sm font-medium border border-black"},r(s.name),1))),128)),e[25]||(e[25]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," মোট ",-1)),e[26]||(e[26]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," শতকরা (%) ",-1)),e[27]||(e[27]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," বিভাগ ",-1)),e[28]||(e[28]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," মেধাক্রম ",-1))])]),t("tbody",null,[(i(!0),n(d,null,u((K=o(a).instituteResults)==null?void 0:K.students,(s,B)=>(i(),n(d,{key:s==null?void 0:s.id},[B>=l*10-10&&B<l*10?(i(),n("tr",Qt,[t("td",Wt,r(Number(B+1).toLocaleString("bn-BD")),1),t("td",Xt,r(s==null?void 0:s.name),1),t("td",Yt,r(s==null?void 0:s.roll_number),1),(i(!0),n(d,null,u(s==null?void 0:s.marks,(R,Q)=>{var W,X;return i(),n("td",{key:Q,class:Y(["px-1 py-0.5 text-sm text-gray-700 border border-black text-center w-12",{"bg-red-200":R===null||R<((X=(W=o(a).instituteResults)==null?void 0:W.subjects[Q])==null?void 0:X.pass_marks)}])},r(R===null?"অনু.":Number(R).toLocaleString("bn-BD")),3)}),128)),t("td",$t,r(Number(s==null?void 0:s.total_mark).toLocaleString("bn-BD")),1),t("td",te,r(Number(s==null?void 0:s.percentage).toLocaleString("bn-BD")),1),t("td",{class:Y([{"bg-red-200":(s==null?void 0:s.grade)===null||(s==null?void 0:s.grade)==="রাসিব"},"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"])},r((s==null?void 0:s.grade)||"অনুপস্থিত"),3),t("td",ee,r(s==null?void 0:s.merit),1)])):f("",!0)],64))),128))]),t("tfoot",null,[t("tr",null,[t("td",{colspan:7+((O=o(a).instituteResults)==null?void 0:O.subjects.length)},[t("div",le,[e[33]||(e[33]=t("p",{class:"text-sm text-justify pt-1"},[t("b",null,"বি. দ্র. "),m("এটা প্রাথমিক ফলাফল। এতে কোন বিচ্যুতি বা অসংগতি দেখা দিলে অথবা কোন আপত্তি থাকলে তা নিরসনের জন্য ১০ থেকে ২০ শাওয়ালের মধ্যে যথা নিয়মে আবেদন করতে হবে। খাতা নজরে সানী করাতে চাইলে প্রতি বিষয়ের জন্য মারহালা সমপরিমাণ ফি জমাদান পূর্বক ১০ থেকে ২০ শাওয়ালের মধ্যে মাদরাসা কর্তৃপক্ষের মাধ্যমে তানযীম পরীক্ষা নিয়ন্ত্রণ বিভাগে লিখিত আবেদন করতে হবে। ")],-1)),t("div",oe,[e[29]||(e[29]=t("img",{class:"w-28",src:bt,alt:""},null,-1)),e[30]||(e[30]=t("p",{class:"font-bold"},"[মুফতী] মুহা. নূরুল হুদা",-1)),e[31]||(e[31]=t("p",null,"পরীক্ষা নিয়ন্ত্রক",-1)),e[32]||(e[32]=t("p",{class:"font-bold"},"তানযীমুল মাদারিসিল কাওমিয়া নরসিংদী",-1)),t("p",null,"ইস্যু তারিখ: "+r(o(et))+" ইং",1)])])],8,se)])])])])}),128)),t("div",{class:"flex justify-center print:hidden"},[t("button",{onClick:st,class:"btn-2"},e[34]||(e[34]=[t("i",{class:"fas fa-print"},null,-1),m(" Print ")]))])])])):f("",!0)])])}}},ce=lt(re,[["__scopeId","data-v-2474ef9f"]]);export{ce as default};
