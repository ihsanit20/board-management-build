import{A as Q,r as m,o as W,B as X,c as i,a as t,j as y,C as c,F as n,e as d,b as l,y as u,t as r,p as Y,k as $,h as v,G as h,d as o,L as tt}from"./index-DCovFhGF.js";import{_ as et}from"./sign-BrQ60Aw4.js";import{u as st}from"./result-Cey7P-l5.js";import{u as lt}from"./area-CyOu3NAr.js";import{u as rt}from"./institute-DWxdO7gt.js";import{u as ot}from"./zamat-CVbT4Mpd.js";const it={class:"my-container space-y-6"},at={class:"grid md:grid-cols-2 gap-4"},nt=["value"],dt=["value"],ut=["disabled"],mt=["value"],bt=["value"],pt={class:"flex justify-center"},xt=["disabled"],ft={class:"card-bg p-4 md:p-8"},yt={key:1,class:"text-center text-gray-500"},ct={key:2},vt={class:"space-y-2"},gt={class:"flex flex-col justify-center items-center space-y-2"},kt={class:"title-md"},St={class:"md:flex justify-between gap-4"},It={key:0},Rt={class:"overflow-x-auto"},wt={class:"min-w-full border border-black"},_t={class:"bg-gray-200 border border-black"},Bt={class:""},Dt={class:"px-2 py-1 text-sm text-gray-700 border border-black text-center"},Lt={class:"px-2 py-1 text-sm text-gray-700 border border-black"},Vt={class:"px-2 py-1 text-sm text-gray-700 border border-black text-center"},Nt={class:"px-2 py-1 text-sm text-gray-700 border border-black text-center"},jt={class:"px-2 py-1 text-sm text-gray-700 border border-black text-center"},zt={class:"px-2 py-1 text-sm text-gray-700 border border-black text-center"},qt={class:"px-2 py-1 text-sm text-gray-700 border border-black text-center"},Et={class:"space-y-4"},Pt={class:"text-xs leading-tight text-center flex flex-col items-start"},Ut={class:""},Ht={__name:"PrintInstituteResult",setup(Ct){const a=st(),S=Q(),I=lt(),R=rt(),w=ot(),b=m(""),p=m(""),x=m(""),f=m(""),g=m([]);W(()=>{S.fetchExams(),I.fetchAreas(),w.fetchZamats()}),X(p,async k=>{k?(await R.fetchInstitutes({area_id:k,per_page:"all"}),g.value=R.institutes):g.value=[]});const T=async()=>{if(!b.value||!x.value||!f.value){alert("Please select Exam, Institute, and Zamat.");return}await a.fetchInstituteResults(x.value,f.value,b.value)},H=new Date().toLocaleDateString("bn-BD"),J=()=>{window.print()};return(k,e)=>{var _,B,D,L,V,N,j,z,q,E,P,U,C,M,Z,A,F;return o(),i("div",it,[e[33]||(e[33]=t("h1",{class:"title-lg text-center print:hidden"},"মাদরাসা ভিত্তিক ফলাফল",-1)),t("form",{onSubmit:Y(T,["prevent"]),class:"card-bg p-4 md:p-8 gap-4 print:hidden"},[t("div",at,[t("div",null,[e[5]||(e[5]=t("label",{for:"examId",class:"block text-sm font-medium text-gray-700"},"পরীক্ষা",-1)),y(t("select",{id:"examId","onUpdate:modelValue":e[0]||(e[0]=s=>b.value=s),class:"input-1",required:""},[e[4]||(e[4]=t("option",{value:"",disabled:""},"পরীক্ষা নির্বাচন করুন",-1)),(o(!0),i(n,null,d(l(S).exams,s=>(o(),i("option",{key:s.id,value:s.id},r(s.name),9,nt))),128))],512),[[c,b.value]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"areaId",class:"block text-sm font-medium text-gray-700"},"এলাকা",-1)),y(t("select",{id:"areaId","onUpdate:modelValue":e[1]||(e[1]=s=>p.value=s),class:"input-1",required:""},[e[6]||(e[6]=t("option",{value:"",disabled:""},"এলাকা নির্বাচন করুন",-1)),(o(!0),i(n,null,d(l(I).areas,s=>(o(),i("option",{key:s.id,value:s.id},r(s.name),9,dt))),128))],512),[[c,p.value]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"instituteId",class:"block text-sm font-medium text-gray-700"},"মাদরাসা",-1)),y(t("select",{id:"instituteId","onUpdate:modelValue":e[2]||(e[2]=s=>x.value=s),class:"input-1",disabled:!p.value,required:""},[e[8]||(e[8]=t("option",{value:"",disabled:""},"মাদরাসা নির্বাচন করুন",-1)),(o(!0),i(n,null,d(g.value,s=>(o(),i("option",{key:s.id,value:s.id},r(s.name),9,mt))),128))],8,ut),[[c,x.value]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"zamatId",class:"block text-sm font-medium text-gray-700"},"মারহালা",-1)),y(t("select",{id:"zamatId","onUpdate:modelValue":e[3]||(e[3]=s=>f.value=s),class:"input-1",required:""},[e[10]||(e[10]=t("option",{value:"",disabled:""},"মারহালা নির্বাচন করুন",-1)),(o(!0),i(n,null,d(l(w).zamats,s=>(o(),i("option",{key:s.id,value:s.id},r(s.name),9,bt))),128))],512),[[c,f.value]])])]),t("div",pt,[t("button",{type:"submit",class:"btn-2",disabled:l(a).loading},[e[12]||(e[12]=t("i",{class:"fas fa-search"},null,-1)),u(" "+r(l(a).loading?"Loading...":"রেজাল্ট অনুসন্ধান"),1)],8,xt)])],32),t("div",ft,[l(a).loading?(o(),$(tt,{key:0})):v("",!0),!l(a).loading&&(!l(a).instituteResults||!((_=l(a).instituteResults.students)!=null&&_.length))?(o(),i("div",yt,e[13]||(e[13]=[t("p",null,"কোনো ফলাফল পাওয়া যায়নি।",-1)]))):v("",!0),!l(a).loading&&((D=(B=l(a).instituteResults)==null?void 0:B.students)!=null&&D.length)?(o(),i("div",ct,[t("div",vt,[t("div",gt,[e[14]||(e[14]=t("img",{src:h,alt:"logo",class:"h-[80px]"},null,-1)),t("p",kt,r((V=(L=l(a).instituteResults)==null?void 0:L.exam)==null?void 0:V.name),1),e[15]||(e[15]=t("p",{class:"border border-black px-4 rounded-full font-bold"},"মাদরাসা ভিত্তিক নম্বরপত্র",-1))]),t("div",null,[t("p",null,[e[16]||(e[16]=t("b",null,"মাদরাসা: ",-1)),u(r((j=(N=l(a).instituteResults)==null?void 0:N.institute)==null?void 0:j.name),1)])]),t("div",St,[t("p",null,[e[17]||(e[17]=t("b",null,"বিভাগ: ",-1)),u(r((q=(z=l(a).instituteResults)==null?void 0:z.zamat)==null?void 0:q.department),1)]),t("p",null,[e[18]||(e[18]=t("b",null,"মারহালা: ",-1)),u(r((P=(E=l(a).instituteResults)==null?void 0:E.zamat)==null?void 0:P.name),1)]),(C=(U=l(a).instituteResults)==null?void 0:U.group)!=null&&C.name?(o(),i("p",It,[e[19]||(e[19]=t("b",null,"গ্রুপ: ",-1)),u(r((Z=(M=l(a).instituteResults)==null?void 0:M.group)==null?void 0:Z.name),1)])):v("",!0)]),t("div",Rt,[t("table",wt,[t("thead",_t,[t("tr",null,[e[20]||(e[20]=t("th",{class:"px-2 py-1 text-sm font-medium border border-black text-center"},"#",-1)),e[21]||(e[21]=t("th",{class:"px-2 py-1 text-left text-sm font-medium border border-black"}," পরীক্ষার্থীর নাম ",-1)),e[22]||(e[22]=t("th",{class:"px-2 py-1 text-sm font-medium border border-black text-center"},"রোল",-1)),(o(!0),i(n,null,d((A=l(a).instituteResults)==null?void 0:A.subjects,s=>(o(),i("th",{key:s.id,class:"px-2 py-1 text-sm font-medium border border-black"},r(s.name),1))),128)),e[23]||(e[23]=t("th",{class:"px-2 py-1 text-sm font-medium border border-black text-center"},"মোট",-1)),e[24]||(e[24]=t("th",{class:"px-2 py-1 text-sm font-medium border border-black text-center"}," শতকরা ",-1)),e[25]||(e[25]=t("th",{class:"px-2 py-1 text-sm font-medium border border-black text-center"}," বিভাগ ",-1)),e[26]||(e[26]=t("th",{class:"px-2 py-1 text-sm font-medium border border-black text-center"}," মেধাক্রম ",-1))])]),t("tbody",Bt,[(o(!0),i(n,null,d((F=l(a).instituteResults)==null?void 0:F.students,(s,K)=>(o(),i("tr",{key:s==null?void 0:s.id},[t("td",Dt,r(Number(K+1).toLocaleString("bn-BD")),1),t("td",Lt,r(s==null?void 0:s.name),1),t("td",Vt,r(s==null?void 0:s.roll_number),1),(o(!0),i(n,null,d(s==null?void 0:s.marks,(G,O)=>(o(),i("td",{key:O,class:"px-2 py-1 text-sm text-gray-700 border border-black text-center w-12"},r(G===null?"অ":Number(G).toLocaleString("bn-BD")),1))),128)),t("td",Nt,r(Number(s==null?void 0:s.total_mark).toLocaleString("bn-BD")),1),t("td",jt,r(Number(s==null?void 0:s.percentage).toLocaleString("bn-BD"))+"% ",1),t("td",zt,r(s==null?void 0:s.grade),1),t("td",qt,r(s==null?void 0:s.merit),1)]))),128))])])]),t("div",Et,[e[31]||(e[31]=t("p",{class:"text-sm text-justify pt-1"},[t("b",null,"বি. দ্র. "),u("এটা প্রাথমিক ফলাফল। এতে কোন বিচ্যুতি বা অসংগতি দেখা দিলে অথবা কোন আপত্তি থাকলে তা নিরসনের জন্য ১০ থেকে ২০ শাওয়ালের মধ্যে যথা নিয়মে আবেদন করতে হবে। খাতা নজরে সানী করাতে চাইলে প্রতি বিষয়ের জন্য মারহালা সমপরিমাণ ফি জমাদান পূর্বক ১০ থেকে ২০ শাওয়ালের মধ্যে মাদরাসা কর্তৃপক্ষের মাধ্যমে তানযীম পরীক্ষা নিয়ন্ত্রণ বিভাগে লিখিত আবেদন করতে হবে। ")],-1)),t("div",Pt,[e[27]||(e[27]=t("img",{class:"w-28",src:et,alt:""},null,-1)),e[28]||(e[28]=t("p",{class:"font-bold"},"[মুফতী] মুহা. নূরুল হুদা",-1)),e[29]||(e[29]=t("p",{class:""},"পরীক্ষা নিয়ন্ত্রক",-1)),e[30]||(e[30]=t("p",{class:"font-bold"},"তানযীমুল মাদারিসিল কাওমিয়া নরসিংদী",-1)),t("p",Ut,"ইস্যু তারিখ: "+r(l(H))+" ইং",1)])]),t("div",{class:"flex justify-center print:hidden"},[t("button",{onClick:J,class:"btn-2"},e[32]||(e[32]=[t("i",{class:"fas fa-print"},null,-1),u(" Print ")]))])])])):v("",!0)])])}}};export{Ht as default};
