import{_ as et,A as st,r as p,o as lt,B as ot,c as a,a as t,j as c,C as R,F as d,e as u,b as o,v as rt,y as m,t as r,p as it,k as at,h as f,d as i,f as nt,n as W,L as dt}from"./index-BBFE9kUS.js";import{_ as ut}from"./logo-name-BfArKbry.js";import{_ as mt}from"./sign-BrQ60Aw4.js";import{u as pt}from"./result-BINETod2.js";import{u as bt}from"./area-BXrYlQZc.js";import{u as xt}from"./institute-Dx9S0qOU.js";import{u as ct}from"./zamat-yUeD6_5T.js";import{D as ft}from"./DivTable-CQQBw8Ni.js";const vt={class:"my-container space-y-6 print:space-y-0"},yt={class:"grid gap-4"},gt={class:"grid md:grid-cols-2 gap-4"},kt=["value"],_t=["value"],It={class:"grid md:grid-cols-5 gap-4"},St={class:"md:col-span-1"},Rt={class:"md:col-span-3"},Bt=["disabled"],Dt=["value"],wt={class:"md:col-span-1"},Lt=["value"],Vt={class:"flex justify-center"},Ct=["disabled"],Nt={class:""},jt={key:1,class:"text-center text-gray-500"},ht={key:2},zt={class:"space-y-6 print:space-y-0"},At={class:"flex-1 flex justify-between"},Mt={class:"flex-1 space-y-2"},Pt={class:""},Ut={class:"flex flex-col justify-center items-center"},qt={class:"title-md"},Et={class:""},Tt={class:"text-left font-normal text-sm"},Zt={class:"grid grid-cols-3"},Ft={class:"text-center"},Gt={key:0,class:"text-right"},Ht={class:"min-w-full"},Jt={class:"bg-gray-100"},Kt={class:"text-[10px]"},Ot={key:0,class:"hover:bg-gray-100 transition-colors"},Qt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},Wt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black"},Xt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},Yt={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},$t={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},te={class:"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"},ee=["colspan"],se={class:"space-y-4 print-footer"},le={class:"text-xs leading-tight text-center flex flex-col items-start"},oe={__name:"PrintInstituteResult",setup(re){const n=pt(),D=st(),w=bt(),v=xt(),L=ct(),y=p(""),g=p(""),k=p(""),_=p(""),b=p([]),I=p("");lt(()=>{D.fetchExams(),w.fetchAreas(),L.fetchZamats()}),ot(g,async x=>{x?(await v.fetchInstitutesByArea(x),b.value=v.institutesByArea):b.value=[]});const X=()=>{I.value?b.value=v.institutesByArea.filter(x=>x.institute_code.includes(I.value)):b.value=v.institutesByArea},Y=async()=>{if(!y.value||!k.value||!_.value){alert("Please select Exam, Institute, and Zamat.");return}await n.fetchInstituteResults(k.value,_.value,y.value)},$=new Date().toLocaleDateString("bn-BD"),tt=()=>{window.print()};return(x,e)=>{var V,C,N;return i(),a("div",vt,[e[36]||(e[36]=t("h1",{class:"title-lg text-center print:hidden"},"মাদরাসা ভিত্তিক ফলাফল",-1)),t("form",{onSubmit:it(Y,["prevent"]),class:"card-bg p-4 md:p-8 gap-4 print:hidden"},[t("div",yt,[t("div",gt,[t("div",null,[e[6]||(e[6]=t("label",{for:"examId",class:"block text-sm font-medium text-gray-700"},"পরীক্ষা",-1)),c(t("select",{id:"examId","onUpdate:modelValue":e[0]||(e[0]=l=>y.value=l),class:"input-1",required:""},[e[5]||(e[5]=t("option",{value:"",disabled:""},"পরীক্ষা নির্বাচন করুন",-1)),(i(!0),a(d,null,u(o(D).exams,l=>(i(),a("option",{key:l.id,value:l.id},r(l.name),9,kt))),128))],512),[[R,y.value]])]),t("div",null,[e[8]||(e[8]=t("label",{for:"areaId",class:"block text-sm font-medium text-gray-700"},"এলাকা",-1)),c(t("select",{id:"areaId","onUpdate:modelValue":e[1]||(e[1]=l=>g.value=l),class:"input-1",required:""},[e[7]||(e[7]=t("option",{value:"",disabled:""},"এলাকা নির্বাচন করুন",-1)),(i(!0),a(d,null,u(o(w).areas,l=>(i(),a("option",{key:l.id,value:l.id},r(l.name),9,_t))),128))],512),[[R,g.value]])])]),t("div",It,[t("div",St,[e[9]||(e[9]=t("label",{for:"searchInstituteCode",class:"block text-sm font-medium text-gray-700"},"ইলহাক",-1)),c(t("input",{type:"text",id:"searchInstituteCode","onUpdate:modelValue":e[2]||(e[2]=l=>I.value=l),class:"input-1",placeholder:"ইলহাক সার্চ করুন",onInput:X},null,544),[[rt,I.value]])]),t("div",Rt,[e[11]||(e[11]=t("label",{for:"instituteId",class:"block text-sm font-medium text-gray-700"},"মাদরাসা",-1)),c(t("select",{id:"instituteId","onUpdate:modelValue":e[3]||(e[3]=l=>k.value=l),class:"input-1",disabled:!g.value,required:""},[e[10]||(e[10]=t("option",{value:"",disabled:""},"মাদরাসা নির্বাচন করুন",-1)),(i(!0),a(d,null,u(b.value,l=>(i(),a("option",{key:l.id,value:l.id},r(l.institute_code)+" "+r(l.name),9,Dt))),128))],8,Bt),[[R,k.value]])]),t("div",wt,[e[13]||(e[13]=t("label",{for:"zamatId",class:"block text-sm font-medium text-gray-700"},"মারহালা",-1)),c(t("select",{id:"zamatId","onUpdate:modelValue":e[4]||(e[4]=l=>_.value=l),class:"input-1",required:""},[e[12]||(e[12]=t("option",{value:"",disabled:""},"মারহালা নির্বাচন করুন",-1)),(i(!0),a(d,null,u(o(L).zamats,l=>(i(),a("option",{key:l.id,value:l.id},r(l.name),9,Lt))),128))],512),[[R,_.value]])])])]),t("div",Vt,[t("button",{type:"submit",class:"btn-2",disabled:o(n).loading},[e[14]||(e[14]=t("i",{class:"fas fa-search"},null,-1)),m(" "+r(o(n).loading?"Loading...":"রেজাল্ট অনুসন্ধান"),1)],8,Ct)])],32),t("div",Nt,[o(n).loading?(i(),at(dt,{key:0})):f("",!0),!o(n).loading&&(!o(n).instituteResults||!((V=o(n).instituteResults.students)!=null&&V.length))?(i(),a("div",jt,e[15]||(e[15]=[t("p",null,"কোনো ফলাফল পাওয়া যায়নি।",-1)]))):f("",!0),!o(n).loading&&((N=(C=o(n).instituteResults)==null?void 0:C.students)!=null&&N.length)?(i(),a("div",ht,[t("div",zt,[(i(!0),a(d,null,u(Math.ceil(o(n).instituteResults.students.length/10),l=>{var j,h,z,A,M,P,U,q,E,T,Z,F,G,H,J;return i(),a("div",{key:l,class:"card-bg p-4 md:p-8 break-inside-avoid break-after-page"},[t("div",At,[t("div",Mt,[t("div",Pt,[t("div",Ut,[e[16]||(e[16]=t("img",{class:"h-[60px]",src:ut,alt:""},null,-1)),t("h4",qt,r((h=(j=o(n).instituteResults)==null?void 0:j.exam)==null?void 0:h.name),1)]),e[17]||(e[17]=t("div",{class:"flex justify-center"},[t("p",{class:"border border-black px-4 rounded-full font-bold"}," মাদরাসা ভিত্তিক নম্বরপত্র ")],-1))]),t("div",Et,[t("div",Tt,[t("p",null,[e[18]||(e[18]=t("b",null,"মাদরাসা: ",-1)),m(r((A=(z=o(n).instituteResults)==null?void 0:z.institute)==null?void 0:A.name),1)]),t("div",Zt,[t("p",null,[e[19]||(e[19]=t("b",null,"বিভাগ: ",-1)),m(r((P=(M=o(n).instituteResults)==null?void 0:M.zamat)==null?void 0:P.department),1)]),t("p",Ft,[e[20]||(e[20]=t("b",null,"মারহালা: ",-1)),m(r((q=(U=o(n).instituteResults)==null?void 0:U.zamat)==null?void 0:q.name),1)]),(T=(E=o(n).instituteResults)==null?void 0:E.group)!=null&&T.name?(i(),a("p",Gt,[e[21]||(e[21]=t("b",null,"গ্রুপ: ",-1)),m(r((F=(Z=o(n).instituteResults)==null?void 0:Z.group)==null?void 0:F.name),1)])):f("",!0)])])])]),t("div",null,[nt(ft)])]),t("table",Ht,[t("thead",null,[t("tr",Jt,[e[23]||(e[23]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"},"#",-1)),e[24]||(e[24]=t("th",{class:"px-1 py-0.5 text-left text-sm font-medium border border-black"}," পরীক্ষার্থীর নাম ",-1)),e[25]||(e[25]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," রোল ",-1)),(i(!0),a(d,null,u((G=o(n).instituteResults)==null?void 0:G.subjects,s=>(i(),a("th",{key:s.id,class:"px-1 py-0.5 text-sm font-medium border border-black"},[m(r(s.name)+" ",1),e[22]||(e[22]=t("br",null,null,-1)),t("span",Kt,r(s.pass_marks.toLocaleString("bn-BD"))+" / "+r(s.full_marks.toLocaleString("bn-BD")),1)]))),128)),e[26]||(e[26]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," মোট ",-1)),e[27]||(e[27]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," শতকরা (%) ",-1)),e[28]||(e[28]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," বিভাগ ",-1)),e[29]||(e[29]=t("th",{class:"px-1 py-0.5 text-sm font-medium border border-black text-center"}," মেধাক্রম ",-1))])]),t("tbody",null,[(i(!0),a(d,null,u((H=o(n).instituteResults)==null?void 0:H.students,(s,B)=>(i(),a(d,{key:s==null?void 0:s.id},[B>=l*10-10&&B<l*10?(i(),a("tr",Ot,[t("td",Qt,r(Number(B+1).toLocaleString("bn-BD")),1),t("td",Wt,r(s==null?void 0:s.name),1),t("td",Xt,r(s==null?void 0:s.roll_number),1),(i(!0),a(d,null,u(s==null?void 0:s.marks,(S,K)=>{var O,Q;return i(),a("td",{key:K,class:W(["px-1 py-0.5 text-sm text-gray-700 border border-black text-center w-12",{"bg-red-200":S===null||S<((Q=(O=o(n).instituteResults)==null?void 0:O.subjects[K])==null?void 0:Q.pass_marks)}])},r(S===null?"অনু.":Number(S).toLocaleString("bn-BD")),3)}),128)),t("td",Yt,r(Number(s==null?void 0:s.total_mark).toLocaleString("bn-BD")),1),t("td",$t,r(Number(s==null?void 0:s.percentage).toLocaleString("bn-BD")),1),t("td",{class:W([{"bg-red-200":(s==null?void 0:s.grade)===null||(s==null?void 0:s.grade)==="রাসিব"},"px-1 py-0.5 text-sm text-gray-700 border border-black text-center"])},r((s==null?void 0:s.grade)||"অনুপস্থিত"),3),t("td",te,r(s==null?void 0:s.merit),1)])):f("",!0)],64))),128))]),t("tfoot",null,[t("tr",null,[t("td",{colspan:7+((J=o(n).instituteResults)==null?void 0:J.subjects.length)},[t("div",se,[e[34]||(e[34]=t("p",{class:"text-sm text-justify pt-1"},[t("b",null,"বি. দ্র. "),m("এটা প্রাথমিক ফলাফল। এতে কোন বিচ্যুতি বা অসংগতি দেখা দিলে অথবা কোন আপত্তি থাকলে তা নিরসনের জন্য ১০ থেকে ২০ শাওয়ালের মধ্যে যথা নিয়মে আবেদন করতে হবে। খাতা নজরে সানী করাতে চাইলে প্রতি বিষয়ের জন্য মারহালা সমপরিমাণ ফি জমাদান পূর্বক ১০ থেকে ২০ শাওয়ালের মধ্যে মাদরাসা কর্তৃপক্ষের মাধ্যমে তানযীম পরীক্ষা নিয়ন্ত্রণ বিভাগে লিখিত আবেদন করতে হবে। ")],-1)),t("div",le,[e[30]||(e[30]=t("img",{class:"w-28",src:mt,alt:""},null,-1)),e[31]||(e[31]=t("p",{class:"font-bold"},"[মুফতী] মুহা. নূরুল হুদা",-1)),e[32]||(e[32]=t("p",null,"পরীক্ষা নিয়ন্ত্রক",-1)),e[33]||(e[33]=t("p",{class:"font-bold"},"তানযীমুল মাদারিসিল কাওমিয়া নরসিংদী",-1)),t("p",null,"ইস্যু তারিখ: "+r(o($))+" ইং",1)])])],8,ee)])])])])}),128)),t("div",{class:"flex justify-center print:hidden"},[t("button",{onClick:tt,class:"btn-2"},e[35]||(e[35]=[t("i",{class:"fas fa-print"},null,-1),m(" Print ")]))])])])):f("",!0)])])}}},xe=et(oe,[["__scopeId","data-v-fc790fc6"]]);export{xe as default};
