import{B as U,r as y,o as q,C as F,c as r,a as t,n as G,b as o,j as f,D as v,F as c,e as m,h as p,y as k,t as a,k as T,f as Z,d as l,L as R}from"./index-B7fQsvqV.js";import{_ as A}from"./logo-name-BFhNVwnM.js";import{_ as H}from"./sign-BrQ60Aw4.js";import{D as J}from"./DivTable-6ock5vI5.js";import{u as K}from"./group-C3YWK5ic.js";import{u as O}from"./result-9HmottB8.js";import{u as Q}from"./zamat-BKVP6oEq.js";const W={class:"my-container space-y-6 py-4"},X={class:"print:hidden"},Y={key:0,class:"animate-pulse h-10 bg-gray-300 rounded"},$=["value"],tt={key:0,class:"animate-pulse h-10 bg-gray-300 rounded"},et=["value"],st={key:0},ot={key:0,class:"animate-pulse h-10 bg-gray-300 rounded"},lt=["value"],rt={class:"flex items-end"},at=["disabled"],nt={class:"card-bg p-4 md:p-8"},it={key:0,class:"space-y-2"},dt={class:"flex gap-4 justify-between"},ut={class:"flex flex-1 flex-col justify-center items-center space-y-2"},pt={class:"title-md"},bt={class:""},ct={key:0},mt={class:"overflow-x-auto"},gt={class:"min-w-full border border-black rounded-lg text-sm"},xt={class:"px-1 py-0.5 text-center border border-black font-bold"},yt={class:"px-1 py-0.5 text-center border border-black"},ft={class:"px-1 py-0.5 border border-black"},vt={class:"px-1 py-0.5 border border-black"},kt={class:"px-1 py-0.5 text-center border border-black font-semibold"},_t={class:"px-1 py-0.5 text-center border border-black font-semibold w-28"},ht={class:"px-1 py-0.5 text-center border border-black font-bold"},Lt={class:"px-1 py-0.5 text-center border border-black font-bold"},St={class:"space-y-4"},wt={class:"text-xs leading-tight text-center flex flex-col items-start"},Dt={class:""},Pt={key:1,class:"text-center text-gray-600"},Ut={__name:"PrintMeritList",setup(Bt){const g=U(),x=Q(),i=K(),n=O(),b=y(""),d=y(""),u=y(null);async function j(){b.value&&d.value&&(u.value||i.groups.length==0)?await n.printMeritList(b.value,d.value,u.value):alert("অনুগ্রহ করে পরীক্ষা, মারহালা ও (যদি থাকে) গ্রুপ নির্বাচন করুন!")}q(async()=>{g.fetchExams(),x.fetchZamats()}),F(d,async()=>{d.value&&(u.value=null,i.groups=[],await i.fetchGroups(d.value))});const C=new Date().toLocaleDateString("bn-BD"),M=()=>{window.print()};return(Vt,e)=>{var _,h,L,S,w,D,P,B,V,I,z,N;return l(),r("div",W,[t("div",X,[e[10]||(e[10]=t("h1",{class:"title-lg text-center"},"মেধাতালিকা",-1)),t("div",{class:G(["grid card-bg p-4 md:p-8 gap-4",o(i).groups.length?"md:grid-cols-4":"md:grid-cols-3"])},[t("div",null,[e[4]||(e[4]=t("label",{for:"examId",class:"block text-sm font-medium text-gray-700"},"পরীক্ষা",-1)),o(g).loading?(l(),r("div",Y)):f((l(),r("select",{key:1,id:"examId","onUpdate:modelValue":e[0]||(e[0]=s=>b.value=s),class:"input-1",required:""},[e[3]||(e[3]=t("option",{value:"",disabled:""},"-- পরীক্ষা নির্বাচন করুন --",-1)),(l(!0),r(c,null,m(o(g).exams,s=>(l(),r("option",{key:s.id,value:s.id},a(s.name),9,$))),128))],512)),[[v,b.value]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"zamatId",class:"block text-sm font-medium text-gray-700"},"মারহালা",-1)),o(x).loading?(l(),r("div",tt)):f((l(),r("select",{key:1,id:"zamatId","onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),class:"input-1",required:""},[e[5]||(e[5]=t("option",{value:"",disabled:""},"-- মারহালা নির্বাচন করুন --",-1)),(l(!0),r(c,null,m(o(x).zamats,s=>(l(),r("option",{key:s.id,value:s.id},a(s.name),9,et))),128))],512)),[[v,d.value]])]),o(i).groups.length?(l(),r("div",st,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-700"},"গ্রুপ",-1)),o(i).loading?(l(),r("div",ot)):f((l(),r("select",{key:1,"onUpdate:modelValue":e[2]||(e[2]=s=>u.value=s),class:"input-1"},[e[7]||(e[7]=t("option",{value:null,disabled:""},"-- গ্রুপ নির্বাচন করুন --",-1)),(l(!0),r(c,null,m(o(i).groups,s=>(l(),r("option",{key:s.id,value:s.id},a(s.name),9,lt))),128))],512)),[[v,u.value]])])):p("",!0),t("div",rt,[t("button",{onClick:j,class:"btn-2 w-full h-11",disabled:o(n).loading},[e[9]||(e[9]=t("i",{class:"fas fa-search"},null,-1)),k(" "+a(o(n).loading?"Loading...":"ফলাফল দেখান"),1)],8,at)])],2)]),o(n).loading?(l(),T(R,{key:0})):p("",!0),t("div",nt,[(_=o(n).meritListPrint.students)!=null&&_.length?(l(),r("div",it,[t("div",dt,[t("div",ut,[e[11]||(e[11]=t("img",{src:A,alt:"logo",class:"h-[80px]"},null,-1)),t("p",pt,a((L=(h=o(n).meritListPrint)==null?void 0:h.exam)==null?void 0:L.name),1),e[12]||(e[12]=t("p",{class:"border border-black px-4 rounded-full font-bold"},"মেধাতালিকা",-1))]),Z(J,{class:""})]),t("div",bt,[t("p",null,"বিভাগ: "+a((w=(S=o(n).meritListPrint)==null?void 0:S.zamat)==null?void 0:w.department),1),t("p",null,"মারহালা: "+a((P=(D=o(n).meritListPrint)==null?void 0:D.zamat)==null?void 0:P.name),1),(B=o(n).meritListPrint)!=null&&B.group?(l(),r("p",ct," গ্রুপ "+a((I=(V=o(n).meritListPrint)==null?void 0:V.group)==null?void 0:I.name),1)):p("",!0),t("p",null," মেধাস্থানপ্রাপ্ত পরীক্ষার্থী সংখ্যা: "+a((z=o(n).meritListPrint.students)==null?void 0:z.length.toLocaleString("bn-BD"))+" জন ",1)]),t("div",mt,[t("table",gt,[e[13]||(e[13]=t("thead",{class:"bg-gray-200 border-b border-black"},[t("tr",null,[t("th",{class:"px-1 py-0.5 border border-black"},"#"),t("th",{class:"px-1 py-0.5 border border-black"},"রোল নং"),t("th",{class:"px-1 py-0.5 border border-black"},"নাম"),t("th",{class:"px-1 py-0.5 border border-black"},"মাদরাসা"),t("th",{class:"px-1 py-0.5 border border-black"},"মোট নম্বর"),t("th",{class:"px-1 py-0.5 border border-black"},"শতকরা (%)"),t("th",{class:"px-1 py-0.5 border border-black"},"বিভাগ"),t("th",{class:"px-1 py-0.5 border border-black"},"মেধাক্রম")])],-1)),t("tbody",null,[(l(!0),r(c,null,m(o(n).meritListPrint.students,(s,E)=>(l(),r("tr",{key:s.student_id,class:"hover:bg-gray-100"},[t("td",xt,a((E+1).toLocaleString("bn-BD")),1),t("td",yt,a(s.roll_number),1),t("td",ft,a(s.name),1),t("td",vt,a(s.institute_code)+" - "+a(s.institute),1),t("td",kt,a(Number(s.total_mark).toLocaleString("bn-BD")),1),t("td",_t,a(Number(s.percentage).toLocaleString("bn-BD")),1),t("td",ht,a(s.grade),1),t("td",Lt,a(s.merit),1)]))),128))])])]),t("div",St,[e[18]||(e[18]=t("p",{class:"text-sm text-justify pt-1"},[t("b",null,"বি. দ্র. "),k("এটা প্রাথমিক ফলাফল। এতে কোন বিচ্যুতি বা অসংগতি দেখা দিলে অথবা কোন আপত্তি থাকলে তা নিরসনের জন্য ১০ থেকে ২০ শাওয়ালের মধ্যে যথা নিয়মে আবেদন করতে হবে। খাতা নজরে সানী করাতে চাইলে প্রতি বিষয়ের জন্য মারহালা সমপরিমাণ ফি জমাদান পূর্বক ১০ থেকে ২০ শাওয়ালের মধ্যে মাদরাসা কর্তৃপক্ষের মাধ্যমে তানযীম পরীক্ষা নিয়ন্ত্রণ বিভাগে লিখিত আবেদন করতে হবে। ")],-1)),t("div",wt,[e[14]||(e[14]=t("img",{class:"w-28",src:H,alt:""},null,-1)),e[15]||(e[15]=t("p",{class:"font-bold"},"[মুফতী] মুহা. নূরুল হুদা",-1)),e[16]||(e[16]=t("p",{class:""},"পরীক্ষা নিয়ন্ত্রক",-1)),e[17]||(e[17]=t("p",{class:"font-bold"},"তানযীমুল মাদারিসিল কাওমিয়া নরসিংদী",-1)),t("p",Dt,"ইস্যু তারিখ: "+a(o(C))+" ইং",1)])]),t("div",{class:"flex justify-center print:hidden"},[t("button",{onClick:M,class:"btn-2"},e[19]||(e[19]=[t("i",{class:"fas fa-print"},null,-1),k(" Print ")]))])])):p("",!0),!o(n).loading&&!((N=o(n).meritListPrint.students)!=null&&N.length)?(l(),r("div",Pt,e[20]||(e[20]=[t("p",null,"এই ফিল্টারে কোনো শিক্ষার্থী পাওয়া যায়নি।",-1)]))):p("",!0)])])}}};export{Ut as default};
