import{B as L,r as u,o as P,c as l,a as e,j as g,D as h,F as p,e as x,b as m,y as S,k as V,h as w,t as s,d as o,L as M}from"./index-C-sMBNng.js";import{_ as j}from"./logo-name-BFhNVwnM.js";import{u as C}from"./area-gFn4xAik.js";import{u as E}from"./merit-price-Dppm0i3m.js";const N={class:"my-container space-y-6"},z={class:"print:hidden"},A={class:"card-bg p-4 md:p-8 flex flex-col md:flex-row gap-4 justify-center"},F=["value"],U=["value"],T={key:1,class:"card-bg p-8 space-y-6"},q={class:"text-center space-y-1"},G={class:"title-md"},H={class:"border border-black inline-block px-4 rounded-full font-bold"},I={class:"font-bold text-lg"},J={class:"min-w-full table-auto text-xs border"},K={class:"px-2 py-1 border border-black text-center w-14"},O={class:"px-2 py-1 border border-black"},Q={class:"px-2 py-1 border border-black"},R={class:"px-2 py-1 border border-black"},W={class:"px-2 py-1 border border-black"},X={class:"px-2 py-1 border border-black text-right"},Y={class:"px-2 py-1 border border-black text-right font-bold"},Z={key:2,class:"text-center text-red-500"},oe={__name:"PrintMeritPrice",setup($){const y=C(),v=L(),k=E(),d=u(""),i=u(""),n=u(null),c=u(null);P(async()=>{await y.fetchAreas(),await v.fetchExams()});const B=()=>{window.print()},D=async()=>{if(!d.value||!i.value){c.value="অনুগ্রহ করে পরীক্ষার নাম ও এলাকা নির্বাচন করুন";return}c.value="";const f=await k.fetchStudentMeritPrize(d.value,i.value);n.value=f};return(f,t)=>(o(),l("div",N,[e("div",z,[t[5]||(t[5]=e("h1",{class:"title-lg text-center"},"মেধা ভিত্তিক পুরস্কার তালিকা",-1)),e("div",A,[g(e("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>d.value=r),class:"input-1"},[t[2]||(t[2]=e("option",{value:"",disabled:""},"-- পরীক্ষা নির্বাচন করুন --",-1)),(o(!0),l(p,null,x(m(v).exams,r=>(o(),l("option",{key:r.id,value:r.id},s(r.name),9,F))),128))],512),[[h,d.value]]),g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>i.value=r),class:"input-1"},[t[3]||(t[3]=e("option",{value:"",disabled:""},"-- এলাকা নির্বাচন করুন --",-1)),(o(!0),l(p,null,x(m(y).areas,r=>(o(),l("option",{key:r.id,value:r.id},s(r.name),9,U))),128))],512),[[h,i.value]]),e("button",{type:"button",onClick:D,class:"btn-2"},t[4]||(t[4]=[e("i",{class:"fas fa-search"},null,-1),S(" অনুসন্ধান ")]))])]),m(k).loading?(o(),V(M,{key:0})):w("",!0),n.value?(o(),l("div",T,[e("div",q,[t[6]||(t[6]=e("img",{src:j,alt:"logo",class:"h-[80px] mx-auto"},null,-1)),e("p",G,s(n.value.exam.name),1),e("p",H," এলাকা: "+s(n.value.area.name),1)]),(o(!0),l(p,null,x(n.value.institutes,(r,_)=>(o(),l("div",{key:_,class:"break-inside-avoid"},[e("h2",I,s((_+1).toLocaleString("bn-BD"))+". "+s(r.name),1),e("table",J,[t[10]||(t[10]=e("thead",{class:"bg-gray-100"},[e("tr",null,[e("th",{class:"px-2 py-1 border border-black"},"#"),e("th",{class:"px-2 py-1 border border-black text-left"},"নাম"),e("th",{class:"px-2 py-1 border border-black text-left"},"রোল"),e("th",{class:"px-2 py-1 border border-black text-left"},"মারহালা"),e("th",{class:"px-2 py-1 border border-black text-left"},"মেধা"),e("th",{class:"px-2 py-1 border border-black text-right"},"পুরস্কার (৳)"),e("th",{class:"px-2 py-1 border border-black"},"স্বাক্ষর")])],-1)),e("tbody",null,[(o(!0),l(p,null,x(r.students,(a,b)=>(o(),l("tr",{key:b},[e("td",K,s((b+1).toLocaleString("bn-BD")),1),e("td",O,s(a.name),1),e("td",Q,s(a.roll_number),1),e("td",R,s(a.zamat),1),e("td",W,s(a.merit),1),e("td",X,s(a.price_amount.toLocaleString("bn-BD")),1),t[7]||(t[7]=e("td",{class:"px-2 py-1 border border-black w-28"},null,-1))]))),128)),e("tr",null,[t[8]||(t[8]=e("td",{colspan:"5",class:"px-2 py-1 border border-black text-right font-bold"}," মোট (৳): ",-1)),e("td",Y,s(r.students.reduce((a,b)=>a+b.price_amount,0).toLocaleString("bn-BD")),1),t[9]||(t[9]=e("td",{class:"px-2 py-1 border border-black"},null,-1))])])])]))),128))])):c.value?(o(),l("div",Z,s(c.value),1)):w("",!0),e("div",{class:"flex justify-center print:hidden"},[e("button",{onClick:B,class:"btn-2"},t[11]||(t[11]=[e("i",{class:"fas fa-print"},null,-1),S(" প্রিন্ট করুন ")]))])]))}};export{oe as default};
