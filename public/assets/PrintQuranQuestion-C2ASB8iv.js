import{r as y,i as G,o as P,B as U,c as a,a as e,y as g,j as S,C as w,F as d,e as c,b as p,t as o,h as _,k as E,d as l,G as F,L as M}from"./index-Ds8opBUQ.js";import{u as I,a as T}from"./para-group-CnfqxcZd.js";import{u as A}from"./zamat-CJmwSokB.js";import{u as H}from"./center-D-lnPILY.js";const J={class:"my-container space-y-4"},K={class:"card-bg p-4 print:hidden"},O={class:"grid md:grid-cols-4 gap-4"},R=["label"],W=["value"],X=["value"],Y=["value"],Z={key:0,class:"text-center text-gray-700 font-semibold mb-4"},$={key:0,class:"text-center text-red-500 mt-4"},q={key:2,class:"text-center text-gray-500 mt-4"},tt={key:3,class:"grid gap-4"},et={class:"font-bold text-center"},st={class:"flex justify-center gap-4"},lt={class:"space-y-2"},at={class:"flex gap-4"},ot={class:"font-bold"},rt={class:""},nt={class:""},ut={class:""},it={dir:"rtl",class:"text-justify font-bold text-base"},bt={__name:"PrintQuranQuestion",setup(dt){const v=I(),k=H(),D=A(),h=T(),m=y(""),f=y(""),x=y(""),r=y(!1),u=y(""),B=G(()=>v.questions.length);P(async()=>{try{r.value=!0,await D.fetchZamats()}catch(n){u.value="ডাটা লোড করতে সমস্যা হয়েছে।",console.error(n)}finally{r.value=!1}}),U(f,async n=>{if(!n){m.value="",x.value="",k.centers=[],h.paraGroups=[];return}try{r.value=!0,await k.fetchCenters({zamat_id:n}),await h.fetchParaGroups({zamat_id:n})}catch(s){u.value="সেন্টার বা পাড়া গ্রুপ লোড করতে সমস্যা হয়েছে।",console.error(s)}finally{r.value=!1}});const V=async()=>{if(!f.value||!m.value){u.value="মারহালা এবং মারকাজ নির্বাচন করুন।";return}try{r.value=!0,await v.fetchQuestions(m.value,f.value,x.value)}catch(n){u.value="প্রশ্ন লোড করতে সমস্যা হয়েছে।",console.error(n)}finally{r.value=!1}},j=()=>{window.print()};return(n,s)=>(l(),a("div",null,[e("div",J,[e("div",{class:"flex items-center justify-between print:hidden"},[s[4]||(s[4]=e("h1",{class:"title-lg"},"কুরআন প্রশ্ন তালিকা",-1)),e("button",{class:"btn-2",onClick:j},s[3]||(s[3]=[e("i",{class:"fas fa-print"},null,-1),g(" প্রিন্ট ")]))]),e("div",K,[e("div",O,[e("div",null,[S(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t),class:"input-1"},[s[5]||(s[5]=e("option",{value:"",disabled:""},"-মারহালা সিলেক্ট করুন-",-1)),(l(!0),a(d,null,c(p(D).departments,t=>(l(),a("optgroup",{label:t.name,key:t.id},[(l(!0),a(d,null,c(t.zamats,i=>(l(),a("option",{key:i.id,value:i.id},o(i.name),9,W))),128))],8,R))),128))],512),[[w,f.value]])]),e("div",null,[S(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),class:"input-1"},[s[6]||(s[6]=e("option",{value:"",selected:"",disabled:""},"- মারকাজ নির্বাচন করুন -",-1)),(l(!0),a(d,null,c(p(k).centers,t=>(l(),a("option",{key:t==null?void 0:t.institute.id,value:t==null?void 0:t.institute.id},o(t==null?void 0:t.institute.name),9,X))),128))],512),[[w,m.value]])]),e("div",null,[S(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>x.value=t),class:"input-1"},[s[7]||(s[7]=e("option",{value:"",selected:"",disabled:""},"- পাড়া গ্রুপ নির্বাচন করুন -",-1)),(l(!0),a(d,null,c(p(h).paraGroups,t=>(l(),a("option",{key:t.id,value:t.id},o(t.name),9,Y))),128))],512),[[w,x.value]])]),e("div",{class:"w-full"},[e("button",{onClick:V,class:"btn-2 w-full"},s[8]||(s[8]=[e("i",{class:"fas fa-search"},null,-1),g(" অনুসন্ধান ")]))])]),B.value>0?(l(),a("div",Z," প্রাপ্ত প্রশ্ন সংখ্যা: "+o(Number(B.value).toLocaleString("bn-BD"))+" টি ",1)):_("",!0)]),u.value?(l(),a("div",$,o(u.value),1)):_("",!0),r.value?(l(),E(M,{key:1})):_("",!0),!r.value&&p(v).questions.length===0?(l(),a("div",q," কোন প্রশ্ন পাওয়া যায়নি। ")):_("",!0),p(v).questions.length>0&&!r.value?(l(),a("div",tt,[(l(!0),a(d,null,c(p(v).questions,t=>{var i,L,C,N,Q;return l(),a("div",{key:t.id,class:"card-bg p-8 text-sm"},[s[12]||(s[12]=e("div",{class:"flex justify-center"},[e("img",{src:F,alt:"logo",class:"h-[60px]"})],-1)),e("p",et,"মারকাজ: "+o((i=t==null?void 0:t.center)==null?void 0:i.name),1),e("div",st,[e("p",null,[s[9]||(s[9]=e("b",null,"বিভাগ:",-1)),g(" "+o((C=(L=t==null?void 0:t.zamat)==null?void 0:L.department)==null?void 0:C.name)+",",1)]),e("p",null,[s[10]||(s[10]=e("b",null,"মারহালা:",-1)),g(" "+o((N=t==null?void 0:t.zamat)==null?void 0:N.name)+",",1)]),e("p",null,[s[11]||(s[11]=e("b",null,"পারা গ্রুপ:",-1)),g(" "+o(((Q=t==null?void 0:t.para_group)==null?void 0:Q.name)||"প্রযোজ্য নয়"),1)])]),s[13]||(s[13]=e("hr",{class:"border-black"},null,-1)),e("ul",lt,[(l(!0),a(d,null,c(t.questions,(b,z)=>(l(),a("li",{key:b.surah,class:"p-2 rounded"},[e("div",null,[e("div",at,[e("p",ot,o(Number(z+1).toLocaleString("bn-BD"))+" নং প্রশ্ন: ",1),e("p",rt,"সূরা নং: "+o(Number(b.surah).toLocaleString("bn-BD")),1),e("p",nt,"আয়াত নং: "+o(b.verses),1),e("p",ut,"পৃষ্ঠা নং: "+o(Number(b.page).toLocaleString("bn-BD")),1)]),e("p",it,o(b.text),1)])]))),128))])])}),128))])):_("",!0)])]))}};export{bt as default};
