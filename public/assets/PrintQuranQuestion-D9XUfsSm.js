import{r as y,i as P,o as U,C as E,c as a,a as e,y as g,j as S,D as w,F as d,e as c,b as p,t as o,h as _,k as F,d as l,L as M}from"./index-By_5JoKt.js";import{_ as I}from"./logo-name-BFhNVwnM.js";import{u as T}from"./quran-question-D1UJtw13.js";import{u as A}from"./zamat-CvWKJwBL.js";import{u as H}from"./center-CM444ouZ.js";import{u as J}from"./para-group-Yly1WLsA.js";const K={class:"my-container space-y-4"},O={class:"card-bg p-4 print:hidden"},R={class:"grid md:grid-cols-4 gap-4"},W=["label"],X=["value"],Y=["value"],Z=["value"],$={key:0,class:"text-center text-gray-700 font-semibold mb-4"},q={key:0,class:"text-center text-red-500 mt-4"},tt={key:2,class:"text-center text-gray-500 mt-4"},et={key:3,class:"grid gap-4"},st={class:"flex justify-center"},lt={class:"text-center font-bold text-lg border px-4 rounded-full border-black"},at={class:"font-bold text-center"},ot={class:"flex justify-center gap-4"},rt={class:"space-y-2"},nt={class:"flex gap-4"},ut={class:"font-bold"},it={class:""},dt={class:""},ct={class:""},pt={dir:"rtl",class:"text-justify font-bold text-base"},kt={__name:"PrintQuranQuestion",setup(vt){const v=T(),k=H(),D=A(),h=J(),m=y(""),f=y(""),x=y(""),r=y(!1),u=y(""),B=P(()=>v.questions.length);U(async()=>{try{r.value=!0,await D.fetchZamats()}catch(n){u.value="ডাটা লোড করতে সমস্যা হয়েছে।",console.error(n)}finally{r.value=!1}}),E(f,async n=>{if(!n){m.value="",x.value="",k.centers=[],h.paraGroups=[];return}try{r.value=!0,await k.fetchCenters({zamat_id:n}),await h.fetchParaGroups({zamat_id:n})}catch(s){u.value="সেন্টার বা পাড়া গ্রুপ লোড করতে সমস্যা হয়েছে।",console.error(s)}finally{r.value=!1}});const j=async()=>{if(!f.value||!m.value){u.value="মারহালা এবং মারকায নির্বাচন করুন।";return}try{r.value=!0,await v.fetchQuestions(m.value,f.value,x.value)}catch(n){u.value="প্রশ্ন লোড করতে সমস্যা হয়েছে।",console.error(n)}finally{r.value=!1}},z=()=>{window.print()};return(n,s)=>(l(),a("div",null,[e("div",K,[e("div",{class:"flex items-center justify-between print:hidden"},[s[4]||(s[4]=e("h1",{class:"title-lg"},"কুরআন প্রশ্ন তালিকা",-1)),e("button",{class:"btn-2",onClick:z},s[3]||(s[3]=[e("i",{class:"fas fa-print"},null,-1),g(" প্রিন্ট ")]))]),e("div",O,[e("div",R,[e("div",null,[S(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t),class:"input-1"},[s[5]||(s[5]=e("option",{value:"",disabled:""},"-মারহালা সিলেক্ট করুন-",-1)),(l(!0),a(d,null,c(p(D).departments,t=>(l(),a("optgroup",{label:t.name,key:t.id},[(l(!0),a(d,null,c(t.zamats,i=>(l(),a("option",{key:i.id,value:i.id},o(i.name),9,X))),128))],8,W))),128))],512),[[w,f.value]])]),e("div",null,[S(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),class:"input-1"},[s[6]||(s[6]=e("option",{value:"",selected:"",disabled:""},"- মারকায নির্বাচন করুন -",-1)),(l(!0),a(d,null,c(p(k).centers,t=>(l(),a("option",{key:t==null?void 0:t.institute.id,value:t==null?void 0:t.institute.id},o(t==null?void 0:t.institute.name),9,Y))),128))],512),[[w,m.value]])]),e("div",null,[S(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>x.value=t),class:"input-1"},[s[7]||(s[7]=e("option",{value:"",selected:"",disabled:""},"- পাড়া গ্রুপ নির্বাচন করুন -",-1)),(l(!0),a(d,null,c(p(h).paraGroups,t=>(l(),a("option",{key:t.id,value:t.id},o(t.name),9,Z))),128))],512),[[w,x.value]])]),e("div",{class:"w-full"},[e("button",{onClick:j,class:"btn-2 w-full"},s[8]||(s[8]=[e("i",{class:"fas fa-search"},null,-1),g(" অনুসন্ধান ")]))])]),B.value>0?(l(),a("div",$," প্রাপ্ত প্রশ্ন সংখ্যা: "+o(Number(B.value).toLocaleString("bn-BD"))+" টি ",1)):_("",!0)]),u.value?(l(),a("div",q,o(u.value),1)):_("",!0),r.value?(l(),F(M,{key:1})):_("",!0),!r.value&&p(v).questions.length===0?(l(),a("div",tt," কোন প্রশ্ন পাওয়া যায়নি। ")):_("",!0),p(v).questions.length>0&&!r.value?(l(),a("div",et,[(l(!0),a(d,null,c(p(v).questions,t=>{var i,L,C,N,Q,V;return l(),a("div",{key:t.id,class:"card-bg p-8 text-sm print:shadow-none print:rounded-none break-after-page"},[s[12]||(s[12]=e("div",{class:"flex justify-center"},[e("img",{src:I,alt:"logo",class:"h-[60px]"})],-1)),e("div",st,[e("p",lt,o((i=t==null?void 0:t.exam)==null?void 0:i.name)+"-এর প্রশ্নপত্র ",1)]),e("p",at,"মারকায: "+o((L=t==null?void 0:t.center)==null?void 0:L.name),1),e("div",ot,[e("p",null,[s[9]||(s[9]=e("b",null,"বিভাগ:",-1)),g(" "+o((N=(C=t==null?void 0:t.zamat)==null?void 0:C.department)==null?void 0:N.name)+",",1)]),e("p",null,[s[10]||(s[10]=e("b",null,"মারহালা:",-1)),g(" "+o((Q=t==null?void 0:t.zamat)==null?void 0:Q.name)+",",1)]),e("p",null,[s[11]||(s[11]=e("b",null,"পারা গ্রুপ:",-1)),g(" "+o(((V=t==null?void 0:t.para_group)==null?void 0:V.name)||"প্রযোজ্য নয়"),1)])]),s[13]||(s[13]=e("hr",{class:"border-black"},null,-1)),e("ul",rt,[(l(!0),a(d,null,c(t.questions,(b,G)=>(l(),a("li",{key:b.surah,class:"p-2 rounded"},[e("div",null,[e("div",nt,[e("p",ut,o(Number(G+1).toLocaleString("bn-BD"))+" নং প্রশ্ন: ",1),e("p",it,"সূরা নং: "+o(Number(b.surah).toLocaleString("bn-BD")),1),e("p",dt,"আয়াত নং: "+o(b.verses),1),e("p",ct,"পৃষ্ঠা নং: "+o(Number(b.page).toLocaleString("bn-BD")),1)]),e("p",pt,o(b.text),1)])]))),128))])])}),128))])):_("",!0)])]))}};export{kt as default};
