import{r as y,i as G,o as P,B as U,c as l,a as e,y as g,j as S,C as w,F as d,e as p,b as c,t as o,h as _,k as E,d as a,G as F,L as M}from"./index-BdNQ5xTu.js";import{u as I,a as T}from"./para-group-DaYQgYdm.js";import{u as A}from"./zamat-BJF4s1Bc.js";import{u as H}from"./center-CteqrzPw.js";const J={class:"my-container space-y-4"},K={class:"card-bg p-4 print:hidden"},O={class:"grid md:grid-cols-4 gap-4"},R=["label"],W=["value"],X=["value"],Y=["value"],Z={key:0,class:"text-center text-gray-700 font-semibold mb-4"},$={key:0,class:"text-center text-red-500 mt-4"},q={key:2,class:"text-center text-gray-500 mt-4"},tt={key:3,class:"grid gap-4"},et={class:"font-bold text-center"},st={class:"flex justify-center gap-4"},at={class:"space-y-2"},lt={class:"flex gap-4"},ot={class:"font-bold"},nt={class:""},rt={class:""},ut={class:""},it={dir:"rtl",class:"text-justify font-bold text-base"},bt={__name:"PrintQuranQuestion",setup(dt){const v=I(),x=H(),D=A(),h=T(),m=y(""),f=y(""),k=y(""),n=y(!1),u=y(""),B=G(()=>v.questions.length);P(async()=>{try{n.value=!0,await D.fetchZamats()}catch(r){u.value="ডাটা লোড করতে সমস্যা হয়েছে।",console.error(r)}finally{n.value=!1}}),U(f,async r=>{if(!r){m.value="",k.value="",x.centers=[],h.paraGroups=[];return}try{n.value=!0,await x.fetchCenters({zamat_id:r}),await h.fetchParaGroups({zamat_id:r})}catch(s){u.value="সেন্টার বা পাড়া গ্রুপ লোড করতে সমস্যা হয়েছে।",console.error(s)}finally{n.value=!1}});const V=async()=>{if(!f.value||!m.value){u.value="মারহালা এবং মারকাজ নির্বাচন করুন।";return}try{n.value=!0,await v.fetchQuestions(m.value,f.value,k.value)}catch(r){u.value="প্রশ্ন লোড করতে সমস্যা হয়েছে।",console.error(r)}finally{n.value=!1}},j=()=>{window.print()};return(r,s)=>(a(),l("div",null,[e("div",J,[e("div",{class:"flex items-center justify-between print:hidden"},[s[4]||(s[4]=e("h1",{class:"title-lg"},"কুরআন প্রশ্ন তালিকা",-1)),e("button",{class:"btn-2",onClick:j},s[3]||(s[3]=[e("i",{class:"fas fa-print"},null,-1),g(" প্রিন্ট ")]))]),e("div",K,[e("div",O,[e("div",null,[S(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>f.value=t),class:"input-1"},[s[5]||(s[5]=e("option",{value:"",disabled:""},"-মারহালা সিলেক্ট করুন-",-1)),(a(!0),l(d,null,p(c(D).departments,t=>(a(),l("optgroup",{label:t.name,key:t.id},[(a(!0),l(d,null,p(t.zamats,i=>(a(),l("option",{key:i.id,value:i.id},o(i.name),9,W))),128))],8,R))),128))],512),[[w,f.value]])]),e("div",null,[S(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>m.value=t),class:"input-1"},[s[6]||(s[6]=e("option",{value:"",selected:"",disabled:""},"- মারকাজ নির্বাচন করুন -",-1)),(a(!0),l(d,null,p(c(x).centers,t=>(a(),l("option",{key:t==null?void 0:t.institute.id,value:t==null?void 0:t.institute.id},o(t==null?void 0:t.institute.name),9,X))),128))],512),[[w,m.value]])]),e("div",null,[S(e("select",{"onUpdate:modelValue":s[2]||(s[2]=t=>k.value=t),class:"input-1"},[s[7]||(s[7]=e("option",{value:"",selected:"",disabled:""},"- পাড়া গ্রুপ নির্বাচন করুন -",-1)),(a(!0),l(d,null,p(c(h).paraGroups,t=>(a(),l("option",{key:t.id,value:t.id},o(t.name),9,Y))),128))],512),[[w,k.value]])]),e("div",{class:"w-full"},[e("button",{onClick:V,class:"btn-2 w-full"},s[8]||(s[8]=[e("i",{class:"fas fa-search"},null,-1),g(" অনুসন্ধান ")]))])]),B.value>0?(a(),l("div",Z," প্রাপ্ত প্রশ্ন সংখ্যা: "+o(Number(B.value).toLocaleString("bn-BD"))+" টি ",1)):_("",!0)]),u.value?(a(),l("div",$,o(u.value),1)):_("",!0),n.value?(a(),E(M,{key:1})):_("",!0),!n.value&&c(v).questions.length===0?(a(),l("div",q," কোন প্রশ্ন পাওয়া যায়নি। ")):_("",!0),c(v).questions.length>0&&!n.value?(a(),l("div",tt,[(a(!0),l(d,null,p(c(v).questions,t=>{var i,L,C,N,Q;return a(),l("div",{key:t.id,class:"card-bg p-8 text-sm print:shadow-none print:rounded-none break-after-page"},[s[12]||(s[12]=e("div",{class:"flex justify-center"},[e("img",{src:F,alt:"logo",class:"h-[60px]"})],-1)),e("p",et,"মারকাজ: "+o((i=t==null?void 0:t.center)==null?void 0:i.name),1),e("div",st,[e("p",null,[s[9]||(s[9]=e("b",null,"বিভাগ:",-1)),g(" "+o((C=(L=t==null?void 0:t.zamat)==null?void 0:L.department)==null?void 0:C.name)+",",1)]),e("p",null,[s[10]||(s[10]=e("b",null,"মারহালা:",-1)),g(" "+o((N=t==null?void 0:t.zamat)==null?void 0:N.name)+",",1)]),e("p",null,[s[11]||(s[11]=e("b",null,"পারা গ্রুপ:",-1)),g(" "+o(((Q=t==null?void 0:t.para_group)==null?void 0:Q.name)||"প্রযোজ্য নয়"),1)])]),s[13]||(s[13]=e("hr",{class:"border-black"},null,-1)),e("ul",at,[(a(!0),l(d,null,p(t.questions,(b,z)=>(a(),l("li",{key:b.surah,class:"p-2 rounded"},[e("div",null,[e("div",lt,[e("p",ot,o(Number(z+1).toLocaleString("bn-BD"))+" নং প্রশ্ন: ",1),e("p",nt,"সূরা নং: "+o(Number(b.surah).toLocaleString("bn-BD")),1),e("p",rt,"আয়াত নং: "+o(b.verses),1),e("p",ut,"পৃষ্ঠা নং: "+o(Number(b.page).toLocaleString("bn-BD")),1)]),e("p",it,o(b.text),1)])]))),128))])])}),128))])):_("",!0)])]))}};export{bt as default};
