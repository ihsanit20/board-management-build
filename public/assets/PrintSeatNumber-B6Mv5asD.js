import{r as v,o as N,B as h,c as a,a as t,y as i,t as o,h as x,j as k,C as w,F as c,e as f,b,k as j,d as l,G as C,L as V}from"./index-DqDkBzdm.js";import{u as B}from"./zamat-jhdJVZb2.js";import{u as z}from"./center-wYCYJk3s.js";import{u as L}from"./print-ClayObwx.js";const I={class:"my-container space-y-4"},P={key:0,class:"alert alert-danger"},E={class:"card-bg p-4 print:hidden"},F={class:"grid md:grid-cols-3 gap-4"},M=["label"],U=["value"],G=["value"],T={key:2},Z={class:"grid md:grid-cols-3 gap-4 mt-4 card-bg p-4 print:p-0 print:grid-cols-2"},q={class:"text-center text-xs font-bold"},A={class:"text-md font-bold"},H={class:"text-xs"},J={class:"flex justify-between gap-4"},K={class:""},O={class:""},Q={class:"text-[10px] text-justify line-clamp-1"},R={class:"text-[10px] text-justify line-clamp-1"},st={__name:"PrintSeatNumber",setup(W){const g=z(),_=B(),d=L(),p=v(""),m=v(""),n=v(!1),u=v("");N(async()=>{try{n.value=!0,await _.fetchZamats()}catch(r){u.value="ডাটা লোড করতে সমস্যা হয়েছে।",console.error(r)}finally{n.value=!1}}),h(m,async r=>{if(!r){p.value="",g.centers=[];return}try{n.value=!0,await g.fetchCenters({zamat_id:r})}catch(e){u.value="সেন্টার লোড করতে সমস্যা হয়েছে।",console.error(e)}finally{n.value=!1}});const S=async()=>{if(!m.value||!p.value){u.value="মারহালা এবং মারকায নির্বাচন করুন।";return}try{n.value=!0,d.centerId=p.value,d.zamatId=m.value,await d.fetchSeatNumber()}catch(r){u.value="আসন নাম্বার লোড করতে সমস্যা হয়েছে।",console.error(r)}finally{n.value=!1}},D=()=>{window.print()};return(r,e)=>(l(),a("div",I,[t("div",{class:"flex items-center justify-between print:hidden"},[e[3]||(e[3]=t("h1",{class:"title-lg"},"আসন নাম্বার",-1)),t("button",{onClick:D,class:"btn-2"},e[2]||(e[2]=[t("i",{class:"fas fa-print"},null,-1),i(" প্রিন্ট")]))]),u.value?(l(),a("div",P,o(u.value),1)):x("",!0),t("div",E,[t("div",F,[t("div",null,[k(t("select",{"onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s),class:"input-1"},[e[4]||(e[4]=t("option",{value:"",disabled:""},"-মারহালা সিলেক্ট করুন-",-1)),(l(!0),a(c,null,f(b(_).departments,s=>(l(),a("optgroup",{label:s.name,key:s.id},[(l(!0),a(c,null,f(s.zamats,y=>(l(),a("option",{key:y.id,value:y.id},o(y.name),9,U))),128))],8,M))),128))],512),[[w,m.value]])]),t("div",null,[k(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>p.value=s),class:"input-1"},[e[5]||(e[5]=t("option",{value:"",selected:"",disabled:""},"- মারকায নির্বাচন করুন -",-1)),(l(!0),a(c,null,f(b(g).centers,s=>(l(),a("option",{key:s==null?void 0:s.institute.id,value:s==null?void 0:s.institute.id},o(s==null?void 0:s.institute.name),9,G))),128))],512),[[w,p.value]])]),t("div",{class:"w-full"},[t("button",{onClick:S,class:"btn-2 w-full"},e[6]||(e[6]=[t("i",{class:"fas fa-search"},null,-1),i(" অনুসন্ধান ")]))])])]),n.value?(l(),j(V,{key:1})):x("",!0),b(d).seatNumberData.length?(l(),a("div",T,[t("div",Z,[(l(!0),a(c,null,f(b(d).seatNumberData,s=>(l(),a("div",{key:s.id,class:"p-4 rounded-lg border border-gray-400 space-y-0.5",style:{"page-break-inside":"avoid"}},[e[12]||(e[12]=t("div",{class:"flex justify-center"},[t("img",{src:C,alt:"logo",class:"h-[40px] mb-2"})],-1)),t("p",q,o(s.exam_name),1),e[13]||(e[13]=t("div",{class:"flex justify-center items-center"},[t("p",{class:"text-center bg-gray-300 font-bold text-xs pt-0.5 rounded-full px-2"}," পরীক্ষার্থীর আসন ")],-1)),t("div",null,[t("h2",A,[e[7]||(e[7]=t("strong",null,"নাম:",-1)),i(" "+o(s.name),1)]),t("div",H,[t("div",J,[t("p",K,[e[8]||(e[8]=t("strong",null,"রোল:",-1)),i(" "+o(s.roll_number),1)]),t("p",O,[e[9]||(e[9]=t("strong",null,"মারহালা:",-1)),i(" "+o(s.zamat_name),1)])]),t("p",Q,[e[10]||(e[10]=t("strong",null,"মাদরাসা:",-1)),i(" "+o(s.institute_name),1)])])]),e[14]||(e[14]=t("hr",{class:"border border-black"},null,-1)),t("p",R,[e[11]||(e[11]=t("strong",null,"মারকায:",-1)),i(" "+o(s.center_name),1)])]))),128))])])):x("",!0)]))}};export{st as default};
