import{u as k}from"./student-CcFShbdK.js";import{r as u,o as g,c as r,a as t,h as b,t as o,F as h,e as x,d as s}from"./index-BkwP2H9W.js";const v={class:"my-container max-w-4xl card-bg p-4 md:p-10 space-y-4"},w={key:0,class:"text-center text-gray-500"},S={key:1,class:"text-red-500"},B={key:2,class:"space-y-4 break-before-all"},W={class:"title-md"},C={class:"btn-link"},D=["href"],L={class:"min-w-full table-auto"},A={class:"py-1 px-2 text-left border border-black"},N={class:"py-1 px-2 text-left border border-black"},R={class:"py-1 px-2 text-left border border-black"},j={class:"py-1 px-2 text-right border border-black"},F={class:"py-1 px-2 text-left border border-black"},P={class:"py-1 px-2 text-left border border-black"},I={__name:"PrintStudentsWithAndWithoutRoll",setup(V){const y=k(),_=u(null),n=u(!1),d=u(null),p=(a,e)=>Object.values(a).reduce((l,c)=>l+(e==="with"?c.with_roll_count:c.without_roll_count),0).toLocaleString("bn-BD");g(async()=>{n.value=!0;try{const a=await y.fetchWithAndWithoutRollNumberCount();_.value=a}catch(a){d.value=a.message||"ডেটা লোড করতে সমস্যা হয়েছে।"}finally{n.value=!1}});const f=()=>{window.print()};return(a,e)=>(s(),r("div",v,[e[3]||(e[3]=t("h1",{class:"title-xl text-center"},"নিবন্ধনকৃতদের যারা পরীক্ষার ফি জমা দিয়েছে এবং দেয়নি",-1)),t("div",{class:"flex justify-center"},[t("button",{onClick:f,class:"btn-2"},"প্রিন্ট")]),n.value?(s(),r("div",w,"ডেটা লোড হচ্ছে...")):b("",!0),d.value?(s(),r("div",S,o(d.value),1)):b("",!0),!n.value&&!d.value?(s(),r("div",B,[(s(!0),r(h,null,x(_.value,(l,c)=>(s(),r("div",{key:c,class:"border-b-2 pb-2"},[t("h2",W,o(l.institute_code)+"-"+o(l.institute_name),1),t("div",C,[e[0]||(e[0]=t("strong",null,"ফোন: ",-1)),t("a",{href:`tel:${l.phone}`},o(l.phone),9,D)]),t("table",L,[e[2]||(e[2]=t("thead",{class:"bg-gray-400 text-white uppercase text-sm leading-normal border border-black"},[t("tr",null,[t("th",{class:"py-1 px-2 text-left border border-black"},"মারহালা"),t("th",{class:"py-1 px-2 text-left border border-black"},"ফি জমা দিয়েছে"),t("th",{class:"py-1 px-2 text-left border border-black"},"ফি জমা দেয়নি")])],-1)),t("tbody",null,[(s(!0),r(h,null,x(l.zamat_details,(i,m)=>(s(),r("tr",{key:m,class:"text-sm"},[t("td",A,o(i.zamat_name),1),t("td",N,o(i.with_roll_count.toLocaleString("bn-BD"))+" জন ",1),t("td",R,o(i.without_roll_count.toLocaleString("bn-BD"))+" জন ",1)]))),128)),t("tr",j,[e[1]||(e[1]=t("td",{class:"py-1 px-2 text-right border border-black"},[t("strong",null,"মোট:")],-1)),t("td",F,[t("strong",null,o(p(l.zamat_details,"with"))+" জন",1)]),t("td",P,[t("strong",null,o(p(l.zamat_details,"without"))+" জন",1)])])])])]))),128))])):b("",!0)]))}};export{I as default};
