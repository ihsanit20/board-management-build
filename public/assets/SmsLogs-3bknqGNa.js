import{u as x}from"./sms-Y2fkls8V.js";import{r as p,o as h,c as r,a as s,y as u,t as o,b as c,f as S,w as f,k as v,F as g,e as L,h as k,z as w,d as a,L as C}from"./index-1odi9h7d.js";const D={class:"my-container space-y-4"},B={class:"md:flex justify-between items-center"},M={class:"text-green-600"},N={key:1,class:"overflow-x-auto bg-white shadow-md rounded-lg"},P={key:0,class:"min-w-full table-auto"},V={class:"border px-4 py-2"},F={class:"border px-4 py-2"},j={class:"border px-4 py-2"},R={class:"border px-4 py-2"},T={class:"border px-4 py-2"},$={class:"border px-4 py-2"},z={class:"border px-4 py-2"},E={class:"border px-4 py-2"},q={key:1,class:"text-center text-red-600 mt-4"},A={key:2,class:"flex justify-center mt-4"},G=["disabled"],H={class:"mx-2"},O={__name:"SmsLogs",setup(I){const n=x(),l=p(1),y=p(10),i=p(!0);h(async()=>{await m()});const m=async()=>{i.value=!0;try{await Promise.all([n.fetchSmsLogs(y.value,l.value),n.fetchSmsLogCount()])}catch(d){console.error("Failed to fetch data:",d)}finally{i.value=!1}},b=async d=>{d<1||(l.value=d,await m())};return(d,t)=>{const _=w("RouterLink");return a(),r("div",D,[s("div",B,[s("div",null,[t[3]||(t[3]=s("h2",{class:"title-xl"},"SMS তালিকা",-1)),s("p",null,[t[2]||(t[2]=u(" মোট SMS ব্যবহার হয়েছে ")),s("b",M,o(c(n).smsLogCount)+" টি",1)]),s("p",null,"মোট খরচ: "+o(c(n).totalCost.toLocaleString("bn-BD"))+" টাকা",1)]),S(_,{to:{name:"SmsSend"},class:"btn-2"},{default:f(()=>t[4]||(t[4]=[u("নতুন SMS পাঠান")])),_:1})]),i.value?(a(),v(C,{key:0,class:"shadow-none"})):(a(),r("div",N,[c(n).smsLogs.length?(a(),r("table",P,[t[6]||(t[6]=s("thead",{class:"bg-gray-200"},[s("tr",null,[s("th",{class:"border px-4 py-2"},"তারিখ ও সময়"),s("th",{class:"border px-4 py-2"},"মেসেজ"),s("th",{class:"border px-4 py-2"},"SMS পার্ট"),s("th",{class:"border px-4 py-2"},"মোট SMS সংখ্যা"),s("th",{class:"border px-4 py-2"},"ফোন নাম্বার সংখ্যা"),s("th",{class:"border px-4 py-2"},"খরচ"),s("th",{class:"border px-4 py-2"},"ইভেন্ট"),s("th",{class:"border px-4 py-2"},"স্টেটাস")])],-1)),s("tbody",null,[(a(!0),r(g,null,L(c(n).smsLogs,e=>(a(),r("tr",{key:e.id},[s("td",V,[u(o(new Date(e.created_at).toLocaleDateString("bn-BD"))+" ",1),t[5]||(t[5]=s("br",null,null,-1)),u(" "+o(new Date(e.created_at).toLocaleTimeString("bn-BD")),1)]),s("td",F,o(e.message),1),s("td",j,o(e.sms_parts),1),s("td",R,o(e.sms_count),1),s("td",T,o(e.numbers.length),1),s("td",$,o(e.cost)+" tk",1),s("td",z,o(e.event),1),s("td",E,o(e.status),1)]))),128))])])):(a(),r("p",q,"No SMS logs found."))])),!i.value&&c(n).smsLogs.length?(a(),r("div",A,[s("button",{onClick:t[0]||(t[0]=e=>b(l.value-1)),disabled:l.value===1,class:"btn-1 mx-2"}," Previous ",8,G),s("span",H,"Page "+o(l.value),1),s("button",{onClick:t[1]||(t[1]=e=>b(l.value+1)),class:"btn-1 mx-2"},"Next")])):k("",!0)])}}};export{O as default};
