import{r as v,o as w,c as n,k as V,t as c,a as t,p as g,j as o,v as u,C as U,F as h,e as C,b as y,f as E,w as q,h as z,q as B,z as D,d as l,y as F,s as M,L as N}from"./index-D_k106gp.js";import{u as L}from"./student-BvsVYmcX.js";import{u as j}from"./zamat-CWOgTUay.js";const R={class:"my-container space-y-4"},T={key:1},Z={key:0,class:"text-center text-red-500"},I={key:1,class:"space-y-4 card-bg p-4 md:p-8"},A={class:"space-y-4"},G={class:"grid md:grid-cols-2 gap-4"},H=["value"],J={class:"flex justify-between gap-4 mt-4"},W={__name:"StudentEdit",setup(K){const p=L(),f=j(),b=B(),x=M(),r=b.params.id,a=v(null),d=v(!1),i=v(null),k=async()=>{d.value=!0;try{await p.fetchStudent(r),a.value=p.student}catch(m){i.value="Failed to load student data.",console.error(m)}finally{d.value=!1}},S=async()=>{d.value=!0;try{await p.updateStudent(r,a.value),x.push({name:"StudentShow",params:{id:r}})}catch(m){i.value="Failed to update student.",console.error(m)}finally{d.value=!1}};return w(async()=>{k(),await f.fetchZamats()}),(m,e)=>{const _=D("router-link");return l(),n("div",R,[d.value?(l(),V(N,{key:0})):(l(),n("div",T,[i.value?(l(),n("div",Z,c(i.value),1)):a.value?(l(),n("div",I,[e[14]||(e[14]=t("h4",{class:"title-lg text-center"},"পরিক্ষার্থীর তধ্য সম্পাদনা",-1)),t("div",A,[t("form",{onSubmit:g(S,["prevent"])},[t("div",G,[t("div",null,[e[6]||(e[6]=t("label",{for:"name",class:"block text-sm font-medium"},"নাম",-1)),o(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),class:"input-1",placeholder:"Enter student name",required:""},null,512),[[u,a.value.name]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"father_name",class:"block text-sm font-medium"},"পিতার নাম",-1)),o(t("input",{type:"text",id:"father_name","onUpdate:modelValue":e[1]||(e[1]=s=>a.value.father_name=s),class:"input-1",placeholder:"Enter father's name",required:""},null,512),[[u,a.value.father_name]])]),t("div",null,[e[8]||(e[8]=t("label",{for:"date_of_birth",class:"block text-sm font-medium"},"জন্ম তারিখ",-1)),o(t("input",{type:"date",id:"date_of_birth","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.date_of_birth=s),class:"input-1",required:""},null,512),[[u,a.value.date_of_birth]])]),t("div",null,[e[9]||(e[9]=t("label",{for:"address",class:"block text-sm font-medium"},"ঠিকানা",-1)),o(t("input",{type:"text",id:"address","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.address=s),class:"input-1",placeholder:"Enter address"},null,512),[[u,a.value.address]])]),t("div",null,[e[10]||(e[10]=t("label",{for:"zamat_id",class:"block text-sm font-medium"},"মারহালা",-1)),o(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.zamat_id=s),class:"text-black input-1 px-2 py-1"},[(l(!0),n(h,null,C(y(f).zamats,s=>(l(),n("option",{key:s.id,value:s.id},c(s.name),9,H))),128))],512),[[U,a.value.zamat_id]])]),t("div",null,[e[11]||(e[11]=t("label",{for:"para",class:"block text-sm font-medium"},"পারার বিবরণ",-1)),o(t("input",{type:"text",id:"para","onUpdate:modelValue":e[5]||(e[5]=s=>a.value.para=s),class:"input-1",placeholder:"পারার বিবরণ"},null,512),[[u,a.value.para]])])]),t("div",J,[E(_,{to:{name:"StudentShow",params:{id:y(r)}},class:"btn-contrast"},{default:q(()=>e[12]||(e[12]=[F("Cancel")])),_:1},8,["to"]),e[13]||(e[13]=t("button",{type:"submit",class:"btn-2"},"Update",-1))])],32)])])):z("",!0)]))])}}};export{W as default};
