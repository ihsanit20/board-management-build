import{r as p,o as _,c as u,x as S,t as k,a as t,l as h,m as r,v as i,f as g,w,h as V,p as E,y as N,d as n,z as B,q as D,L as U}from"./index-DZMr5Sly.js";import{u as q}from"./student-BbBIM4iV.js";const C={class:"my-container space-y-4"},L={key:1},F={key:0,class:"text-center text-red-500"},M={key:1,class:"space-y-4 bg-white shadow-lg rounded-lg p-4 md:p-8"},R={class:"space-y-4"},T={class:"grid md:grid-cols-2 gap-4"},j={class:"flex justify-center gap-4 mt-4"},G={__name:"StudentEdit",setup(z){const m=q(),c=E(),v=D(),f=c.params.id,s=p(null),l=p(!1),d=p(null),y=async()=>{l.value=!0;try{await m.fetchStudent(f),s.value=m.student}catch(o){d.value="Failed to load student data.",console.error(o)}finally{l.value=!1}},b=async()=>{l.value=!0;try{await m.updateStudent(f,s.value),alert("Student updated successfully!"),v.push({name:"StudentList"})}catch(o){d.value="Failed to update student.",console.error(o)}finally{l.value=!1}};return _(y),(o,e)=>{const x=N("router-link");return n(),u("div",C,[l.value?(n(),S(U,{key:0})):(n(),u("div",L,[d.value?(n(),u("div",F,k(d.value),1)):s.value?(n(),u("div",M,[e[10]||(e[10]=t("h4",{class:"title-lg text-center"},"Edit Student",-1)),t("div",R,[t("form",{onSubmit:h(b,["prevent"])},[t("div",T,[t("div",null,[e[4]||(e[4]=t("label",{for:"name",class:"block text-sm font-medium"},"Student Name",-1)),r(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>s.value.name=a),class:"input-1",placeholder:"Enter student name",required:""},null,512),[[i,s.value.name]])]),t("div",null,[e[5]||(e[5]=t("label",{for:"father_name",class:"block text-sm font-medium"},"Father's Name",-1)),r(t("input",{type:"text",id:"father_name","onUpdate:modelValue":e[1]||(e[1]=a=>s.value.father_name=a),class:"input-1",placeholder:"Enter father's name",required:""},null,512),[[i,s.value.father_name]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"date_of_birth",class:"block text-sm font-medium"},"Date of Birth",-1)),r(t("input",{type:"date",id:"date_of_birth","onUpdate:modelValue":e[2]||(e[2]=a=>s.value.date_of_birth=a),class:"input-1",required:""},null,512),[[i,s.value.date_of_birth]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"address",class:"block text-sm font-medium"},"Address",-1)),r(t("input",{type:"text",id:"address","onUpdate:modelValue":e[3]||(e[3]=a=>s.value.address=a),class:"input-1",placeholder:"Enter address"},null,512),[[i,s.value.address]])])]),t("div",j,[e[9]||(e[9]=t("button",{type:"submit",class:"btn-2"},"Update",-1)),g(x,{to:{name:"StudentList"},class:"btn-contrast"},{default:w(()=>e[8]||(e[8]=[B("Cancel")])),_:1})])],32)])])):V("",!0)]))])}}};export{G as default};
