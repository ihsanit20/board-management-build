import{r as v,o as V,c as o,k as g,t as f,a as e,p as U,j as n,v as u,C as z,F as C,e as E,b as y,y as b,f as h,w as q,h as B,q as D,z as F,d as l,s as M,L as N}from"./index-D1_2pXdj.js";import{u as L}from"./student-Gj2zxxyk.js";import{u as j}from"./zamat-BZkfmZ2z.js";const R={class:"my-container space-y-4"},T={key:1},Z={key:0,class:"text-center text-red-500"},I={key:1,class:"space-y-4 card-bg p-4 md:p-8"},A={class:"space-y-4"},G={class:"grid md:grid-cols-2 gap-4"},H={key:0},J=["value"],K={key:1},O={class:"text-black input-1 px-2 py-2"},P={class:"flex justify-between gap-4 mt-4"},$={__name:"StudentEdit",setup(Q){const p=L(),c=j(),x=D(),k=M(),r=x.params.id,a=v(null),d=v(!1),i=v(null),S=async()=>{d.value=!0;try{await p.fetchStudent(r),a.value=p.student}catch(m){i.value="Failed to load student data.",console.error(m)}finally{d.value=!1}},_=async()=>{d.value=!0;try{await p.updateStudent(r,a.value),k.push({name:"StudentShow",params:{id:r}})}catch(m){i.value="Failed to update student.",console.error(m)}finally{d.value=!1}};return V(async()=>{S(),await c.fetchZamats()}),(m,t)=>{const w=F("router-link");return l(),o("div",R,[d.value?(l(),g(N,{key:0})):(l(),o("div",T,[i.value?(l(),o("div",Z,f(i.value),1)):a.value?(l(),o("div",I,[t[16]||(t[16]=e("h4",{class:"title-lg text-center"},"পরিক্ষার্থীর তধ্য সম্পাদনা",-1)),e("div",A,[e("form",{onSubmit:U(_,["prevent"])},[e("div",G,[e("div",null,[t[6]||(t[6]=e("label",{for:"name",class:"block text-sm font-medium"},"নাম",-1)),n(e("input",{type:"text",id:"name","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name=s),class:"input-1",placeholder:"Enter student name",required:""},null,512),[[u,a.value.name]])]),e("div",null,[t[7]||(t[7]=e("label",{for:"father_name",class:"block text-sm font-medium"},"পিতার নাম",-1)),n(e("input",{type:"text",id:"father_name","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.father_name=s),class:"input-1",placeholder:"Enter father's name",required:""},null,512),[[u,a.value.father_name]])]),e("div",null,[t[8]||(t[8]=e("label",{for:"date_of_birth",class:"block text-sm font-medium"},"জন্ম তারিখ",-1)),n(e("input",{type:"date",id:"date_of_birth","onUpdate:modelValue":t[2]||(t[2]=s=>a.value.date_of_birth=s),class:"input-1",required:""},null,512),[[u,a.value.date_of_birth]])]),e("div",null,[t[9]||(t[9]=e("label",{for:"address",class:"block text-sm font-medium"},"ঠিকানা",-1)),n(e("input",{type:"text",id:"address","onUpdate:modelValue":t[3]||(t[3]=s=>a.value.address=s),class:"input-1",placeholder:"Enter address"},null,512),[[u,a.value.address]])]),a.value.roll_number?(l(),o("div",K,[t[12]||(t[12]=e("label",{for:"zamat_id",class:"block text-sm font-medium"},"মারহালা",-1)),e("div",O,[t[11]||(t[11]=e("i",{class:"fas fa-lock text-gray-400"},null,-1)),b(" "+f(a.value.zamat.name),1)])])):(l(),o("div",H,[t[10]||(t[10]=e("label",{for:"zamat_id",class:"block text-sm font-medium"},"মারহালা",-1)),n(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>a.value.zamat_id=s),class:"text-black input-1 px-2 py-1"},[(l(!0),o(C,null,E(y(c).zamats,s=>(l(),o("option",{key:s.id,value:s.id},f(s.name),9,J))),128))],512),[[z,a.value.zamat_id]])])),e("div",null,[t[13]||(t[13]=e("label",{for:"para",class:"block text-sm font-medium"},"পারার বিবরণ",-1)),n(e("input",{type:"text",id:"para","onUpdate:modelValue":t[5]||(t[5]=s=>a.value.para=s),class:"input-1",placeholder:"পারার বিবরণ"},null,512),[[u,a.value.para]])])]),e("div",P,[h(w,{to:{name:"StudentShow",params:{id:y(r)}},class:"btn-contrast"},{default:q(()=>t[14]||(t[14]=[b("Cancel")])),_:1},8,["to"]),t[15]||(t[15]=e("button",{type:"submit",class:"btn-2"},"Update",-1))])],32)])])):B("",!0)]))])}}};export{$ as default};
