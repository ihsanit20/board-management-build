import{r as p,o as _,c as u,x as S,t as k,a as t,l as h,m as r,v as i,f as w,w as V,h as g,p as E,y as U,d as n,z as q,q as B,L as C}from"./index-Cg6gaFga.js";import{u as D}from"./student-CtYSc5Rr.js";const N={class:"my-container space-y-4"},L={key:1},M={key:0,class:"text-center text-red-500"},F={key:1,class:"space-y-4 card-bg p-4 md:p-8"},R={class:"space-y-4"},T={class:"grid md:grid-cols-2 gap-4"},j={class:"flex justify-between gap-4 mt-4"},G={__name:"StudentEdit",setup(z){const m=D(),c=E(),f=B(),v=c.params.id,a=p(null),l=p(!1),o=p(null),y=async()=>{l.value=!0;try{await m.fetchStudent(v),a.value=m.student}catch(d){o.value="Failed to load student data.",console.error(d)}finally{l.value=!1}},b=async()=>{l.value=!0;try{await m.updateStudent(v,a.value),alert("Student updated successfully!"),f.push({name:"StudentShow",params:{id:"student.value.id"}})}catch(d){o.value="Failed to update student.",console.error(d)}finally{l.value=!1}};return _(y),(d,e)=>{const x=U("router-link");return n(),u("div",N,[l.value?(n(),S(C,{key:0})):(n(),u("div",L,[o.value?(n(),u("div",M,k(o.value),1)):a.value?(n(),u("div",F,[e[10]||(e[10]=t("h4",{class:"title-lg text-center"},"পরিক্ষার্থীর তধ্য সম্পাদনা",-1)),t("div",R,[t("form",{onSubmit:h(b,["prevent"])},[t("div",T,[t("div",null,[e[4]||(e[4]=t("label",{for:"name",class:"block text-sm font-medium"},"নাম",-1)),r(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=s=>a.value.name=s),class:"input-1",placeholder:"Enter student name",required:""},null,512),[[i,a.value.name]])]),t("div",null,[e[5]||(e[5]=t("label",{for:"father_name",class:"block text-sm font-medium"},"পিতার নাম",-1)),r(t("input",{type:"text",id:"father_name","onUpdate:modelValue":e[1]||(e[1]=s=>a.value.father_name=s),class:"input-1",placeholder:"Enter father's name",required:""},null,512),[[i,a.value.father_name]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"date_of_birth",class:"block text-sm font-medium"},"জন্ম তারিখ",-1)),r(t("input",{type:"date",id:"date_of_birth","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.date_of_birth=s),class:"input-1",required:""},null,512),[[i,a.value.date_of_birth]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"address",class:"block text-sm font-medium"},"ঠিকানা",-1)),r(t("input",{type:"text",id:"address","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.address=s),class:"input-1",placeholder:"Enter address"},null,512),[[i,a.value.address]])])]),t("div",j,[w(x,{to:{name:"StudentList"},class:"btn-contrast"},{default:V(()=>e[8]||(e[8]=[q("Cancel")])),_:1}),e[9]||(e[9]=t("button",{type:"submit",class:"btn-2"},"Update",-1))])],32)])])):g("",!0)]))])}}};export{G as default};
