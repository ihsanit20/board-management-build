import{A as I,r,i as K,o as U,c as o,a as t,t as l,b as x,m as f,v as y,D as v,h as _,C as j,F as D,e as N,x as M,d as a,n as A,f as B,w as z,y as F,L as R}from"./index-B6re3u-X.js";import{u as Z}from"./student-CUsXJ60-.js";import{u as T}from"./zamat-5LL8Axkh.js";const q={class:"space-y-2 px-6 py-4"},G={class:"flex justify-between items-center"},H={class:"title-lg"},J={class:"card-bg p-4"},O={class:"grid md:grid-cols-4 gap-4"},P={class:"relative"},Q={class:"relative"},W={class:"relative"},X=["value"],Y={class:"flex justify-center pt-4"},$={class:"text-sm text-gray-600"},tt={key:1,class:"overflow-x-auto bg-white shadow-md rounded-lg"},et={class:"min-w-full table-auto"},st={class:"text-gray-700 text-sm font-light"},lt={class:"py-3 px-4 text-left"},at={class:"py-3 px-4 text-left"},ot={class:"py-3 px-4 text-left"},it={class:"py-3 px-4 text-left"},nt={class:"py-3 px-4 text-left"},rt={class:"py-3 px-4 text-left"},pt={class:"py-3 px-4 text-left"},ct={class:"py-3 px-4 text-center"},ut={class:"flex items-center justify-center gap-2"},dt={key:1},_t={__name:"StudentList",setup(xt){const b=I(),g=T(),p=Z(),n=r(!1),c=r(""),u=r(""),d=r(""),m=r(""),E=K(()=>p.students.length);U(async()=>{try{n.value=!0,await b.fetchLastExam(),await g.fetchZamats()}finally{n.value=!1}});const i=async()=>{n.value=!0,await p.fetchStudents({registrationNumber:c.value,applicationId:u.value,instituteCode:d.value,zamatId:m.value||null}),n.value=!1};return(ft,s)=>{var k;const h=F("RouterLink");return a(),o("div",q,[t("div",G,[t("h1",H,l((k=x(b).exam)==null?void 0:k.name)+"-এর পরীক্ষার্থী তালিকা",1)]),t("div",J,[t("div",O,[t("div",null,[s[5]||(s[5]=t("p",null,"ইলহাক নাম্বার দিয়ে খুঁজুন",-1)),t("div",P,[f(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>d.value=e),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"ইলহাক নং",onKeyup:v(i,["enter"])},null,544),[[y,d.value]]),d.value?(a(),o("button",{key:0,onClick:i,class:"absolute right-3 top-2"},s[4]||(s[4]=[t("i",{class:"fas fa-search"},null,-1)]))):_("",!0)])]),t("div",null,[s[7]||(s[7]=t("p",null,"নিবন্ধন পত্র নং দিয়ে খুঁজুন",-1)),t("div",Q,[f(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>u.value=e),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"নিবন্ধন পত্র নং",onKeyup:v(i,["enter"])},null,544),[[y,u.value]]),u.value?(a(),o("button",{key:0,onClick:i,class:"absolute right-3 top-2"},s[6]||(s[6]=[t("i",{class:"fas fa-search"},null,-1)]))):_("",!0)])]),t("div",null,[s[9]||(s[9]=t("p",null,"রেজি. নং দিয়ে খুঁজুন",-1)),t("div",W,[f(t("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>c.value=e),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"রেজি. নং",onKeyup:v(i,["enter"])},null,544),[[y,c.value]]),c.value?(a(),o("button",{key:0,onClick:i,class:"absolute right-3 top-2"},s[8]||(s[8]=[t("i",{class:"fas fa-search"},null,-1)]))):_("",!0)])]),t("div",null,[s[12]||(s[12]=t("p",null,"মারহালা অনুসারে খুঁজুন",-1)),f(t("select",{"onUpdate:modelValue":s[3]||(s[3]=e=>m.value=e),onChange:i,class:"text-black input-1 px-2 py-1"},[s[10]||(s[10]=t("option",{value:"default",disabled:"",selected:""},"- মারহালা সিলেক্ট করুন -",-1)),(a(!0),o(D,null,N(x(g).zamats,e=>(a(),o("option",{key:e.id,value:e.id},l(e.name),9,X))),128)),s[11]||(s[11]=t("option",{value:""},"সকল মারহালা",-1))],544),[[j,m.value]])])]),t("div",Y,[t("p",$,"পরীক্ষার্থী সংখ্যা: "+l(E.value)+" জন",1)])]),n.value?(a(),M(R,{key:0})):(a(),o("div",tt,[t("table",et,[s[16]||(s[16]=t("thead",{class:"bg-gray-400 text-white uppercase text-sm leading-normal"},[t("tr",null,[t("th",{class:"py-3 px-4 text-left"},"রেজি. নং"),t("th",{class:"py-3 px-4 text-left"},"পরীক্ষার্থীর নাম"),t("th",{class:"py-3 px-4 text-left"},"জন্ম তারিখ"),t("th",{class:"py-3 px-4 text-left"},"মারহালা"),t("th",{class:"py-3 px-4 text-left"},"মাদরাসার নাম"),t("th",{class:"py-3 px-4 text-left"},"মারকাজ"),t("th",{class:"py-3 px-4 text-left"},"নিবন্ধন পত্র নং"),t("th",{class:"py-3 px-4 text-center"},"Actions")])],-1)),t("tbody",st,[x(p).students.length?(a(!0),o(D,{key:0},N(x(p).students,e=>{var w,S,C,L,V;return a(),o("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-100 font-medium"},[t("td",lt,l(e==null?void 0:e.registration_number),1),t("td",at,l(e==null?void 0:e.name),1),t("td",ot,l(new Date(e==null?void 0:e.date_of_birth).toLocaleDateString("bn-BD")),1),t("td",it,l((w=e==null?void 0:e.zamat)==null?void 0:w.name),1),t("td",nt,l((S=e==null?void 0:e.institute)==null?void 0:S.institute_code)+" - "+l((C=e==null?void 0:e.institute)==null?void 0:C.name),1),t("td",rt,[t("span",{class:A({"text-red-500":!((L=e==null?void 0:e.center)!=null&&L.name)})},l(((V=e==null?void 0:e.center)==null?void 0:V.name)||"নির্বাচন করা নেই"),3)]),t("td",pt,l(e==null?void 0:e.application_id),1),t("td",ct,[t("div",ut,[B(h,{to:{name:"StudentShow",params:{id:e.id}},class:"btn-icon"},{default:z(()=>s[13]||(s[13]=[t("i",{class:"fas fa-eye"},null,-1)])),_:2},1032,["to"]),B(h,{to:{name:"StudentEdit",params:{id:e.id}},class:"btn-icon"},{default:z(()=>s[14]||(s[14]=[t("i",{class:"fas fa-edit"},null,-1)])),_:2},1032,["to"])])])])}),128)):(a(),o("tr",dt,s[15]||(s[15]=[t("td",{colspan:"11",class:"text-center text-red-500 py-6"},"No students found",-1)])))])])]))])}}};export{_t as default};
