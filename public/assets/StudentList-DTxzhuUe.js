import{A as j,r,i as I,o as K,c as o,a as t,t as s,b as x,f as v,w as _,j as f,v as b,D as g,h,C as M,F as z,e as B,k as U,z as A,d as a,y as F,n as R,L as T}from"./index-Dul3aygh.js";import{u as Z}from"./student-BG6fZ9cG.js";import{u as $}from"./zamat-BzL6whg7.js";const q={class:"space-y-2 px-6 py-4"},G={class:"flex justify-between items-center"},H={class:"title-lg"},J={class:"card-bg p-4"},O={class:"grid md:grid-cols-4 gap-4"},P={class:"relative"},Q={class:"relative"},W={class:"relative"},X=["value"],Y={class:"flex justify-center pt-4"},tt={class:"text-sm text-gray-600"},et={key:1,class:"overflow-x-auto bg-white shadow-md rounded-lg"},lt={class:"min-w-full table-auto"},st={class:"text-gray-700 text-sm font-light"},at={class:"py-3 px-4 text-left"},ot={class:"py-3 px-4 text-left"},it={class:"py-3 px-4 text-left"},nt={class:"py-3 px-4 text-left"},rt={class:"py-3 px-4 text-left"},pt={class:"py-3 px-4 text-left"},ct={class:"py-3 px-4 text-left"},dt={class:"py-3 px-4 text-left"},ut={class:"min-w-max"},xt={class:"py-3 px-4 text-center"},ft={class:"flex items-center justify-center gap-2"},mt={key:1},ht={__name:"StudentList",setup(yt){const k=j(),w=$(),p=Z(),n=r(!1),c=r(""),d=r(""),u=r(""),m=r(""),E=I(()=>p.students.length);K(async()=>{try{n.value=!0,await k.fetchLastExam(),await w.fetchZamats()}finally{n.value=!1}});const i=async()=>{n.value=!0,await p.fetchStudents({registrationNumber:c.value,applicationId:d.value,instituteCode:u.value,zamatId:m.value||null}),n.value=!1};return(vt,l)=>{var S;const y=A("RouterLink");return a(),o("div",q,[t("div",G,[t("h1",H,s((S=x(k).exam)==null?void 0:S.name)+"-এর পরীক্ষার্থী তালিকা",1),t("div",null,[v(y,{to:{name:"StudentMultiEdit"},class:"btn-2"},{default:_(()=>l[4]||(l[4]=[F("মারকায সম্পাদনা")])),_:1})])]),t("div",J,[t("div",O,[t("div",null,[l[6]||(l[6]=t("p",null,"ইলহাক নাম্বার দিয়ে খুঁজুন",-1)),t("div",P,[f(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>u.value=e),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"ইলহাক নং",onKeyup:g(i,["enter"])},null,544),[[b,u.value]]),u.value?(a(),o("button",{key:0,onClick:i,class:"absolute right-3 top-2"},l[5]||(l[5]=[t("i",{class:"fas fa-search"},null,-1)]))):h("",!0)])]),t("div",null,[l[8]||(l[8]=t("p",null,"নিবন্ধন পত্র নং দিয়ে খুঁজুন",-1)),t("div",Q,[f(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"নিবন্ধন পত্র নং",onKeyup:g(i,["enter"])},null,544),[[b,d.value]]),d.value?(a(),o("button",{key:0,onClick:i,class:"absolute right-3 top-2"},l[7]||(l[7]=[t("i",{class:"fas fa-search"},null,-1)]))):h("",!0)])]),t("div",null,[l[10]||(l[10]=t("p",null,"রেজি. নং দিয়ে খুঁজুন",-1)),t("div",W,[f(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>c.value=e),type:"text",class:"input-1 w-full text-black px-3 py-1",placeholder:"রেজি. নং",onKeyup:g(i,["enter"])},null,544),[[b,c.value]]),c.value?(a(),o("button",{key:0,onClick:i,class:"absolute right-3 top-2"},l[9]||(l[9]=[t("i",{class:"fas fa-search"},null,-1)]))):h("",!0)])]),t("div",null,[l[13]||(l[13]=t("p",null,"মারহালা অনুসারে খুঁজুন",-1)),f(t("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>m.value=e),onChange:i,class:"text-black input-1 px-2 py-1"},[l[11]||(l[11]=t("option",{value:"default",disabled:"",selected:""},"- মারহালা সিলেক্ট করুন -",-1)),(a(!0),o(z,null,B(x(w).zamats,e=>(a(),o("option",{key:e.id,value:e.id},s(e.name),9,X))),128)),l[12]||(l[12]=t("option",{value:""},"সকল মারহালা",-1))],544),[[M,m.value]])])]),t("div",Y,[t("p",tt,"পরীক্ষার্থী সংখ্যা: "+s(E.value)+" জন",1)])]),n.value?(a(),U(T,{key:0})):(a(),o("div",et,[t("table",lt,[l[17]||(l[17]=t("thead",{class:"bg-gray-400 text-white uppercase text-sm leading-normal"},[t("tr",null,[t("th",{class:"py-3 px-4 text-left"},"রেজি. নং"),t("th",{class:"py-3 px-4 text-left"},"পরীক্ষার্থীর নাম"),t("th",{class:"py-3 px-4 text-left"},"জন্ম তারিখ"),t("th",{class:"py-3 px-4 text-left"},"মারহালা"),t("th",{class:"py-3 px-4 text-left"},"মাদরাসার নাম"),t("th",{class:"py-3 px-4 text-left"},"মারকায"),t("th",{class:"py-3 px-4 text-left"},"নিবন্ধন পত্র"),t("th",{class:"py-3 px-4 text-left"},"রোল নং"),t("th",{class:"py-3 px-4 text-center"},"Actions")])],-1)),t("tbody",st,[x(p).students.length?(a(!0),o(z,{key:0},B(x(p).students,e=>{var C,L,V,N,D;return a(),o("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-gray-100 font-medium"},[t("td",at,s(e==null?void 0:e.registration_number),1),t("td",ot,s(e==null?void 0:e.name),1),t("td",it,s(new Date(e==null?void 0:e.date_of_birth).toLocaleDateString("bn-BD")),1),t("td",nt,s((C=e==null?void 0:e.zamat)==null?void 0:C.name),1),t("td",rt,s((L=e==null?void 0:e.institute)==null?void 0:L.institute_code)+" - "+s((V=e==null?void 0:e.institute)==null?void 0:V.name),1),t("td",pt,[t("span",{class:R({"text-red-500":!((N=e==null?void 0:e.center)!=null&&N.name)})},s(((D=e==null?void 0:e.center)==null?void 0:D.name)||"নির্বাচন করা নেই"),3)]),t("td",ct,s(e==null?void 0:e.application_id),1),t("td",dt,[t("p",ut,s(e!=null&&e.roll_number?e.roll_number.replace(/(\d{3})(\d+)/,"$1-$2"):"নেই"),1)]),t("td",xt,[t("div",ft,[v(y,{to:{name:"StudentShow",params:{id:e.id}},class:"btn-icon"},{default:_(()=>l[14]||(l[14]=[t("i",{class:"fas fa-eye"},null,-1)])),_:2},1032,["to"]),v(y,{to:{name:"StudentEdit",params:{id:e.id}},class:"btn-icon"},{default:_(()=>l[15]||(l[15]=[t("i",{class:"fas fa-edit"},null,-1)])),_:2},1032,["to"])])])])}),128)):(a(),o("tr",mt,l[16]||(l[16]=[t("td",{colspan:"11",class:"text-center text-red-500 py-7"},"No students found",-1)])))])])]))])}}};export{ht as default};
