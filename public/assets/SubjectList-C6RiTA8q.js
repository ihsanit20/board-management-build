import{u as S}from"./subject-qFtIBcQ5.js";import{r as f,o as M,d as o,c as n,a as t,p as C,j as k,v as D,C as z,F as y,e as w,t as v,b as $,B as E,i as U,k as h,h as g,L as Z}from"./index-B-TVoWRU.js";import{u as V}from"./zamat-DzVLghw2.js";const q={class:"modal-bg"},L={class:"modal-card"},A={class:"mb-4"},F={class:"mb-4"},N=["value"],T={__name:"AddSubjectModal",emits:["close"],setup(_,{emit:c}){const r=S(),u=V(),d=c,a=f({name:"",zamat_id:null}),i=async()=>{await r.createSubject(a.value),d("close")},p=()=>{d("close")};return M(async()=>{await u.fetchZamats()}),(m,l)=>(o(),n("div",q,[t("div",L,[l[5]||(l[5]=t("h2",{class:"text-xl font-semibold mb-4"},"নতুন সাবজেক্ট যুক্ত করুন",-1)),t("form",{onSubmit:C(i,["prevent"])},[t("div",A,[l[2]||(l[2]=t("label",{class:"block mb-1 font-medium"},"সাবজেক্ট নাম",-1)),k(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.name=e),type:"text",class:"input-1 w-full",placeholder:"নাম লিখুন",required:""},null,512),[[D,a.value.name]])]),t("div",F,[l[3]||(l[3]=t("label",{class:"block mb-1 font-medium"},"জামাত",-1)),k(t("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.zamat_id=e),class:"input-1 w-full",required:""},[(o(!0),n(y,null,w($(u).zamats,e=>(o(),n("option",{key:e.id,value:e.id},v(e.name),9,N))),128))],512),[[z,a.value.zamat_id]])]),t("div",{class:"flex justify-end space-x-2"},[t("button",{type:"button",class:"btn-contrast",onClick:p},"বাতিল করুন"),l[4]||(l[4]=t("button",{type:"submit",class:"btn-2"},"সংরক্ষণ করুন",-1))])],32)])]))}},G={class:"modal-bg"},H={class:"modal-card"},I={class:"mb-4"},J={class:"mb-4"},K=["value"],O={__name:"EditSubjectModal",props:["subject"],emits:["close"],setup(_,{emit:c}){const r=S(),u=V(),d=c,a=_,i=f({name:"",zamat_id:null});E(()=>a.subject,l=>{i.value={...l}},{immediate:!0});const p=async()=>{await r.updateSubject(a.subject.id,i.value),d("close")},m=()=>{d("close")};return M(async()=>{await u.fetchZamats()}),(l,e)=>(o(),n("div",G,[t("div",H,[e[5]||(e[5]=t("h2",{class:"text-xl font-semibold mb-4"},"সাবজেক্ট সম্পাদনা করুন",-1)),t("form",{onSubmit:C(p,["prevent"])},[t("div",I,[e[2]||(e[2]=t("label",{class:"block mb-1 font-medium"},"সাবজেক্ট নাম",-1)),k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i.value.name=s),type:"text",class:"input-1 w-full",placeholder:"নাম লিখুন",required:""},null,512),[[D,i.value.name]])]),t("div",J,[e[3]||(e[3]=t("label",{class:"block mb-1 font-medium"},"জামাত",-1)),k(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>i.value.zamat_id=s),class:"input-1 w-full",required:""},[(o(!0),n(y,null,w($(u).zamats,s=>(o(),n("option",{key:s.id,value:s.id},v(s.name),9,K))),128))],512),[[z,i.value.zamat_id]])]),t("div",{class:"flex justify-end space-x-2"},[t("button",{type:"button",class:"btn-3",onClick:m},"বাতিল করুন"),e[4]||(e[4]=t("button",{type:"submit",class:"btn-2"},"আপডেট করুন",-1))])],32)])]))}},P={class:"modal-bg"},Q={__name:"DeleteSubjectModal",props:["subject"],emits:["close"],setup(_,{emit:c}){const r=S(),u=c,d=_,a=async()=>{await r.deleteSubject(d.subject.id),u("close")},i=()=>{u("close")};return(p,m)=>(o(),n("div",P,[t("div",{class:"modal-card"},[m[0]||(m[0]=t("h2",{class:"text-xl font-semibold mb-4"},"সাবজেক্ট ডিলিট নিশ্চিত করুন",-1)),m[1]||(m[1]=t("p",{class:"mb-4"},"আপনি কি নিশ্চিত এই সাবজেক্টটি ডিলিট করতে চান?",-1)),t("div",{class:"flex justify-end space-x-2"},[t("button",{type:"button",class:"btn-3",onClick:i},"বাতিল করুন"),t("button",{type:"button",class:"btn-contrast",onClick:a},"ডিলিট করুন")])])]))}},R={class:"my-container space-y-4"},W={class:"flex justify-between items-center"},X={key:1},Y={class:"text-lg font-semibold mb-2"},tt={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},et={class:"text-gray-600 text-sm font-light"},st={class:"py-3 px-2 text-left whitespace-nowrap"},lt={class:"font-medium"},ot={class:"py-3 px-2 text-left"},at={class:"title-md"},nt={class:"py-3 px-2 text-left"},ut={class:"title-md"},it={class:"py-3 px-2 text-center"},dt={class:"flex item-center justify-center gap-4"},ct=["onClick"],ft={__name:"SubjectList",setup(_){const c=S(),r=f(!1),u=f(!1),d=f(!1),a=f(null),i=e=>{a.value=e,u.value=!0},p=()=>{a.value=null,u.value=!1},m=()=>{a.value=null,d.value=!1},l=U(()=>{const e={};return c.subjects.forEach(s=>{var x;const b=((x=s.zamat)==null?void 0:x.name)||"Unknown Zamat";e[b]||(e[b]=[]),e[b].push(s)}),e});return c.fetchSubjects(),(e,s)=>(o(),n(y,null,[t("div",R,[t("div",W,[s[2]||(s[2]=t("h1",{class:"title-lg"},"সাবজেক্ট তালিকা",-1)),t("button",{class:"btn-2",onClick:s[0]||(s[0]=b=>r.value=!0)},"নতুন যুক্ত করুন")]),$(c).loading?(o(),h(Z,{key:0})):(o(),n("div",X,[(o(!0),n(y,null,w(l.value,(b,x)=>(o(),n("div",{key:x,class:"mb-4"},[t("h2",Y,v(x),1),t("table",tt,[s[4]||(s[4]=t("thead",null,[t("tr",{class:"bg-gray-200 text-gray-700 text-sm leading-normal"},[t("th",{class:"py-3 px-2 text-left"},"#"),t("th",{class:"py-3 px-2 text-left"},"নাম"),t("th",{class:"py-3 px-2 text-left"},"কোড"),t("th",{class:"py-3 px-2 text-center"},"একশন")])],-1)),t("tbody",et,[(o(!0),n(y,null,w(b,(j,B)=>(o(),n("tr",{key:j.id,class:"border-b border-gray-200 hover:bg-gray-100"},[t("td",st,[t("p",lt,v(B+1),1)]),t("td",ot,[t("p",at,v(j.name),1)]),t("td",nt,[t("p",ut,v(j.code),1)]),t("td",it,[t("div",dt,[t("button",{onClick:rt=>i(j),class:"text-blue-600 hover:text-blue-800"},s[3]||(s[3]=[t("i",{class:"fas fa-edit"},null,-1)]),8,ct)])])]))),128))])])]))),128))]))]),r.value?(o(),h(T,{key:0,onClose:s[1]||(s[1]=b=>r.value=!1)})):g("",!0),u.value?(o(),h(O,{key:1,subject:a.value,onClose:p},null,8,["subject"])):g("",!0),d.value?(o(),h(Q,{key:2,subject:a.value,onClose:m},null,8,["subject"])):g("",!0)],64))}};export{ft as default};
