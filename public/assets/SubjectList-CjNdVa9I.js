import{u as g}from"./subject-CAZ3gFds.js";import{r as f,o as M,d as a,c as u,a as t,l as D,m as w,v as z,C as V,F as k,e as S,t as x,b as C,B as Z,i as q,x as j,h as $,L}from"./index-CuVS5FRI.js";import{u as B}from"./zamat-BmC-2ExM.js";const A={class:"modal-bg"},F={class:"modal-card"},N={class:"mb-4"},T={class:"mb-4"},G=["value"],H={__name:"AddSubjectModal",emits:["close"],setup(_,{emit:r}){const m=g(),i=B(),c=r,s=f({name:"",zamat_id:null}),d=async()=>{await m.createSubject(s.value),c("close")},v=()=>{c("close")};return M(async()=>{await i.fetchZamats()}),(b,l)=>(a(),u("div",A,[t("div",F,[l[5]||(l[5]=t("h2",{class:"text-xl font-semibold mb-4"},"নতুন সাবজেক্ট যুক্ত করুন",-1)),t("form",{onSubmit:D(d,["prevent"])},[t("div",N,[l[2]||(l[2]=t("label",{class:"block mb-1 font-medium"},"সাবজেক্ট নাম",-1)),w(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>s.value.name=e),type:"text",class:"input-1 w-full",placeholder:"নাম লিখুন",required:""},null,512),[[z,s.value.name]])]),t("div",T,[l[3]||(l[3]=t("label",{class:"block mb-1 font-medium"},"জামাত",-1)),w(t("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>s.value.zamat_id=e),class:"input-1 w-full",required:""},[(a(!0),u(k,null,S(C(i).zamats,e=>(a(),u("option",{key:e.id,value:e.id},x(e.name),9,G))),128))],512),[[V,s.value.zamat_id]])]),t("div",{class:"flex justify-end space-x-2"},[t("button",{type:"button",class:"btn-contrast",onClick:v},"বাতিল করুন"),l[4]||(l[4]=t("button",{type:"submit",class:"btn-2"},"সংরক্ষণ করুন",-1))])],32)])]))}},I={class:"modal-bg"},J={class:"modal-card"},K={class:"mb-4"},O={class:"mb-4"},P=["value"],Q={__name:"EditSubjectModal",props:["subject"],emits:["close"],setup(_,{emit:r}){const m=g(),i=B(),c=r,s=_,d=f({name:"",zamat_id:null});Z(()=>s.subject,l=>{d.value={...l}},{immediate:!0});const v=async()=>{await m.updateSubject(s.subject.id,d.value),c("close")},b=()=>{c("close")};return M(async()=>{await i.fetchZamats()}),(l,e)=>(a(),u("div",I,[t("div",J,[e[5]||(e[5]=t("h2",{class:"text-xl font-semibold mb-4"},"সাবজেক্ট সম্পাদনা করুন",-1)),t("form",{onSubmit:D(v,["prevent"])},[t("div",K,[e[2]||(e[2]=t("label",{class:"block mb-1 font-medium"},"সাবজেক্ট নাম",-1)),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>d.value.name=o),type:"text",class:"input-1 w-full",placeholder:"নাম লিখুন",required:""},null,512),[[z,d.value.name]])]),t("div",O,[e[3]||(e[3]=t("label",{class:"block mb-1 font-medium"},"জামাত",-1)),w(t("select",{"onUpdate:modelValue":e[1]||(e[1]=o=>d.value.zamat_id=o),class:"input-1 w-full",required:""},[(a(!0),u(k,null,S(C(i).zamats,o=>(a(),u("option",{key:o.id,value:o.id},x(o.name),9,P))),128))],512),[[V,d.value.zamat_id]])]),t("div",{class:"flex justify-end space-x-2"},[t("button",{type:"button",class:"btn-3",onClick:b},"বাতিল করুন"),e[4]||(e[4]=t("button",{type:"submit",class:"btn-2"},"আপডেট করুন",-1))])],32)])]))}},R={class:"modal-bg"},W={__name:"DeleteSubjectModal",props:["subject"],emits:["close"],setup(_,{emit:r}){const m=g(),i=r,c=_,s=async()=>{await m.deleteSubject(c.subject.id),i("close")},d=()=>{i("close")};return(v,b)=>(a(),u("div",R,[t("div",{class:"modal-card"},[b[0]||(b[0]=t("h2",{class:"text-xl font-semibold mb-4"},"সাবজেক্ট ডিলিট নিশ্চিত করুন",-1)),b[1]||(b[1]=t("p",{class:"mb-4"},"আপনি কি নিশ্চিত এই সাবজেক্টটি ডিলিট করতে চান?",-1)),t("div",{class:"flex justify-end space-x-2"},[t("button",{type:"button",class:"btn-3",onClick:d},"বাতিল করুন"),t("button",{type:"button",class:"btn-contrast",onClick:s},"ডিলিট করুন")])])]))}},X={class:"my-container space-y-4"},Y={class:"flex justify-between items-center"},tt={key:1},et={class:"text-lg font-semibold mb-2"},st={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},lt={class:"text-gray-600 text-sm font-light"},ot={class:"py-3 px-2 text-left whitespace-nowrap"},at={class:"font-medium"},nt={class:"py-3 px-2 text-left"},ut={class:"title-md"},it={class:"py-3 px-2 text-left"},dt={class:"title-md"},ct={class:"py-3 px-2 text-center"},rt={class:"flex item-center justify-center gap-4"},mt=["onClick"],bt=["onClick"],xt={__name:"SubjectList",setup(_){const r=g(),m=f(!1),i=f(!1),c=f(!1),s=f(null),d=o=>{s.value=o,i.value=!0},v=()=>{s.value=null,i.value=!1},b=o=>{s.value=o,c.value=!0},l=()=>{s.value=null,c.value=!1},e=q(()=>{const o={};return r.subjects.forEach(n=>{var y;const p=((y=n.zamat)==null?void 0:y.name)||"Unknown Zamat";o[p]||(o[p]=[]),o[p].push(n)}),o});return r.fetchSubjects(),(o,n)=>(a(),u(k,null,[t("div",X,[t("div",Y,[n[2]||(n[2]=t("h1",{class:"title-lg"},"সাবজেক্ট তালিকা",-1)),t("button",{class:"btn-2",onClick:n[0]||(n[0]=p=>m.value=!0)},"নতুন যুক্ত করুন")]),C(r).loading?(a(),j(L,{key:0})):(a(),u("div",tt,[(a(!0),u(k,null,S(e.value,(p,y)=>(a(),u("div",{key:y,class:"mb-4"},[t("h2",et,x(y),1),t("table",st,[n[5]||(n[5]=t("thead",null,[t("tr",{class:"bg-gray-200 text-gray-700 text-sm leading-normal"},[t("th",{class:"py-3 px-2 text-left"},"#"),t("th",{class:"py-3 px-2 text-left"},"নাম"),t("th",{class:"py-3 px-2 text-left"},"কোড"),t("th",{class:"py-3 px-2 text-center"},"একশন")])],-1)),t("tbody",lt,[(a(!0),u(k,null,S(p,(h,E)=>(a(),u("tr",{key:h.id,class:"border-b border-gray-200 hover:bg-gray-100"},[t("td",ot,[t("p",at,x(E+1),1)]),t("td",nt,[t("p",ut,x(h.name),1)]),t("td",it,[t("p",dt,x(h.code),1)]),t("td",ct,[t("div",rt,[t("button",{onClick:U=>d(h),class:"text-blue-600 hover:text-blue-800"},n[3]||(n[3]=[t("i",{class:"fas fa-edit"},null,-1)]),8,mt),t("button",{onClick:U=>b(h),class:"text-red-600 hover:text-red-800"},n[4]||(n[4]=[t("i",{class:"fas fa-trash"},null,-1)]),8,bt)])])]))),128))])])]))),128))]))]),m.value?(a(),j(H,{key:0,onClose:n[1]||(n[1]=p=>m.value=!1)})):$("",!0),i.value?(a(),j(Q,{key:1,subject:s.value,onClose:v},null,8,["subject"])):$("",!0),c.value?(a(),j(W,{key:2,subject:s.value,onClose:l},null,8,["subject"])):$("",!0)],64))}};export{xt as default};
