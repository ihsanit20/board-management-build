import{_ as H}from"./bks-pmnt-le7Z3-q2.js";import{E as J,o as K,c as i,a as t,b as e,t as l,h as g,z as a,G as O,n as Q,F as W,e as X,p as Y,d}from"./index-Cosqcvzi.js";import{u as Z}from"./application-Br1G5pAp.js";import{f as h,h as tt}from"./html2pdf-B07wDPQO.js";const st={class:"my-container py-4 space-y-4"},et={class:"card-bg md:p-8 p-4 items-center print:hidden space-y-4"},nt={key:0,class:"flex justify-center items-center text-3xl text-green-600 py-8"},lt={key:1,class:"flex justify-center items-center text-3xl text-red-500 py-8"},ot={class:"flex gap-4 justify-center font-bold"},it={key:2,class:"flex flex-col items-center space-y-4"},dt={class:"text-center text-lg"},at={class:"font-bold text-sky-600"},rt={key:0,class:"flex justify-center items-center"},pt={key:1,class:"card-bg p-4 md:p-8 space-y-4"},ut={id:"pdf-section",class:"space-y-4"},mt={class:"space-y-4"},gt={class:"flex flex-col justify-center items-center"},ct={class:"title-md text-center"},yt={class:"grid md:grid-cols-2 gap-1"},ft={class:"flex gap-4 bg-gray-100 p-2 rounded-md"},bt={class:"flex gap-4 bg-gray-100 p-2 rounded-md"},xt={class:"bg-gray-100 p-2 rounded-md"},vt={class:"bg-gray-100 p-2 rounded-md"},_t={class:"bg-gray-100 p-2 rounded-md"},kt={class:"bg-gray-100 p-2 rounded-md"},wt={class:"bg-gray-100 p-2 rounded-md"},jt={class:"bg-gray-100 p-2 rounded-md"},Pt={class:"bg-gray-100 p-2 rounded-md"},Ct={class:"space-y-4"},It={class:"grid md:grid-cols-2 gap-4"},St={class:"flex items-center justify-center"},Dt={class:"bg-sky-200 p-2 rounded-full px-3"},Ft={key:2},Nt={__name:"SuccessMessage",setup(Mt){const A=o=>h(new Date(o),"dd-MMM-yyyy"),m=Z(),L=Y(),{success:c,error:y}=L.query,{loading:$,application:n}=J(m);K(()=>{const o=localStorage.getItem("applicationId"),s=localStorage.getItem("instituteCode");s&&m.fetchPublicApplication(o,s)});const G=async()=>{if(n.value.id){const o=await m.bkashCreatePayment(n.value.id);o.success&&(localStorage.setItem("ReturnTo","SuccessMessage"),window.location=o.bkashURL)}else console.log(n.value)},U=()=>{var r;const o=document.getElementById("pdf-section"),p={margin:1,filename:`application-details-${((r=n.value)==null?void 0:r.id)||"unknown"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};tt().from(o).set(p).save()};return(o,s)=>{var p,r,f,b,x,v,_,k,w,j,P,C,I,S,D,F,M,B,R,z,E,N,T,V;return d(),i("div",st,[t("div",et,[e(c)?(d(),i("div",nt,l(e(c)),1)):g("",!0),e(y)?(d(),i("div",lt,l(e(y)),1)):g("",!0),t("div",null,[s[0]||(s[0]=t("h1",{class:"title-lg text-green-600"},"আপনার নিবন্ধনটি সংরক্ষিত হয়েছে",-1)),t("div",ot,[t("p",null,"নিবন্ধন নং: "+l((p=e(n))==null?void 0:p.id),1),t("p",null,"ইলহাক নং: "+l((f=(r=e(n))==null?void 0:r.institute)==null?void 0:f.id),1)])]),((b=e(n))==null?void 0:b.payment_status)==="Pending"?(d(),i("div",it,[t("p",dt,[t("span",at,l((x=e(n))==null?void 0:x.total_amount),1),s[1]||(s[1]=a(" টাকা আপনাকে অবশ্যই পরিশোধ করতে হবে। আপনি ")),s[2]||(s[2]=t("span",{class:"font-bold text-pink-600"},"বিকাশ",-1)),s[3]||(s[3]=a(" পেমেন্ট করতে পারেন। "))]),t("button",{type:"button",onClick:G,class:"w-52 px-4 py-2 border-2 rounded-lg hover:border-pink-600"},s[4]||(s[4]=[t("img",{src:H,alt:""},null,-1)]))])):g("",!0)]),s[26]||(s[26]=t("div",{class:"text-red-500 text-3xl font-bold text-center print:hidden"}," ভবিষ্যতের জন্য নিচের তথ্যগুলো অবশ্যই সংরক্ষণ করুন। ",-1)),e($)?(d(),i("div",rt,s[5]||(s[5]=[t("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-gray-900"},null,-1)]))):e(n)?(d(),i("div",pt,[t("div",ut,[t("div",mt,[t("div",gt,[s[6]||(s[6]=t("div",{class:""},[t("img",{src:O,alt:"logo",class:"max:h-[100px]"}),t("hr",{class:"py-2"})],-1)),t("h4",ct,l((_=(v=e(n))==null?void 0:v.exam)==null?void 0:_.name),1),s[7]||(s[7]=t("h1",{class:"title-lg text-center"},"নিবন্ধনের বিস্তারিত",-1)),s[8]||(s[8]=t("div",{class:"flex gap-2"},null,-1))]),t("div",yt,[t("div",ft,[s[9]||(s[9]=t("b",null,"নিবন্ধন নং:",-1)),t("p",null,l(e(n).id),1)]),t("div",bt,[s[10]||(s[10]=t("b",null,"নিবন্ধনের তারিখ:",-1)),t("p",null,l(A(e(n).created_at)),1)]),t("div",xt,[s[11]||(s[11]=t("b",null,"অঞ্চল :",-1)),t("p",null,l((w=(k=e(n))==null?void 0:k.area)==null?void 0:w.name),1)]),t("div",vt,[s[12]||(s[12]=t("b",null,"ইলহাক নাম্বার:",-1)),t("p",null,l((P=(j=e(n))==null?void 0:j.institute)==null?void 0:P.id),1)]),t("div",_t,[s[13]||(s[13]=t("b",null,"শিক্ষা প্রতিষ্ঠানের নাম:",-1)),t("p",null,l((I=(C=e(n))==null?void 0:C.institute)==null?void 0:I.name),1)]),t("div",kt,[s[14]||(s[14]=t("b",null,"মারহালা:",-1)),t("p",null,l((D=(S=e(n))==null?void 0:S.zamat)==null?void 0:D.name),1)]),t("div",wt,[s[15]||(s[15]=t("b",null,"গ্রুপ:",-1)),t("p",null,l((M=(F=e(n))==null?void 0:F.group)==null?void 0:M.name),1)]),t("div",jt,[s[16]||(s[16]=t("b",null,"সেন্টার:",-1)),t("p",null,l((R=(B=e(n))==null?void 0:B.center)==null?void 0:R.name),1)]),t("div",Pt,[s[17]||(s[17]=t("b",null,"টাকার পরিমাণ:",-1)),t("p",null,[a(l((z=e(n))==null?void 0:z.total_amount)+" টাকা ",1),t("span",{class:Q([{"text-yellow-600 bg-yellow-200":((E=e(n))==null?void 0:E.payment_status)==="Pending","text-green-600 bg-green-200":((N=e(n))==null?void 0:N.payment_status)==="Paid","text-red-600 bg-red-200":((T=e(n))==null?void 0:T.payment_status)==="Failed"},"py-1 px-2 rounded-full text-xs"])},l((V=e(n))==null?void 0:V.payment_status),3)])])])]),s[23]||(s[23]=t("hr",null,null,-1)),t("div",Ct,[s[22]||(s[22]=t("div",{class:"flex justify-center"},[t("h2",{class:"title-lg"},"পরীক্ষার্থীদের তথ্য")],-1)),t("div",It,[(d(!0),i(W,null,X(e(n).students,(u,q)=>(d(),i("div",{key:q,class:"bg-gray-100 p-4 rounded-md flex gap-4"},[t("div",St,[t("div",Dt,l(q+1),1)]),t("div",null,[t("p",null,[s[18]||(s[18]=t("strong",null,"নাম:",-1)),a(" "+l(u.name),1)]),t("p",null,[s[19]||(s[19]=t("strong",null,"পিতার নাম:",-1)),a(" "+l(u.father_name),1)]),t("p",null,[s[20]||(s[20]=t("strong",null,"জন্ম তারিখ:",-1)),a(" "+l(u.date_of_birth),1)]),t("p",null,[s[21]||(s[21]=t("strong",null,"ঠিকান:",-1)),a(" "+l(u.address),1)])])]))),128))])])]),t("div",{class:"flex justify-center gap-4 print:hidden"},[s[24]||(s[24]=t("button",{onclick:"window.print()",class:"btn-2"},"প্রিন্ট করুন",-1)),t("button",{onClick:U,class:"btn-contrast"},"PDF ডাউনলোড করুন")])])):(d(),i("div",Ft,s[25]||(s[25]=[t("p",null,"নিবন্ধনের তথ্য লোড করতে ব্যর্থ হয়েছে।",-1)])))])}}};export{Nt as default};
