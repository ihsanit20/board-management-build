import{u as _}from"./zamat-CyQiT8SA.js";import{N as Z,r as p,o as k,d as o,c as i,a as t,p as C,j as g,C as D,F as h,e as $,t as y,v as j,B as q,y as M,h as f,k as x,b as S,L as B}from"./index-BIw34FRE.js";import{u as V}from"./department-CMnXRwWs.js";const L={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},A={class:"card-bg md:p-8 p-4 md:w-1/2"},E={class:"mb-4"},U=["value"],F={class:"mb-4"},O={class:"flex justify-center gap-4"},T={__name:"AddZamatModal",emits:["close","saved"],setup(b,{emit:m}){const n=m,r=Z({name:"",department_id:null}),d=_(),u=V(),c=p([]);k(async()=>{await u.fetchDepartments(),c.value=u.departments});const l=async()=>{await d.createZamat(r),n("saved"),n("close")};return(v,s)=>(o(),i("div",L,[t("div",A,[s[7]||(s[7]=t("h2",{class:"text-xl font-bold mb-4"},"মারহালা যুক্ত করুন",-1)),t("form",{onSubmit:C(l,["prevent"])},[t("div",E,[s[4]||(s[4]=t("label",{class:"block mb-2"},"ডিপার্টমেন্ট",-1)),g(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>r.department_id=e),class:"w-full p-2 border rounded",required:""},[s[3]||(s[3]=t("option",{disabled:"",value:""},"Select Department",-1)),(o(!0),i(h,null,$(c.value,e=>(o(),i("option",{key:e.id,value:e.id},y(e.name),9,U))),128))],512),[[D,r.department_id]])]),t("div",F,[s[5]||(s[5]=t("label",{class:"block mb-2"},"নাম",-1)),g(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>r.name=e),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[j,r.name]])]),t("div",O,[s[6]||(s[6]=t("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1)),t("button",{type:"button",onClick:s[2]||(s[2]=e=>n("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},G={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},H={class:"card-bg md:p-8 p-4 md:w-1/2"},I={class:"mb-4"},J=["value"],K={class:"mb-4"},P={class:"flex justify-center gap-4"},Q={__name:"EditZamatModal",props:{zamat:Object},emits:["close","updated"],setup(b,{emit:m}){const n=m,r=b,d=Z({name:"",department_id:null}),u=_(),c=V(),l=p([]);q(()=>r.zamat,s=>{d.name=s.name||"",d.department_id=s.department_id||null},{immediate:!0}),k(async()=>{await c.fetchDepartments(),l.value=c.departments});const v=async()=>{await u.updateZamat(r.zamat.id,d),n("updated"),n("close")};return(s,e)=>(o(),i("div",G,[t("div",H,[e[7]||(e[7]=t("h2",{class:"text-xl font-bold mb-4"},"মারহালা সম্পাদনা",-1)),t("form",{onSubmit:C(v,["prevent"])},[t("div",I,[e[4]||(e[4]=t("label",{class:"block mb-2"},"ডিপার্টমেন্ট",-1)),g(t("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>d.department_id=a),class:"w-full p-2 border rounded",required:""},[e[3]||(e[3]=t("option",{disabled:"",value:""},"Select Department",-1)),(o(!0),i(h,null,$(l.value,a=>(o(),i("option",{key:a.id,value:a.id},y(a.name),9,J))),128))],512),[[D,d.department_id]])]),t("div",K,[e[5]||(e[5]=t("label",{class:"block mb-2"},"নাম",-1)),g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>d.name=a),type:"text",class:"w-full p-2 border rounded",required:""},null,512),[[j,d.name]])]),t("div",P,[e[6]||(e[6]=t("button",{type:"submit",class:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"}," Save ",-1)),t("button",{type:"button",onClick:e[2]||(e[2]=a=>n("close")),class:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600"}," Cancel ")])],32)])]))}},R={class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"},W={class:"card-bg p-4 md:p-8"},X={class:"flex justify-end mt-4"},Y={__name:"DeleteZamatModal",props:{zamat:{type:Object,required:!0}},emits:["close","deleted"],setup(b,{emit:m}){const n=m,r=b,d=_(),u=async()=>{await d.deleteZamat(r.zamat.id),n("deleted"),n("close")};return(c,l)=>(o(),i("div",R,[t("div",W,[l[3]||(l[3]=t("h2",{class:"text-xl font-bold mb-4"},"ডিলেট মারহালা",-1)),t("p",null,[l[1]||(l[1]=M("আপনি কি (")),t("b",null,y(b.zamat.name),1),l[2]||(l[2]=M(") ডিলিট করতে চান?"))]),t("div",X,[t("button",{onClick:l[0]||(l[0]=v=>n("close")),class:"bg-gray-500 text-white px-4 py-2 rounded mr-2 hover:bg-gray-600"}," না "),t("button",{onClick:u,class:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"}," ডিলেট ")])])]))}},tt={class:"my-container space-y-2"},et={class:"flex justify-between items-center"},st={key:1,class:"overflow-x-auto"},at={class:"min-w-full table-auto bg-white shadow-md rounded-lg overflow-hidden"},ot={class:"bg-gray-200 text-gray-700 text-sm leading-normal"},lt={class:"text-gray-600 text-sm font-light"},nt={class:"py-3 px-2 text-left whitespace-nowrap"},dt={class:"flex items-center"},rt={class:"mr-2"},it={class:"font-medium"},mt={class:"py-3 px-2 text-left"},ut={class:"title-md"},ct={class:"py-3 px-2 text-left"},pt={class:"title-md"},bt={key:1},xt={__name:"ZamatList",setup(b){const m=_(),n=p(!1),r=p(!1),d=p(!1),u=p(null),c=p(!0),l=async()=>{n.value=!1,await m.fetchZamats()},v=async()=>{r.value=!1,await m.fetchZamats()},s=()=>d.value=!1;return k(async()=>{try{await m.fetchZamats()}finally{c.value=!1}}),(e,a)=>(o(),i("div",tt,[t("div",et,[a[0]||(a[0]=t("h1",{class:"title-lg"},"মারহালা তালিকা",-1)),f("",!0)]),c.value?(o(),x(B,{key:0})):(o(),i("div",st,[t("table",at,[t("thead",null,[t("tr",ot,[a[1]||(a[1]=t("th",{class:"py-3 px-2 text-left"},"#",-1)),a[2]||(a[2]=t("th",{class:"py-3 px-2 text-left"},"নাম",-1)),a[3]||(a[3]=t("th",{class:"py-3 px-2 text-left"},"বিভাগ",-1)),f("",!0)])]),t("tbody",lt,[S(m).zamats.length?(o(!0),i(h,{key:0},$(S(m).zamats,(w,N)=>{var z;return o(),i("tr",{key:w.id,class:"border-b border-gray-200 hover:bg-gray-100"},[t("td",nt,[t("div",dt,[t("div",rt,[t("p",it,y(N+1),1)])])]),t("td",mt,[t("p",ut,y(w.name),1)]),t("td",ct,[t("p",pt,y(((z=w.department)==null?void 0:z.name)||"N/A"),1)]),f("",!0)])}),128)):(o(),i("tr",bt,a[6]||(a[6]=[t("td",{colspan:"5",class:"text-center text-red-500 py-4"},"No zamats found",-1)])))])])])),n.value?(o(),x(T,{key:2,class:"z-40",onClose:l})):f("",!0),r.value?(o(),x(Q,{key:3,class:"z-40",zamat:u.value,onClose:v},null,8,["zamat"])):f("",!0),d.value?(o(),x(Y,{key:4,class:"z-40",zamat:u.value,onClose:s},null,8,["zamat"])):f("",!0)]))}};export{xt as default};
