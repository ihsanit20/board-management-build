import{P as n,Q as c}from"./index-wkA3WKam.js";const o=n("collectFee",{state:()=>({collectFees:[],collectFee:null,receipt:null,meta:{current_page:1,per_page:15,total:0,last_page:1},loading:!1,error:null,totalAmount:0,paymentMethod:"offline",transactionId:null}),actions:{async fetchCollectFees(t={}){var a,s;this.loading=!0,this.error=null;try{const{data:e}=await c.get("/collect-fees",{params:t});return this.collectFees=Array.isArray(e==null?void 0:e.data)?e.data:[],this.meta=(e==null?void 0:e.pagination)??(e==null?void 0:e.meta)??{current_page:1,per_page:this.meta.per_page??15,total:this.collectFees.length,last_page:1},e}catch(e){throw this.error=((s=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:s.message)||(e==null?void 0:e.message)||"Failed to fetch fee payments",e}finally{this.loading=!1}},async fetchCollectFee(t){var a,s;this.loading=!0,this.error=null;try{const{data:e}=await c.get(`/collect-fees/${t}`);return this.collectFee=(e==null?void 0:e.data)??null,e}catch(e){throw this.error=((s=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:s.message)||(e==null?void 0:e.message)||"Failed to fetch fee payment details",e}finally{this.loading=!1}},async fetchReceipt(t){var a,s;this.loading=!0,this.error=null;try{const{data:e}=await c.get(`/collect-fees/${t}/receipt`);return this.receipt=(e==null?void 0:e.receipt)??(e==null?void 0:e.data)??e??null,e}catch(e){throw this.error=((s=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:s.message)||(e==null?void 0:e.message)||"Failed to fetch money receipt",e}finally{this.loading=!1}},async createCollectFee(t){var a,s;this.loading=!0,this.error=null;try{const{data:e}=await c.post("/collect-fees",t);return this.collectFee=(e==null?void 0:e.data)??e??null,e}catch(e){throw this.error=((s=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:s.message)||(e==null?void 0:e.message)||"Failed to create fee payment",e}finally{this.loading=!1}},async bkashExecutePayment(t,a={}){var s,e;this.loading=!0,this.error=null;try{const{data:l}=await c.post(`/collect-fees/bkash/execute/${t}`,a);return l}catch(l){throw this.error=((e=(s=l==null?void 0:l.response)==null?void 0:s.data)==null?void 0:e.message)||(l==null?void 0:l.message)||"Failed to execute bKash payment",l}finally{this.loading=!1}},async fetchPayments(t={}){return this.fetchCollectFees(t)},async fetchPayment(t){return this.fetchCollectFee(t)},async createPayment(t){return this.createCollectFee(t)}}});export{o as u};
