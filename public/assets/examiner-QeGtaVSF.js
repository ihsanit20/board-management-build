import{O as l,P as i}from"./index-CNINO2pF.js";const d=l("examiner",{state:()=>({examiners:[],examiner:null,loading:!1,error:null}),actions:{async fetchExaminers(){var t,r;this.loading=!0;try{const a=await i.get("/examiners");return this.examiners=a.data,this.examiners}catch(a){this.error=((r=(t=a.response)==null?void 0:t.data)==null?void 0:r.message)||"Failed to fetch examiners"}finally{this.loading=!1}},async fetchExaminer(t){var r,a;this.loading=!0;try{const e=await i.get(`/examiners/${t}`);return this.examiner=e.data,e.data}catch(e){throw this.error=((a=(r=e.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to fetch examiner",e}finally{this.loading=!1}},async createExaminer(t){var r,a;this.loading=!0;try{const e=await i.post("/examiners",t);return this.examiners.push(e.data),e.data}catch(e){throw this.error=((a=(r=e.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to create examiner",e}finally{this.loading=!1}},async createExaminerPublic(t){var r,a;this.loading=!0;try{const e=await i.post("/examiners-public",t);return this.examiners.push(e.data),e.data}catch(e){throw this.error=((a=(r=e.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to create examiner",e}finally{this.loading=!1}},async updateExaminer(t,r){var a,e;this.loading=!0;try{const s=await i.put(`/examiners/${t}`,r),n=this.examiners.findIndex(o=>o.id===t);n!==-1&&(this.examiners[n]=s.data)}catch(s){this.error=((e=(a=s.response)==null?void 0:a.data)==null?void 0:e.message)||"Failed to update examiner"}finally{this.loading=!1}},async deleteExaminer(t){var r,a;this.loading=!0;try{await i.delete(`/examiners/${t}`),this.examiners=this.examiners.filter(e=>e.id!==t)}catch(e){this.error=((a=(r=e.response)==null?void 0:r.data)==null?void 0:a.message)||"Failed to delete examiner"}finally{this.loading=!1}},async searchExaminer({examiner_code:t,phone:r}){var a,e;this.loading=!0;try{return(await i.post("/examiner/search",{examiner_code:t,phone:r})).data}catch(s){throw this.error=((e=(a=s.response)==null?void 0:a.data)==null?void 0:e.message)||"Examiner not found",s}finally{this.loading=!1}}}});export{d as u};
