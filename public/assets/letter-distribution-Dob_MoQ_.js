import{O as l,P as a}from"./index-mO3kECjs.js";const h=l("letterDistribution",{state:()=>({centers:[],center:null,loading:!1,error:null}),actions:{async fetchCenters(s={}){var r,t;this.loading=!0,this.error=null;try{const e=await a.get("/letter-distribution-centers",{params:s});this.centers=e.data}catch(e){this.error=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to fetch centers"}finally{this.loading=!1}},async fetchCenter(s){var r,t;this.loading=!0,this.error=null;try{const e=await a.get(`/letter-distribution-centers/${s}`);this.center=e.data}catch(e){this.error=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to fetch center"}finally{this.loading=!1}},async createCenter(s){var r,t;this.loading=!0,this.error=null;try{const e=await a.post("/letter-distribution-centers",s);this.centers.push(e.data)}catch(e){this.error=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to create center"}finally{this.loading=!1}},async updateCenter(s,r){var t,e;this.loading=!0,this.error=null;try{const i=await a.put(`/letter-distribution-centers/${s}`,r),n=this.centers.findIndex(o=>o.id===s);n!==-1&&(this.centers[n]=i.data)}catch(i){this.error=((e=(t=i.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to update center"}finally{this.loading=!1}},async deleteCenter(s){var r,t;this.loading=!0,this.error=null;try{await a.delete(`/letter-distribution-centers/${s}`),this.centers=this.centers.filter(e=>e.id!==s)}catch(e){this.error=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to delete center"}finally{this.loading=!1}},async searchCenterByInstituteCode(s){var r,t;this.loading=!0,this.error=null,this.searchResults=null;try{const e=await a.get("/search-letter-center",{params:{institute_code:s}});this.searchResults=e.data}catch(e){this.error=((t=(r=e.response)==null?void 0:r.data)==null?void 0:t.message)||"Failed to search center"}finally{this.loading=!1}}}});export{h as u};
