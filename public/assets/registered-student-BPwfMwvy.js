import{P as f,r as s,i as y,Q as x}from"./index-DXxrbR31.js";const z=f("registered-student",()=>{const a=s([]),i=s(null),n=s({paid_applications:0,total_students:0}),u=s(!1),l=s(""),d=y(()=>a.value.length);async function c({exam_id:p,zamat_id:m,institute_code:_,sort:g="registration",dir:v="asc"}){var r,o;u.value=!0,l.value="";try{const t={exam_id:p,zamat_id:m,institute_code:_,sort:g,dir:v};typeof t.exam_id=="string"&&t.exam_id!==""&&(t.exam_id=Number(t.exam_id)),typeof t.zamat_id=="string"&&t.zamat_id!==""&&(t.zamat_id=Number(t.zamat_id));const{data:e}=await x.post("/student-applications/registered-students",t);return a.value=Array.isArray(e==null?void 0:e.data)?e.data:[],n.value=(e==null?void 0:e.summary)??{paid_applications:0,total_students:a.value.length},i.value=(e==null?void 0:e.institute)??null,a.value}catch(t){return l.value=((o=(r=t==null?void 0:t.response)==null?void 0:r.data)==null?void 0:o.message)||(t==null?void 0:t.message)||"Failed to load registered students.",a.value=[],n.value={paid_applications:0,total_students:0},i.value=null,null}finally{u.value=!1}}return{students:a,institute:i,summary:n,loading:u,error:l,total:d,fetchRegisteredStudents:c}});export{z as u};
