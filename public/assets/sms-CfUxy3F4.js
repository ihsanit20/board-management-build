import{O as r,P as o}from"./index-BnHJlrLL.js";const i=r("sms",{state:()=>({loading:!1,error:null,success:null,smsLogs:[],smsLogCount:0}),actions:{async sendSms(a={}){var t,s;this.loading=!0,this.error=null,this.success=null;try{const e=await o.post("/send-sms",a);return e.data.success?this.success="SMS sent successfully":this.error="SMS sending failed",e.data}catch(e){throw this.error=((s=(t=e.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to send SMS",e}finally{this.loading=!1}},async fetchSmsLogs(a=10){var t,s;this.loading=!0,this.error=null;try{const e=await o.get("/sms-logs",{params:{per_page:a}});e.data.success?this.smsLogs=e.data.data.data:this.error="Failed to fetch SMS logs"}catch(e){this.error=((s=(t=e.response)==null?void 0:t.data)==null?void 0:s.message)||"Failed to fetch SMS logs"}finally{this.loading=!1}},async fetchSmsLogCount(){var a,t;this.loading=!0,this.error=null;try{const s=await o.get("/sms-logs/count");s.data.success?this.smsLogCount=s.data.total:this.error="Failed to fetch SMS log count"}catch(s){this.error=((t=(a=s.response)==null?void 0:a.data)==null?void 0:t.message)||"Failed to fetch SMS log count"}finally{this.loading=!1}}}});export{i as u};
