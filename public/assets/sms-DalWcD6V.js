import{P as r,Q as l}from"./index-Dk5rDmEI.js";const i=r("sms",{state:()=>({loading:!1,error:null,success:null,smsLogs:[],smsLogCount:0,totalCost:0,smsStockSummary:{total_bought:0,total_spent:0,available_sms:0,available_amount:0,total_amount:0,spent_amount:0}}),actions:{async sendSms(e={}){var a,s;this.loading=!0,this.error=null,this.success=null;try{const t=await l.post("/send-sms",e);return t.data.success?this.success="SMS sent successfully":this.error="SMS sending failed",t.data}catch(t){throw this.error=((s=(a=t.response)==null?void 0:a.data)==null?void 0:s.message)||"Failed to send SMS",t}finally{this.loading=!1}},async fetchSmsLogs(e=10,a=1){var s,t;this.loading=!0,this.error=null;try{const o=await l.get("/sms-logs",{params:{per_page:e,page:a}});o.data.success?this.smsLogs=o.data.data.data:this.error="Failed to fetch SMS logs"}catch(o){this.error=((t=(s=o.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to fetch SMS logs"}finally{this.loading=!1}},async fetchSmsLogCountStock(){var e,a;this.loading=!0,this.error=null;try{const s=await l.get("/sms-logs/count-stock");s.data?this.smsStockSummary={total_bought:s.data.total_bought,total_spent:s.data.total_spent,available_sms:s.data.available_sms,available_amount:s.data.available_amount,total_amount:s.data.total_amount,spent_amount:s.data.spent_amount}:this.error="Failed to fetch SMS stock summary"}catch(s){this.error=((a=(e=s.response)==null?void 0:e.data)==null?void 0:a.message)||"Failed to fetch SMS stock summary"}finally{this.loading=!1}}}});export{i as u};
