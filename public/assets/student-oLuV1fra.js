import{N as l,O as d}from"./index-B2GPrU01.js";const h=l("student",{state:()=>({students:[],student:null,loading:!1,error:null}),actions:{async fetchStudents({applicationId:a,instituteCode:e,zamatId:s,examId:t}={}){var i,r;this.loading=!0;const n={};a&&(n.application_id=a),e&&(n.institute_code=e),s&&(n.zamat_id=s),t&&(n.exam_id=t);try{const o=await d.get("/students",{params:n});this.students=o.data}catch(o){this.error=((r=(i=o.response)==null?void 0:i.data)==null?void 0:r.message)||"Failed to fetch students"}finally{this.loading=!1}},async fetchPrintStudents({applicationId:a,instituteCode:e,zamatId:s}={}){var n,i;this.loading=!0;const t={};a&&(t.application_id=a),e&&(t.institute_code=e),s&&(t.zamat_id=s);try{const r=await d.get("/students-print",{params:t});this.students=r.data}catch(r){this.error=((i=(n=r.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch students"}finally{this.loading=!1}},async fetchStudent(a){var e,s;this.loading=!0;try{const t=await d.get(`/students/${a}`);this.student=t.data}catch(t){this.error=((s=(e=t.response)==null?void 0:e.data)==null?void 0:s.message)||"Failed to fetch student"}finally{this.loading=!1}},async createStudent(a){var e,s;this.loading=!0;try{const t=await d.post("/students",a);this.students.push(t.data)}catch(t){this.error=((s=(e=t.response)==null?void 0:e.data)==null?void 0:s.message)||"Failed to create student"}finally{this.loading=!1}},async updateStudent(a,e){var s,t;this.loading=!0;try{const n=await d.put(`/students/${a}`,e),i=this.students.findIndex(r=>r.id===a);i!==-1&&(this.students[i]=n.data)}catch(n){this.error=((t=(s=n.response)==null?void 0:s.data)==null?void 0:t.message)||"Failed to update student"}finally{this.loading=!1}},async deleteStudent(a){var e,s;this.loading=!0;try{await d.delete(`/students/${a}`),this.students=this.students.filter(t=>t.id!==a)}catch(t){this.error=((s=(e=t.response)==null?void 0:e.data)==null?void 0:s.message)||"Failed to delete student"}finally{this.loading=!1}}}});export{h as u};
